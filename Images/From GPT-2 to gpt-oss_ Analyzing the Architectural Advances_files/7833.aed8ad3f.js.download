"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["7833"],{54400:function(e,t,i){i.d(t,{Z:()=>n.ZN});var n=i(71132)},49597:function(e,t,i){(0,i(6400).createContext)(null)},31541:function(e,t,i){i.d(t,{Eb:()=>c,in:()=>_,r8:()=>d});var n=i(16584),o=i(30396),r=i(94184),l=i.n(r),a=i(11163),s=i(83234);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.tZ)(m,{}),[i,r]=(0,o.eJ)(e);return[i&&t,()=>{r(!1)}]}function m(){return(0,n.tZ)(c,{})}function c(e){let{className:t}=e;return(0,n.tZ)(_,{className:l()(t,"reader2-unread-dot")})}let _=(0,a.L)(s.Z.unreadDot)},74949:function(e,t,i){i.d(t,{IC:()=>eR,P_:()=>eS,Xn:()=>ew,gG:()=>eT});var n=i(7409),o=i(99282),r=i(16584),l=i(6400),a=i(98661),s=i(30396),d=i(94184),m=i.n(d),c=i(18446),_=i.n(c),u=i(71787),p=i(96490),v=i(76789),y=i(9404),h=i(88510),g=i(2156),f=i(50049),b=i(85557),k=i(36569),Z=i(67416),w=i(71960),S=i(6967),B=i(98508),x=i(10247),I=i(84924);i(32351);var C=i(85685),H=i(58474),Y=i(19548),X=i(64719),M=i(35543),q=i(95441);i(36518);var z=i(40647),N=i(60807),P=i(92291),T=i(5952);i(42375);var E=i(13748),A=i(93963);i(85527);var R=i(53678),V=i(16451),O=i(68833),L=i(48980),D=i(54400);i(7882);var U=i(98750),W=i(98914),F=i(60590),K=i(94874),j=i(24547),G=i(15771),J=i(80026);i(86075);var $=i(19081),Q=i(99916),ee=i(84747);i(98248);var et=i(10510);i(15186);var ei=i(58175),en=i(70379),eo=i(76817);i(35449);var er=i(83010),el=i(46585),ea=i(15503);i(27744);var es=i(2009),ed=i(79567);i(81043);var em=i(65575);i(49597);var ec=i(31541);i(70293),i(91400);var e_=i(33555),eu=i(98012),ep=i(48884),ev=i(31377),ey=i(22838),eh=i(60308),eg=i(62515),ef=i(63651),eb=i(84864),ek=i(47929),eZ=i(43883);function ew(e){var t,i;let{activityResult:r,activityResultMaps:l,feedState:a,item:s,idx:d}=e,{publications:m,posts:c,users:_,comments:u,mentions:p,communityComments:v,communityPosts:y,liveStreams:h,liveStreamInvites:g,drafts:f,viralGifts:b,feedItemComments:k,mediaClips:Z}=l,w=a.comments.size?a.comments:u,S=s.comment_id||s.target_comment_id;return(0,o._)((0,n._)({},s),{idx:d,pub:s.publication_id&&m.get(s.publication_id),post:s.target_post_id&&null!==(i=null!==(t=c.get(s.target_post_id))&&void 0!==t?t:f.get(s.target_post_id))&&void 0!==i?i:null,media_clip:s.target_media_clip_id?Z.get(s.target_media_clip_id):null,recent_senders:s.recent_sender_ids&&(0,D.Z)(s.recent_sender_ids,e=>_.get(e)),comment:s.comment_id&&w.get(s.comment_id)||null,target_comment:s.target_comment_id&&w.get(s.target_comment_id)||null,target_user:s.target_user_id&&_.get(s.target_user_id)||null,mention:s.mention_id&&p.get(s.mention_id)||null,community_post:s.community_post_id&&y.get(s.community_post_id)||null,community_comment:s.community_comment_id&&v.get(s.community_comment_id)||null,target_community_post:s.target_community_post_id&&y.get(s.target_community_post_id)||null,target_community_comment:s.target_community_comment_id&&v.get(s.target_community_comment_id)||null,subscription_context:r.itemKeyToSubscriptionContext[s.item_key],target_subscription_note:r.subscriptionNotes.find(e=>{let{publication_id:t,user_id:i}=e;return t===s.publication_id&&i===s.target_user_id}),target_pledge_note:r.pledgeNotes.find(e=>{let{publication_id:t,user_id:i}=e;return t===s.publication_id&&i===s.target_user_id}),feed_item_comment:S&&k.get(S)||null,target_live_stream:("live_stream"===s.type||"live_stream_invite"===s.type||"live_stream_scheduled"===s.type||"live_stream_scheduled_invite"===s.type)&&s.target_live_stream_id&&h.get(s.target_live_stream_id)?h.get(s.target_live_stream_id):null,target_live_stream_invite:("live_stream"===s.type||"live_stream_invite"===s.type||"live_stream_scheduled_invite"===s.type)&&s.target_live_stream_invite_id&&g.get(s.target_live_stream_invite_id)?g.get(s.target_live_stream_invite_id):null,target_live_stream_published_media_upload:function(e){var t;let{item:i,liveStreamPublishedMediaUploads:n,users:o,liveStreamInvites:r}=e;return"live_stream"===i.type&&i.target_live_stream_id?null!==(t=n.find(e=>{if(e.live_stream_id!==i.target_live_stream_id)return!1;if(i.target_live_stream_invite_id){var t,n,l;let a=o.get(null!==(l=null===(t=r.get(i.target_live_stream_invite_id))||void 0===t?void 0:t.invited_user_id)&&void 0!==l?l:0);return(null==a?void 0:null===(n=a.primary_publication)||void 0===n?void 0:n.id)===e.publication_id}return!0}))&&void 0!==t?t:n.find(e=>e.live_stream_id===i.target_live_stream_id):void 0}({item:s,liveStreamPublishedMediaUploads:r.liveStreamPublishedMediaUploads,users:_,liveStreamInvites:g}),viral_gifts:"viral_gift_granted"===s.type&&s.publication_id&&b.get(s.publication_id)?b.get(s.publication_id):null})}let eS=(0,a.memo)(e=>{let{item:t,isUnread:i,readOnly:n}=e,o=eO((0,N.aF)(),t)?eB:ex;return(0,r.tZ)(eC,{item:t,isUnread:i,readOnly:n,children:(0,r.BX)($.tu,{gap:4,flex:"grow",minWidth:0,children:[(0,r.tZ)(eX,{namedSenders:t.recent_senders.slice(0,2),item:t}),(0,r.tZ)(o,{item:t})]})})},_()),eB=e=>{let{item:t}=e,i=t.comment||t.target_comment,n=t.feed_item_comment;if(!i||!n)return null;let o=!!t.post&&"everyone"!==t.post.write_comment_permissions,l="restack"===t.type||"restack_quote"===t.type||"note_like"===t.type;return(0,r.BX)($.tu,{gap:12,flex:"grow",minWidth:0,children:[(0,r.tZ)(T.bN,{comment:i,item:n,paddingRight:16*!!l}),i.attachments&&i.attachments.length>0&&(0,r.tZ)("div",{className:eZ.Z.attachmentContainer,children:(0,r.tZ)(P.yd,{attachments:i.attachments,onAttachmentClick:function(){let{commentId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ea.rw)(n,"activity-page","attachment",{tabId:ey.QP.Activity,extraEventProps:{commentId:e}})},utm_content:n.entity_key})}),(0,r.BX)($.gq,{justifyContent:l?"end":"start",style:{marginTop:l?"-24px":"0"},children:[!l&&(0,r.tZ)(A.$w,{item:n,comment:i,disableRestack:o}),(0,r.tZ)(E.U,{publication:t.pub,post:t.post,comment:i,item:n,parentItem:t})]})]})},ex=e=>{let{item:t}=e,i=function(e){var t,i,n,o,r,l,a,s,d,m,c,_,u,p,v,y,h,g,f,b,k,Z,w,S,B,x,I,C,H,Y,X,M,q,z,N;let P="",T=null===(i=e.target_comment)||void 0===i?void 0:null===(t=i.attachments)||void 0===t?void 0:t.find(e=>"post"===e.type),E=null===(o=e.target_comment)||void 0===o?void 0:null===(n=o.attachments)||void 0===n?void 0:n.find(e=>"comment"===e.type);switch(e.type){case"post_reply":case"note_reply":case"comment_reply":case"comment_mention":case"user_first_note":P=(null===(l=e.comment)||void 0===l?void 0:l.body)||"";break;case"comment_arr":P="".concat(e.comment_new_paid_subs_count&&e.comment_new_paid_subs_count>1?"This note generated ".concat(e.comment_new_paid_subs_count," paid subscribers"):"This note generated 1 paid subscriber").concat((null===(a=e.comment)||void 0===a?void 0:a.body)?": “".concat(e.comment.body,"”"):"");break;case"post_like":P=(null===(s=e.post)||void 0===s?void 0:s.title)||(null===(d=e.post)||void 0===d?void 0:d.description)||"";break;case"media_clip_like":P=(null===(m=e.media_clip)||void 0===m?void 0:m.title)||"";break;case"note_like":case"comment_like":P=(null===(c=e.target_comment)||void 0===c?void 0:c.body)||"";break;case"naked_restack_reaction":P=(null===(_=e.post)||void 0===_?void 0:_.title)||(null===(u=e.feed_item_comment)||void 0===u?void 0:u.comment.body)||"";break;case"post_mention":P=(null===(p=e.mention)||void 0===p?void 0:p.context)||(null===(v=e.post)||void 0===v?void 0:v.description)||"";break;case"restack":case"restack_quote":P="restack_quote"===e.type&&(null==T?void 0:null===(y=T.postSelection)||void 0===y?void 0:y.text)?null==T?void 0:null===(h=T.postSelection)||void 0===h?void 0:h.text:(null===(g=e.target_comment)||void 0===g?void 0:g.body)||(null==T?void 0:null===(f=T.postSelection)||void 0===f?void 0:f.text)||(null==T?void 0:null===(b=T.post)||void 0===b?void 0:b.title)||(null==E?void 0:null===(k=E.comment)||void 0===k?void 0:k.body)||(null===(Z=e.post)||void 0===Z?void 0:Z.title)||(null===(w=e.post)||void 0===w?void 0:w.description)||"";break;case"follow":{let{recent_senders:t}=e;if(t[0]){let{primary_publication:e,handle:i,bio:n}=t[0];P=e?"Writes ".concat(e.name):n||(i?"@".concat(i):"")}else P="";break}case"free_subscription":case"referred_free_subscription":case"new_profile":P=(null===(S=e.recent_senders[0])||void 0===S?void 0:S.bio)||"";break;case"community_comment_like":case"community_comment_mention":case"community_comment_quote_reply":case"community_comment_reply":case"community_post_reply":P=(null===(B=e.community_comment)||void 0===B?void 0:B.body)||"";break;case"community_post_like":P=(null===(x=e.target_community_post)||void 0===x?void 0:x.body)||"";break;case"arr_10k_milestone":case"arr_1k_milestone":case"list_100_milestone":case"list_1k_milestone":P="Congrats! To celebrate this milestone, we’ve created some custom images for you to share on other social networks. ";break;case"viral_post":P="Your post has received a lot of traffic over the last 24 hours";break;case"paid_subscription":P=(null===(I=e.target_subscription_note)||void 0===I?void 0:I.note)||"";break;case"pledged_subscription":P=(null===(C=e.target_pledge_note)||void 0===C?void 0:C.note)||"";break;case"live_stream":P=(null===(H=e.target_live_stream)||void 0===H?void 0:H.title)||"";break;case"live_stream_scheduled":P=(null===(Y=e.target_live_stream)||void 0===Y?void 0:Y.title)?"".concat(null===(X=e.target_live_stream)||void 0===X?void 0:X.title," is happening ").concat((0,eu.Z)(e.target_live_stream.scheduled_at).format("MMM D [at] hh:mm a")):"";break;case"live_stream_scheduled_invite":P=e.target_live_stream?(0,eu.Z)(e.target_live_stream.scheduled_at).isSame((0,eu.Z)(),"day")?"Happening at ".concat((0,eu.Z)(e.target_live_stream.scheduled_at).format("hh:mm a")):(0,eu.Z)(e.target_live_stream.scheduled_at).isSame((0,eu.Z)().add(1,"day"),"day")?"Happening tomorrow at ".concat((0,eu.Z)(e.target_live_stream.scheduled_at).format("hh:mm a")):"Happening ".concat((0,eu.Z)(e.target_live_stream.scheduled_at).format("MMM D [at] hh:mm a")):"";break;case"post_shareable_assets_ready":{let t=(null===(M=e.post)||void 0===M?void 0:M.draft_title)||(null===(q=e.post)||void 0===q?void 0:q.title);P=t?"We've generated several clips for your latest video \"".concat(t,'"'):"We've generated several clips for your latest video";break}case"viral_gift_granted":P=(null===(N=e.viral_gifts)||void 0===N?void 0:null===(z=N.unsent)||void 0===z?void 0:z.length)?"You have new paid subscriptions to send friends":"You have sent all your paid subscriptions to friends"}return(0,eb.truncateWords)(P,300,{quotationMarks:"restack_quote"===e.type&&!!(null==T?void 0:null===(r=T.postSelection)||void 0===r?void 0:r.text)})}(t);if(!i)return null;let n=t.target_post_id&&t.post&&t.pub&&["post_like","media_clip_like","restack","restack_quote"].includes(t.type);return(0,r.BX)(r.HY,{children:[(0,r.tZ)(ei.xv.B3,{as:"p",className:eZ.Z.contentPreview,color:"secondary",style:{paddingRight:20*!!n},children:i}),n&&(0,r.tZ)($.gq,{justifyContent:"end",style:{marginTop:"-24px"},children:(0,r.tZ)(eI,{item:t})})]})};function eI(e){let{item:t}=e,i=(0,en.pm)(),l=(0,N.aF)(),{iString:s}=(0,q.M1)(),{pub:d,post:m}=t,[c,_]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),f=m?(0,ev.getPostAuthor)(d,m):null,b=m&&l&&l.id===(null==f?void 0:f.id),k="/api/v1/notification_settings/post/".concat(null==m?void 0:m.id,"/mute");(0,a.useEffect)(()=>{let e=async()=>{g(!!await (0,L.rd)(k,{method:"GET"}))};b&&c&&e()},[b,c,k]);let Z=async e=>{let t;switch(e){case"1hour":t=1;break;case"8hours":t=8;break;case"24hours":t=24}let l=t?{expires_at:(0,eu.Z)().add(t,"hour").toISOString()}:{};await (0,L.rd)(k,{method:"POST",json:l}),g(!0),i.popToast(e=>(0,r.tZ)(en.FN,(0,o._)((0,n._)({},e),{text:s("Paused notifications"),Icon:p.Z})))},w=async()=>{await (0,L.rd)(k,{method:"DELETE"}),g(!1),i.popToast(e=>(0,r.tZ)(en.FN,(0,o._)((0,n._)({},e),{text:s("Unpaused notifications"),Icon:v.Z})))},S=[(0,r.tZ)(ee.u,{leading:(0,r.tZ)(u.Z,{}),onClick:()=>{if(!m)return;let e=(0,ef.mx9)(d,m);(0,W.vQ)(e),i.popToast(e=>(0,r.tZ)(en.FN,(0,o._)((0,n._)({},e),{text:s("Copied link to clipboard"),Icon:u.Z})))},children:s("Copy link")})].filter(Boolean),B=[b&&(h?(0,r.tZ)(el.WS,{onClick:w,customLabel:s("Unpause notifications")}):(0,r.tZ)(el.KV,{onMute:Z,customLabel:s("Pause notifications")}))].filter(Boolean),x=[0!==S.length&&S,0!==B.length&&(0,r.tZ)(Q.xw,{children:B})];return 0===x.length?null:(0,r.tZ)("div",{style:{position:"relative"},children:(0,r.tZ)(ee.M,{onOpen:()=>{_(!0)},trigger:(0,r.tZ)($.hs,{className:eZ.Z.moreButtonContainer,maxHeight:360,children:(0,r.tZ)(G.hU,{priority:"quaternary",size:"sm",className:eZ.Z.moreButton,"aria-label":s("More options"),children:(0,r.tZ)(y.Z,{size:16})})}),children:x})})}function eC(e){var t;let{item:i,isUnread:l,children:a,readOnly:d}=e,c=(0,er.n)(),[,_]=(0,ec.r8)(!!l,(0,r.tZ)(ec.Eb,{className:eZ.Z.unreadBadge})),u=null!==(t=i.target_comment)&&void 0!==t?t:i.comment,p=(0,s.sO)(null);return(0,U.UM)(p,()=>{var e,t,o;return c(O.FP.ACTIVITY_ITEM_VIEWED,(0,n._)({type:i.type,publication_id:i.publication_id,activity_item_id:i.id,activity_item_key:i.item_key,position:i.idx,comment_type:null==u?void 0:u.post_id?"post":"note",is_unread:l,comment_id:(null===(e=i.target_comment)||void 0===e?void 0:e.id)||(null===(t=i.comment)||void 0===t?void 0:t.id),community_comment_id:i.community_comment_id,community_post_id:i.community_post_id,post_id:null===(o=i.post)||void 0===o?void 0:o.id,user_id:i.target_user_id},i.trackingParams))},{threshold:.2}),(0,r.tZ)(eH,{item:i,children:(0,r.tZ)(em.Uj,{ref:p,linkClassName:m()(eZ.Z.notificationLink,l&&eZ.Z.unread),isPadded:!1,onClick:e=>{c(O.FP.ACTIVITY_ITEM_TAPPED,(0,n._)({type:i.type,position:i.idx,publication_id:i.publication_id,activity_item_id:i.id,activity_item_key:i.item_key,comment_type:null==u?void 0:u.post_id?"post":"note",is_unread:l},i.trackingParams));let t=e.composedPath().some(e=>e instanceof HTMLAnchorElement);if(!e.defaultPrevented&&!t){d||_();let t=(0,ef.n1t)(function(e){var t,i,r,l,a,s,d,m,c,_,u,p,v,y,h;switch(e.type){case"post_reply":return(0,ef.uRy)(e.pub,e.post,{commentId:e.comment_id});case"post_like":case"post_mention":return(0,ef.uRy)(e.pub,e.post);case"media_clip_like":if(e.media_clip&&(null===(i=e.post)||void 0===i?void 0:null===(t=i.publishedBylines)||void 0===t?void 0:t.find(t=>t.id===e.user_id)))return(0,ef.k0y)(e.media_clip,null===(r=e.post)||void 0===r?void 0:r.publishedBylines.find(t=>t.id===e.user_id),{noBase:es.L});break;case"note_reply":case"comment_reply":if((null!==(l=e.sender_count)&&void 0!==l?l:0)>1&&e.target_comment_id&&e.target_comment&&null==e.target_comment.post_id){return h=e.target_comment_id,"/activity/replies/".concat(h)}if(e.comment&&null==e.comment.post_id)return(0,ef.Sgq)(e.comment);return(0,eh.Wnz)(e.pub,e.post,e.comment,{});case"note_like":case"comment_like":if(e.target_comment&&!e.target_comment.post_id)return(0,ef.Sgq)(e.target_comment);return(0,ef.uRy)(e.pub,e.post,{commentId:e.target_comment_id});case"naked_restack_reaction":if(e.feed_item_comment)return(0,ef.Sgq)(e.feed_item_comment.comment);if(e.target_comment)return(0,ef.Sgq)(e.target_comment);return(0,ef.uRy)(void 0,e.post);case"restack":if(e.target_comment&&!e.target_comment.post_id)return(0,ef.Sgq)(e.target_comment);return(0,ef.uRy)(e.pub,e.post,{commentId:e.target_comment_id,comments:!!e.target_comment_id});case"restack_quote":if(e.target_comment)return(0,ef.Sgq)((0,o._)((0,n._)({},e.target_comment),{name:null===(a=e.target_user)||void 0===a?void 0:a.name}));break;case"free_subscription":case"follow":case"new_profile":return(0,ef.NNq)((null===(s=e.target_user)||void 0===s?void 0:s.name)&&e.target_user||eP(e)||e.pub);case"referred_free_subscription":{let t=eP(e);return(null==t?void 0:t.name)?(0,ef.NNq)(t):(0,ef.SVA)(e.pub)}case"comment_mention":case"user_first_note":case"comment_arr":if(e.comment)return(0,ef.Sgq)(e.comment);break;case"community_comment_quote_reply":case"community_comment_reply":case"community_comment_mention":case"community_comment_like":case"community_post_reply":return(0,ef.xC8)({pubId:e.publication_id,postId:e.target_community_post_id,commentId:e.target_community_comment_id,params:{targetReplyId:e.community_comment_id,showTarget:!0}});case"community_post_like":return(0,ef.xC8)({pubId:e.publication_id,postId:e.target_community_post_id});case"viral_post":if(e.post)return(0,ef.cwg)(e.pub,e.post.id,{addBase:!0});break;case"live_stream":if(e.target_live_stream_published_media_upload)return(0,eh.K8_)(e.target_live_stream_published_media_upload.publication_subdomain,e.target_live_stream_published_media_upload.post_slug,{params:{utm_source:ek.b3.activityItem}});if(!(null===(d=e.target_live_stream)||void 0===d?void 0:d.id))break;return(0,W.K1)()?(0,ef.bHR)({liveStreamId:null===(m=e.target_live_stream)||void 0===m?void 0:m.id,utm_source:ek.b3.activityItem,params:{source:"notification"}}):(0,ef.UDR)({liveStreamId:null===(c=e.target_live_stream)||void 0===c?void 0:c.id,utm_source:ek.b3.activityItem,noBase:!0});case"live_stream_scheduled":case"live_stream_scheduled_invite":if(!(null===(_=e.target_live_stream)||void 0===_?void 0:_.id))break;return(0,ef.bHR)({liveStreamId:null===(u=e.target_live_stream)||void 0===u?void 0:u.id,utm_source:ek.b3.activityItem});case"post_shareable_assets_ready":return(0,ef.FKc)({post_id:e.target_post_id,publication_subdomain:null===(p=e.pub)||void 0===p?void 0:p.subdomain});case"viral_gift_granted":if(null===(y=e.viral_gifts)||void 0===y?void 0:null===(v=y.unsent)||void 0===v?void 0:v.length)return(0,ef.b1P)({pub:e.pub,params:{utm_source:ek.b3.activityItem}})}return""}(i),{utm_source:ek.b3.activityItem});(0,W.uX)(t,{event:e,local_navigation:window.location.hostname===ef.pvz.hostname||t.startsWith("/live-stream"),state:{showBack:!0}})}},children:(0,r.BX)($.hs,{gap:8,className:eZ.Z.container,flex:"grow",minWidth:0,children:[(0,r.tZ)(eE,{item:i}),a]})})})}function eH(e){let{item:t,children:i}=e,n=1===t.recent_senders.length?t.recent_senders[0]:null,o=(0,Y.gc)(null==n?void 0:n.id),[l,s]=(0,a.useState)(!1);return!l&&o?(0,r.tZ)($.tu,{paddingY:16,children:(0,r.BX)(J.M5,{radius:"md",border:"detail",padding:20,color:"secondary",cursor:"pointer",onClick:()=>s(!0),children:[(0,r.BX)(ei.xv.B4,{minWidth:0,flex:"grow",children:["This activity item concerns someone"," ","muting"===o?"you’ve muted":"blocking"===o?"you’ve blocked":"who has blocked you","."]}),(0,r.tZ)(ei.xv.B4,{weight:"semibold",decoration:"hover-underline",children:"Show activity"})]})}):(0,r.tZ)(r.HY,{children:i})}function eY(e){let{item:t}=e,i=(0,z.xR)().getConfigFor("enable_user_status_ui"),{iString:n}=(0,q.M1)();if(["arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone","viral_gift_granted"].includes(t.type))return(0,r.tZ)(r.HY,{children:(0,r.tZ)(R.hh,{href:(0,ef.SVA)(t.pub),weight:"medium",ellipsis:!1,children:t.pub.name})});if("viral_post"===t.type&&t.post)return(0,r.tZ)(r.HY,{children:(0,r.tZ)(R.hh,{href:(0,ef.cwg)(t.pub,t.post.id,{addBase:!0}),weight:"medium",ellipsis:!1,children:t.post.title})});if("naked_restack_reaction"===t.type&&!t.sender_count)return null;if("post_shareable_assets_ready"===t.type)return(0,r.tZ)("span",{style:{fontWeight:"bold"},children:"Your clips are ready!"});if("post_mention"===t.type&&t.pub&&0===t.recent_senders.length)return(0,r.tZ)("span",{style:{fontWeight:"bold"},children:t.pub.name});let o=t.recent_senders,l=(0,eo.Q)(o,t);if("comment_arr"===t.type){let e=l.filter(e=>(0,eo.T)(e))[0];if(t.user_id===e.id)return(0,r.tZ)(r.HY,{children:"Your"})}let a=(e,t)=>"comment_arr"===t.type?"".concat(e.name,"'s"):e.name;if("live_stream_scheduled"===t.type&&t.target_user_id===t.user_id){var s,d;return(0,r.tZ)(r.HY,{children:(0,r.tZ)(R.hh,{href:(null===(s=t.target_live_stream)||void 0===s?void 0:s.id)?(0,ef.bHR)({liveStreamId:null===(d=t.target_live_stream)||void 0===d?void 0:d.id,utm_source:ek.b3.activityItem}):"",weight:"medium",ellipsis:!1,children:n("Your live video is scheduled")})})}return(0,r.tZ)(r.HY,{children:l.length>0?l.map(e=>{var n,o;return(0,eo.T)(e)?(0,r.BX)(r.HY,{children:[(0,r.tZ)(C.ProfileHoverCard,{subject:e,utmSource:"notification",children:(0,r.tZ)(R.hh,{weight:"medium",href:(0,ef.NNq)(e),showBack:!0,children:a(e,t)})}),!!(e.bestseller_tier||i&&(null===(n=e.status)||void 0===n?void 0:n.badge))&&(0,r.BX)(r.HY,{children:[" ",(0,r.tZ)(e_.UserBadge,{className:eZ.Z.userBadge,inline:!0,size:"sm",tier:e.bestseller_tier,userBadge:null===(o=e.status)||void 0===o?void 0:o.badge,userId:e.id})]})]}):e.bold?(0,r.tZ)(ei.xv.B3,{weight:"medium",as:"span",children:e.value}):e.value}):"Someone "})}function eX(e){var t,i,l,a,s,d,m,c,_;let{namedSenders:u,item:p}=e;return(0,r.BX)($.tu,{className:eZ.Z.notificationBody,alignItems:"start",gap:8,flex:"grow",children:[(0,r.BX)($.hs,{alignItems:"center",justifyContent:"space-between",flex:"grow",alignSelf:"stretch",gap:8,children:["viral_gift_granted"!==p.type&&(null===(t=p.recent_senders.filter(e=>null==e?void 0:e.name))||void 0===t?void 0:t.length)?(0,r.tZ)(j.H,{users:p.recent_senders,max:6,total:null!==(_=p.sender_count)&&void 0!==_?_:void 0,size:32,renderAvatar:e=>(0,r.tZ)(K.xV,(0,o._)((0,n._)({},e),{noBase:es.L,utmSource:"notification"}))}):(null===(i=p.pub)||void 0===i?void 0:i.logo_url)?(0,r.tZ)(et.wk,{pub:p.pub,size:32}):(null===(l=p.feed_item_comment)||void 0===l?void 0:l.comment)?(0,r.tZ)(j.H,{users:[{id:null===(a=p.feed_item_comment)||void 0===a?void 0:a.comment.id,name:(null===(s=p.feed_item_comment)||void 0===s?void 0:s.comment.name)||"",photo_url:null===(d=p.feed_item_comment)||void 0===d?void 0:d.comment.photo_url}],max:6,size:32,renderAvatar:e=>(0,r.tZ)(K.xV,(0,o._)((0,n._)({},e),{noBase:es.L,utmSource:"notification"}))}):p.target_comment?(0,r.tZ)(j.H,{users:[{id:p.target_comment.id,name:p.target_comment.name||"",photo_url:p.target_comment.photo_url}],max:6,size:32,renderAvatar:e=>(0,r.tZ)(K.xV,(0,o._)((0,n._)({},e),{noBase:es.L,utmSource:"notification"}))}):(null===(m=p.post)||void 0===m?void 0:m.publishedBylines)?(0,r.tZ)(j.H,{users:null===(c=p.post)||void 0===c?void 0:c.publishedBylines,max:6,size:32,renderAvatar:e=>(0,r.tZ)(K.xV,(0,o._)((0,n._)({},e),{noBase:es.L,utmSource:"notification"}))}):null,(0,r.tZ)(eM,{item:p,namedSenders:u})]}),(0,r.tZ)($.tu,{flex:"grow",children:(0,r.BX)(ei.xv.B3,{as:"span",color:"primary",children:[(0,r.tZ)(eY,{item:p})," ",(0,r.tZ)(ei.xv,{as:"span",paddingRight:8,children:function(e,t){var i,n,o,l,a,s,d,m,c,_,u,p,v,y,h,g,f,b,k,Z,w,S,B,x,I,C;let H=(null===(i=e.post)||void 0===i?void 0:i.title)?(0,r.BX)(r.HY,{children:[" ",(0,r.tZ)(R.hh,{href:(0,ef.uRy)(e.pub,e.post),weight:"medium",ellipsis:!1,children:e.post.title})]}):null,Y=null===(o=e.post)||void 0===o?void 0:null===(n=o.publishedBylines)||void 0===n?void 0:n.find(t=>t.id===e.user_id),X=(null===(l=e.media_clip)||void 0===l?void 0:l.title)&&Y&&e.media_clip?(0,r.BX)(r.HY,{children:[" ",(0,r.tZ)(R.hh,{href:(0,ef.k0y)(e.media_clip,Y,{noBase:es.L}),weight:"medium",ellipsis:!1,children:e.media_clip.title})]}):null,M=H?"comment":(null===(a=e.comment)||void 0===a?void 0:a.ancestor_path)?"reply":"note";if("comment_reply"===e.type)switch(e.comment_audience){case"post_author":case"publication_author":return(0,r.BX)(r.HY,{children:["replied to a comment",H&&[" on ",H]]});case"comment_sibling":return(0,r.BX)(r.HY,{children:["also commented",H&&[" on ",H]]});default:return(0,r.BX)(r.HY,{children:["replied to your ",(null===(s=e.comment)||void 0===s?void 0:s.post_id)?"comment":"note",H&&[" on ",H]]})}else if("post_reply"===e.type)return(0,r.BX)(r.HY,{children:["commented on your ",H?["post ",H]:"note"]});else if("post_like"===e.type)return(0,r.BX)(r.HY,{children:["liked your ",H?["post ",H]:"note"]});else if("media_clip_like"===e.type)return(0,r.BX)(r.HY,{children:["liked your ",X?["clip ",X]:"note"]});else if("comment_like"===e.type)return(0,r.BX)(r.HY,{children:["liked your ",H?["comment on ",H]:M]});else if("comment_mention"===e.type)return(0,r.BX)(r.HY,{children:["mentioned you in a"," ",H?["comment on ",H]:M]});else if("post_mention"===e.type){if((t||e.pub)&&(null===(d=e.mention)||void 0===d?void 0:d.mentioned_type)==="user")return(0,r.BX)(r.HY,{children:["mentioned you",H&&[" in ",H]]});if((t||e.pub)&&(null===(m=e.mention)||void 0===m?void 0:m.mentioned_type)==="pub")return(0,r.BX)(r.HY,{children:["mentioned your publication",H&&[" in ",H]]});if(!t&&(null===(c=e.mention)||void 0===c?void 0:c.mentioned_type)==="user")return(0,r.BX)(r.HY,{children:["You were mentioned",H&&[" in ",H]]});else if(!t&&(null===(_=e.mention)||void 0===_?void 0:_.mentioned_type)==="pub")return(0,r.BX)(r.HY,{children:["Your publication was mentioned",H&&[" in ",H]]})}else if("restack"===e.type||"restack_quote"===e.type){let t="restack_quote"===e.type&&(null===(p=e.target_comment)||void 0===p?void 0:null===(u=p.attachments)||void 0===u?void 0:u.find(e=>"post"===e.type));return t&&(null==t?void 0:null===(v=t.postSelection)||void 0===v?void 0:v.text)?(0,r.BX)(r.HY,{children:["quoted your post ",H]}):"restack"===e.type&&e.target_comment?(0,r.BX)(r.HY,{children:["restacked your"," ",e.target_comment.post_id?"comment":e.target_comment.ancestor_path?"reply":"note",H&&[" on ",H]]}):(0,r.BX)(r.HY,{children:["restacked your ",H?["post ",H]:"note"]})}else if("free_subscription"===e.type)return(0,r.BX)(r.HY,{children:["subscribed to"," ",(0,r.tZ)(R.hh,{href:(0,ef.SVA)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})]});else if("follow"===e.type)return(0,r.BX)(r.HY,{children:["followed you",e.pub?(0,r.tZ)(r.HY,{children:(0,r.tZ)(R.hh,{href:(null===(y=e.pub.author)||void 0===y?void 0:y.name)||e.pub.author_name?(0,ef.GR3)((null===(h=e.pub.author)||void 0===h?void 0:h.id)||e.pub.author_id,(null===(g=e.pub.author)||void 0===g?void 0:g.name)||e.pub.author_name):(0,ef.SVA)(e.pub),weight:"medium",ellipsis:!1,children:(null===(f=e.pub.author)||void 0===f?void 0:f.name)||e.pub.author_name||e.pub.name})}):""]});else if("user_first_note"===e.type)return"posted their first note";else if("new_profile"===e.type)return"is on Substack";else if("community_comment_like"===e.type)return"reacted to your reply";else if("community_post_like"===e.type)return"reacted to your thread";else if("community_comment_quote_reply"===e.type||"community_comment_reply"===e.type)return"replied to your message";else if("community_post_reply"===e.type)return"replied to your thread";else if("community_comment_mention"===e.type)return"mentioned you in a reply";else if("note_like"===e.type)return"liked your note";else if("note_reply"===e.type)return"replied to your note";else if("referred_free_subscription"===e.type)return(0,r.BX)(r.HY,{children:["subscribed to"," ",(0,r.tZ)(R.hh,{href:(0,ef.SVA)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})," ","because of your share"]});else if("list_100_milestone"===e.type)return"has reached 100 subscribers";else if("list_1k_milestone"===e.type)return"has reached 1,000 subscribers";else if("arr_1k_milestone"===e.type)return"has reached $1,000 in annual revenue";else if("arr_10k_milestone"===e.type)return"has reached $10,000 in annual revenue";else if("viral_post"===e.type)return"is getting a lot of traffic";else if("naked_restack_reaction"===e.type)return e.sender_count?"liked your ".concat(e.feed_item_comment||e.target_comment?"note":"post"," restack"):"".concat(e.feed_item_comment?e.feed_item_comment.comment.reaction_count:e.target_comment?e.target_comment.reaction_count:null===(b=e.post)||void 0===b?void 0:b.reaction_count," people liked the ").concat(e.feed_item_comment||e.target_comment?"note":"post"," that you restacked");else if("paid_subscription"===e.type)return(0,r.BX)(r.HY,{children:["became a paying subscriber to"," ",(0,r.tZ)(R.hh,{href:(0,ef.SVA)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})]});else if("pledged_subscription"===e.type)return(0,r.BX)(r.HY,{children:["pledged a subscription to"," ",(0,r.tZ)(R.hh,{href:(0,ef.SVA)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})]});else if("live_stream"===e.type){let t=(null===(k=e.target_live_stream)||void 0===k?void 0:k.status)==="active";return(null===(Z=e.target_live_stream)||void 0===Z?void 0:Z.user_is_paywalled)?(null!==(w=e.sender_count)&&void 0!==w?w:0)>1?t?"are live on Substack with paid subscribers":"were live on Substack with paid subscribers":t?"is live on Substack with paid subscribers":"was live on Substack with paid subscribers":(null!==(S=e.sender_count)&&void 0!==S?S:0)>1?t?"are live on Substack":"were live on Substack":t?"is live on Substack":"was live on Substack"}else if("live_stream_scheduled"===e.type){let t=(null===(B=e.target_live_stream)||void 0===B?void 0:B.status)==="active",i=(null===(x=e.target_live_stream)||void 0===x?void 0:x.status)==="scheduled";return e.target_user_id===e.user_id?null:(null!==(I=e.sender_count)&&void 0!==I?I:0)>1?i?"scheduled a live video":t?"are live on Substack":"were live on Substack":i?"scheduled a live video":t?"is live on Substack":"was live on Substack"}else if("live_stream_scheduled_invite"===e.type)return"invited you to go live";else if("live_stream_invite"===e.type){let t=(null===(C=e.target_live_stream)||void 0===C?void 0:C.status)==="active";return"".concat(t?"is inviting":"invited"," you to a live video on Substack")}else if("comment_arr"===e.type)return"note made you $".concat(e.comment_arr_usd||100);return""}(p,!!u[0])}),(0,r.tZ)(eq,{item:p})]})})]})}function eM(e){var t,i,n,o,l,a,s,d,m,c,_,u,p,v;let{item:y,namedSenders:h}=e,{iString:g}=(0,q.M1)(),f=(0,ed.k)(y.target_live_stream),b=(0,M.Xe)(),k=h[0],Z=(0,W.K1)(),w=null!==(m=y.cta)&&void 0!==m?m:null,S=null!==(c=null==w?void 0:w.priority)&&void 0!==c?c:"secondary";return(null==w?void 0:w.type)==="message"&&(null==k?void 0:k.name)?(0,r.tZ)(G.zx,{priority:S,size:"sm",href:(0,eg.gp)({urlParams:{user:(0,ef.JlE)({userId:k.id,userName:k.name})}}),children:g("Message")}):(null==w?void 0:w.type)==="follow"?b.data?(0,r.tZ)(ez,{user:k,text:g("follow"===y.type?"Follow back":"Follow")}):null:(null==w?void 0:w.type)==="share"?(0,r.tZ)(eN,{item:y,pub:y.pub,priority:S}):(null==w?void 0:w.type)==="subscribe"?(0,r.tZ)(G.zx,{priority:"secondary-outline",size:"sm",onClick:()=>{(0,W.uX)((0,ef.W1P)(y.pub,{addBase:!0,params:{utm_source:"recommendation_notification"}}))},children:g("Subscribe")}):(null==w?void 0:w.type)==="live-stream"&&y.target_live_stream?(0,r.tZ)(G.zx,{priority:S,size:"sm",href:y.target_live_stream_published_media_upload?(0,eh.K8_)(y.target_live_stream_published_media_upload.publication_subdomain,y.target_live_stream_published_media_upload.post_slug,{params:{utm_source:ek.b3.activityItem}}):Z?(0,ef.bHR)({liveStreamId:null===(_=y.target_live_stream)||void 0===_?void 0:_.id,utm_source:ek.b3.activityItem,params:{source:"notification"}}):(0,ef.UDR)({liveStreamId:null===(u=y.target_live_stream)||void 0===u?void 0:u.id,utm_source:ek.b3.activityItem,noBase:!0}),localNavigation:!y.target_live_stream_published_media_upload,children:g("Watch now")}):(null==w?void 0:w.type)==="start-livestream-test-run"&&(null===(t=y.target_live_stream)||void 0===t?void 0:t.id)?(0,r.tZ)(G.zx,{priority:S,size:"sm",href:(0,ef.bHR)({liveStreamId:null===(p=y.target_live_stream)||void 0===p?void 0:p.id,utm_source:ek.b3.activityItem,params:{show_test_run:"true"}}),onClick:()=>{var e;(0,O.j)(O.FP.LIVE_STREAM_TEST_RUN_CLICKED,{liveStreamId:null===(e=y.target_live_stream)||void 0===e?void 0:e.id,liveStreamInviteId:y.target_live_stream_invite_id,surface:"live-stream-activity-item"})},children:g("Start test run")}):(null==w?void 0:w.type)==="add-livestream-to-calendar"?(0,r.tZ)(F.m,{priority:S,size:"sm",handleClick:e=>{var t;(0,O.j)(O.FP.ADD_TO_CALENDAR_CLICKED,{liveStreamId:null===(t=y.target_live_stream)||void 0===t?void 0:t.id,surface:"live-stream-activity-item",type:e})},event:f,menuProps:{onOpen:()=>{(0,L.rd)("/api/v1/live_stream/".concat(y.target_live_stream_id,"/rsvp"),{method:"PUT"})}}}):"live_stream_invite"===y.type&&(null===(i=y.target_live_stream)||void 0===i?void 0:i.status)&&["pending","scheduled","active"].includes(null===(n=y.target_live_stream)||void 0===n?void 0:n.status)&&(null===(o=y.target_live_stream)||void 0===o?void 0:o.is_rtmp)&&(null===(l=y.target_live_stream_invite)||void 0===l?void 0:l.status)==="pending"?(0,r.tZ)(G.zx,{priority:"primary",size:"sm",onClick:()=>{window.location.href="/home?live_stream_invite_id=".concat(y.target_live_stream_invite_id)},children:g("View invite")}):(null==w?void 0:w.type)==="live-stream-invite"?(0,r.tZ)(G.zx,{priority:S,size:"sm",onClick:()=>{(0,L.rd)("/api/v1/live_stream/".concat(y.target_live_stream_id,"/invite/").concat(y.target_live_stream_invite_id,"/accept"),{method:"PUT",json:{sendEmails:!0}}).then(e=>{alert(JSON.stringify(e))}).catch(e=>{alert(JSON.stringify(e))})},children:g("Accept invite")}):(null==w?void 0:w.type)==="post-shareable-assets"?(0,r.tZ)(G.zx,{priority:S,size:"sm",href:(0,ef.FKc)({post_id:y.target_post_id,publication_subdomain:null===(v=y.pub)||void 0===v?void 0:v.subdomain}),children:g("Open Draft")}):(null==w?void 0:w.type)==="viral-gift-granted"?(0,r.tZ)(G.zx,{priority:S,size:"sm",href:(0,ef.b1P)({pub:y.pub,params:{utm_source:ek.b3.activityItem}}),children:g("Send gifts")}):(null==w?void 0:w.type)==="download-clip"&&(null==w?void 0:w.deepLink)&&y.pub&&(null===(d=y.media_clip)||void 0===d?void 0:null===(s=d.assets)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:a.media_upload_id)?(0,r.tZ)(G.zx,{priority:S,size:"sm",onClick:()=>{var e,t,i;let n=null===(i=y.media_clip)||void 0===i?void 0:null===(t=i.assets)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.media_upload_id;if(!n)return;let o=(0,eh.Cf3)(y.pub,n),r=document.createElement("a");r.href=o,r.download="",document.body.appendChild(r),r.click(),document.body.removeChild(r)},children:g("Download")}):null}function eq(e){let{item:t}=e;return(0,r.tZ)(V.Ku,{timestamp:t.updated_at})}function ez(e){let{user:t,text:i}=e,{iString:n}=(0,q.M1)(),{isFollowing:o,toggle:l}=(0,M.Sv)(t,"notifications");return(0,a.useMemo)(()=>o,[])?null:(0,r.tZ)(G.zx,{priority:o?"secondary-outline":"primary",size:"sm",onClick:e=>{e.preventDefault(),l()},children:o?n("Following"):i})}function eN(e){let{item:t,pub:i,priority:n}=e,{iString:o}=(0,q.M1)(),[s,d]=(0,a.useState)(!1),m=(0,X.Cq)();return(0,a.useEffect)(()=>{if(s){let e=document.createElement("div");(0,l.render)((0,r.tZ)(()=>{let[n,o]=(0,a.useState)(s);return(0,r.tZ)(q._7,{language:(0,ep.G3)({pub:i}),children:(0,r.tZ)(X.UN,{value:m,children:(0,r.tZ)(H.iL,{isOpen:n,setOpen:t=>{t||e.remove(),o(t),d(t)},pub:i,item:t})})})},{}),e)}},[s]),(0,r.tZ)(G.zx,{priority:n,size:"sm",onClick:e=>{e.preventDefault(),d(!0)},children:o("Share")})}function eP(e){var t;return null!==(t=e.recent_senders.find(e=>e.name))&&void 0!==t?t:null}let eT=new Set(["comment_like","comment_mention","comment_reply","community_comment_like","community_comment_mention","community_comment_quote_reply","community_comment_reply","community_post_like","community_post_reply","free_subscription","new_profile","note_like","note_reply","comment_arr","post_like","post_mention","post_reply","naked_restack_reaction","restack_quote","restack","user_first_note","referred_free_subscription","follow","arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone","viral_post","paid_subscription","pledged_subscription","live_stream","live_stream_scheduled","live_stream_scheduled_invite","post_shareable_assets_ready","viral_gift_granted","media_clip_like"]);function eE(e){let{item:t}=e;return(0,r.tZ)(eA,{type:function(e){let t;if(["post_like","comment_like","community_post_like","community_comment_like","note_like","naked_restack_reaction"].includes(e.type))t="like";else if(["restack","restack_quote"].includes(e.type)){var i,n,o;let r="restack_quote"===e.type&&(null===(n=e.target_comment)||void 0===n?void 0:null===(i=n.attachments)||void 0===i?void 0:i.find(e=>"post"===e.type));t=r&&(null==r?void 0:null===(o=r.postSelection)||void 0===o?void 0:o.text)?"quote":"restack"}else t=["comment_reply","community_post_reply","community_comment_quote_reply","community_comment_reply","note_reply"].includes(e.type)?"comment_sibling"===e.comment_audience?"comment":"reply":["free_subscription","referred_free_subscription"].includes(e.type)?"subscription":["paid_subscription","pledged_subscription"].includes(e.type)?"paid_subscription":["comment_mention","post_mention","community_comment_mention"].includes(e.type)?"mention":["new_profile","user_first_note","live_stream","comment_arr","post_shareable_assets_ready","viral_gift_granted"].includes(e.type)?"promotion":["arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone"].includes(e.type)?"milestone":"follow"===e.type?"follow":["live_stream","live_stream_scheduled","live_stream_invite","live_stream_scheduled_invite","live_stream_host_reminder"].includes(e.type)?"live_stream":"comment";return t}(t)})}function eA(e){let{type:t}=e;return(0,r.tZ)($.hs,{alignItems:"center",justifyContent:"center",className:m()(eZ.Z.reactionBadge,eZ.Z.unelevated,eZ.Z["notification-".concat(t)]),children:"like"===t?(0,r.tZ)(f.Z,{color:"var(--color-accent-fg-red)"}):"comment"===t?(0,r.tZ)(h.Z,{color:"var(--color-accent-fg-cyan)"}):"restack"===t?(0,r.tZ)(x.Z,{color:"var(--color-accent-fg-green)"}):"subscription"===t?(0,r.tZ)(w.Z,{color:"var(--color-accent-fg-orange)"}):"paid_subscription"===t?(0,r.tZ)(Z.Z,{color:"var(--color-accent-fg-orange)"}):"follow"===t?(0,r.tZ)(w.Z,{color:"var(--color-accent-fg-orange)"}):"mention"===t?(0,r.tZ)(k.Z,{color:"var(--color-accent-fg-purple)"}):"quote"===t?(0,r.tZ)(S.Z,{color:"var(--color-accent-fg-yellow)"}):"promotion"===t?(0,r.tZ)(I.Z,{color:"var(--color-accent-fg-purple)"}):"milestone"===t?(0,r.tZ)(g.Z,{color:"var(--color-accent-fg-yellow)"}):"live_stream"===t?(0,r.tZ)(b.Z,{color:"var(--color-accent-fg-red)"}):(0,r.tZ)(B.Z,{color:"var(--color-accent-fg-cyan)"})})}function eR(e){let t=new Map(e.pubs.map(e=>[e.id,e])),i=new Map(e.posts.map(e=>[e.id,e])),n=new Map(e.drafts.map(e=>[e.id,e])),o=new Map(e.users.map(e=>[e.id,e])),r=new Map(e.comments.map(e=>[e.id,e])),l=new Map(e.mentions.map(e=>[e.id,e])),a=new Map(e.communityPosts.map(e=>[e.id,e])),s=new Map(e.communityComments.map(e=>[e.id,e])),d=new Map(e.feedItemComments.map(e=>[e.comment.id,e])),m=new Map((e.liveStreams||[]).map(e=>[e.id,e])),c=new Map((e.liveStreamInvites||[]).map(e=>[e.id,e]));return{publications:t,posts:i,users:o,comments:r,mentions:l,communityPosts:a,communityComments:s,feedItemComments:d,liveStreams:m,liveStreamInvites:c,drafts:n,viralGifts:new Map((e.viralGifts||[]).map(e=>{var t;return[null===(t=e.unsent[0])||void 0===t?void 0:t.publication_id,e]}).filter(e=>!!e[0])),mediaClips:new Map((e.mediaClips||[]).map(e=>[e.id,e]))}}let eV=new Set([ey.Os.comment_reply,ey.Os.comment_mention,ey.Os.note_reply,ey.Os.note_like,ey.Os.post_reply,ey.Os.restack_quote,ey.Os.restack,ey.Os.user_first_note]),eO=(e,t)=>{var i,n;return eV.has(t.type)&&null!==t.feed_item_comment&&((null===(n=t.feed_item_comment)||void 0===n?void 0:null===(i=n.comment)||void 0===i?void 0:i.user_id)!==(null==e?void 0:e.id)||!t.target_post_id&&("restack"===t.type||"restack_quote"===t.type||"note_like"===t.type))}},35449:function(e,t,i){i.d(t,{f:()=>a});var n=i(16584),o=i(80026),r=i(65575),l=i(43883);function a(e){let{count:t=8}=e;return(0,n.tZ)(r.mE,{children:Array(t).fill(0).map(()=>(0,n.tZ)(s,{}))})}function s(e){let{elevated:t=!1}=e;return(0,n.tZ)(r.Uj,{linkClassName:l.Z.notificationLink,isPadded:!1,children:(0,n.BX)(o.hs,{gap:12,className:l.Z.container,flex:"grow",children:[(0,n.tZ)(r.Vm,{width:32,height:32,type:"circle",elevated:t}),(0,n.BX)(o.tu,{gap:12,flex:"grow",children:[(0,n.tZ)(r.Vm,{width:32,height:32,type:"circle",elevated:t}),(0,n.BX)(o.tu,{flex:"grow",gap:8,children:[(0,n.tZ)(r.Vm,{type:"bar",width:"50%",elevated:t}),(0,n.tZ)(r.Vm,{type:"bar",width:"60%",elevated:t}),(0,n.tZ)(r.Vm,{type:"bar",width:"35%",elevated:t})]})]})]})})}}}]);