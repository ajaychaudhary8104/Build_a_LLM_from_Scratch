"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3961"],{97742:function(e,t,i){if(i.d(t,{Z:()=>d}),!/^(1588|1691|2536)$/.test(i.j))var n=i(7409);if(!/^(1588|1691|2536)$/.test(i.j))var l=i(99282);if(!/^(1588|1691|2536)$/.test(i.j))var o=i(98848);var a=i(16584),r=i(64515);if(!/^(1588|1691|2536)$/.test(i.j))var s=i(90406);let d=/^(1588|1691|2536)$/.test(i.j)?null:e=>{var{color:t=s.Hu}=e,i=(0,o._)(e,["color"]);return(0,a.BX)(r.l,(0,l._)((0,n._)({},i),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:t,stroke:"none"},children:[(0,a.tZ)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,a.tZ)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,a.tZ)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"})]}))}},85095:function(e,t,i){i.d(t,{Un:()=>c,am:()=>d});var n=i(16584),l=i(98661),o=i(60807),a=i(48980),r=i(40121);let s=(0,l.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>void 0,profiles:new Map,setProfile:()=>void 0});function d(e){let{value:t,handle:i,children:o}=e,[a,r]=(0,l.useState)({profile:null,loading:!1}),[d,c]=(0,l.useState)(new Map(t?[[i||t.id,{profile:t,loading:!1}]]:[])),u={viewerProfile:a,setViewerProfile:(0,l.useCallback)((e,t)=>{r(i=>i.profile===e&&i.loading===t?i:{profile:e,loading:t})},[]),profiles:d,setProfile:(0,l.useCallback)((e,t,i)=>{c(n=>{var l,o;if((null===(l=n.get(e))||void 0===l?void 0:l.profile)===t&&(null===(o=n.get(e))||void 0===o?void 0:o.loading)===i)return n;let a=new Map(n);return a.set(e,{profile:t,loading:i}),a})},[])};return(0,n.tZ)(s.Provider,{value:u,children:o})}function c(){var e,t,i;let{subjectId:n,subjectName:d,delayLoading:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,o.aF)(),{viewerProfile:p,setViewerProfile:f,profiles:m,setProfile:g}=(0,l.useContext)(s),[v,h]=(0,l.useState)(null);if("string"==typeof n){if(n.includes("-")){let e=n.split("-");n=e[0],d=e.slice(1).join("-")}else n.startsWith("@")&&(n=n.slice(1))}let b=n?m.get(n):null,w=(0,l.useCallback)(async e=>{f(p.profile,!0);let t=(0,r.Hm)(e.name,{hashIfEmpty:!0});try{let i=await (0,a.rd)("/api/v1/user/".concat(e.id,"-").concat(t,"/public_profile/self"));f(i,!1)}catch(e){e instanceof Error&&h(e),f(null,!1)}},[p,f,h]),Z=null==b?void 0:b.profile,k=p.profile,x=(0,l.useCallback)(async e=>{!k&&u&&w(u),g(e,Z,!0);try{let t=d&&(0,r.Hm)(d,{hashIfEmpty:!0}),i=await (t?(0,a.rd)("/api/v1/user/".concat(e,"-").concat(t,"/public_profile")):(0,a.rd)("/api/v1/user/".concat(e,"/public_profile")));g(e,i,!1)}catch(t){t instanceof Error&&h(t),g(e,Z,!1)}},[Z,g,d,k,w,u]);(0,l.useEffect)(()=>{c||(null==b?void 0:b.profile)||(null==b?void 0:b.loading)||v||!n||x(n),c||p.loading||p.profile||v||!u||w(u)},[c,n,x,b,v,p,w,u]);let y=(null===(t=p.profile)||void 0===t?void 0:null===(e=t.publicationUsers)||void 0===e?void 0:e.find(e=>"admin"===e.role||"contributor"===e.role))||{publication:null==u?void 0:null===(i=u.dashboard_pubs)||void 0===i?void 0:i[0]};return{loading:!!(null==b?void 0:b.loading),viewerProfile:p.profile,subjectProfile:null==b?void 0:b.profile,firstEligibleViewerPublication:y,refetch:x,error:v}}s.displayName="ProfileContext"},24421:function(e,t,i){i.d(t,{N:()=>c});var n=i(16584),l=i(94184),o=i.n(l),a=i(82621),r=i(24430),s=i(17043),d=i(98143);function c(e){let{src:t,size:i,framed:l}=e;return(0,n.tZ)(a.Z,{className:o()(r.A.avatar,d.Z.avatar,l&&d.Z.framed),src:(0,s.zF)(t),style:{width:i,height:i,minWidth:i,minHeight:i,objectFit:"cover",margin:0,display:"inline"},width:i,height:i})}},14775:function(e,t,i){i.d(t,{F:()=>p});var n=i(7409),l=i(98848),o=i(16584),a=i(94184),r=i.n(a),s=i(98661),d=i(19081),c=i(4615),u=i(6114);let p=(0,s.forwardRef)((e,t)=>{var{className:i,padding:a=4}=e,s=(0,l._)(e,["className","padding"]);return(0,o.tZ)(c.Sf,{children:(0,o.tZ)(d.tu,(0,n._)({className:r()(u.Z.menu,"elevated",i),bg:"elevated",shadow:"md",border:"detail",radius:"sm",sizing:"border-box",showFocus:!0,gap:2,padding:a,ref:t},s))})})},88326:function(e,t,i){i.d(t,{x:()=>r});var n=i(16584),l=i(61254),o=i(19081),a=i(58175);function r(e){let{title:t,children:i,isFirst:a=!1}=e;return(0,n.BX)(o.tu,{gap:2,children:[!a&&(0,n.tZ)(l.iz,{paddingY:4,pullX:4}),t&&(0,n.tZ)(s,{children:t}),i]})}function s(e){let{children:t}=e;return(0,n.tZ)(a.xv.B5,{color:"secondary",weight:"regular",paddingX:4,paddingTop:4,children:t})}},65523:function(e,t,i){i.d(t,{AM:()=>Z,NO:()=>g,ZN:()=>k,hQ:()=>b,xB:()=>m});var n=i(7409),l=i(16584),o=i(79403),a=i(41352);i(98661);var r=i(29032),s=i(97742),d=i(71068),c=i(15771),u=i(19081),p=i(58175),f=i(23750);let m=e=>{let t,i,{onClose:n,showClose:o=!1,title:a,description:r,icon:s,showDivider:d=!1,alignItems:c="start"}=e;return"center"===c?(t=d?I:B,i=M):(t=d?X:_,i=P),(0,l.BX)(t,{children:[s,(0,l.BX)(i,{children:[a&&(0,l.tZ)(v,{text:a}),r&&(0,l.tZ)(h,{text:r})]}),o&&n&&(0,l.tZ)(b,{onClose:n})]})},g=e=>{let{onClose:t,showClose:i=!1,image:n}=e;return(0,l.BX)(_,{children:[n,i&&t&&(0,l.tZ)(w,{onClose:t})]})},v=e=>{let{text:t}=e;return(0,l.tZ)(o.V.Title,{as:"span",children:(0,l.tZ)(p.xv.B2,{weight:"semibold",color:"primary",children:t})})},h=e=>{let{text:t}=e;return(0,l.tZ)(o.V.Description,{as:"span",children:(0,l.tZ)(p.xv.B3,{color:"secondary",children:t})})},b=e=>{let{onClose:t}=e;return(0,l.tZ)(c.hU,{priority:"quaternary",size:"sm",title:"Close",onClick:t,"aria-label":"close",position:"absolute",className:f.Z.closeButton,children:(0,l.tZ)(a.Z,{size:20})})},w=e=>{let{onClose:t}=e;return(0,l.tZ)(r.C,{children:(0,l.tZ)(c.GI,{priority:"secondary",size:"sm",title:"Close",onClick:t,"aria-label":"close",position:"absolute",className:f.Z.imageCloseButton,children:(0,l.tZ)(a.Z,{size:20})})})},Z=e=>{let{icon:t,bg:i}=e;return(0,l.tZ)(x,{bg:i,children:t})},k=()=>(0,l.tZ)(x,{bg:"accent-orange",children:(0,l.tZ)(s.Z,{height:20})}),x=e=>{let{children:t,bg:i="secondary"}=e;return(0,l.tZ)(u.X2,{display:"flex",flex:"auto",width:48,height:48,bg:i,radius:"sm",alignItems:"center",justifyContent:"center",outline:"detail",children:t})},y={display:"flex",direction:"column",gap:16,paddingX:20,paddingTop:20,alignItems:"start"},z={paddingTop:16,paddingBottom:16,borderBottom:"detail"},C={alignItems:"center"},_=(0,d.zo)((0,n._)({},y)),B=(0,d.zo)((0,n._)({},y,C)),X=(0,d.zo)((0,n._)({},y,z)),I=(0,d.zo)((0,n._)({},y,z,C)),j={display:"flex",direction:"column",gap:4},P=(0,d.zo)((0,n._)({},j)),M=(0,d.zo)((0,n._)({},j,{alignItems:"center",textAlign:"center"}))},88e3:function(e,t,i){i.d(t,{Q:()=>p,l:()=>f});var n=i(16584),l=i(19425),o=i(79403),a=i(94184),r=i.n(a),s=i(98661),d=i(71068),c=i(91400),u=i(68742);let p=e=>{let{children:t}=e;return(0,n.tZ)(l.u.Child,{as:s.Fragment,enter:u.Z.panelEnter,enterFrom:u.Z.panelEnterFrom,enterTo:u.Z.panelEnterTo,leave:u.Z.panelLeave,leaveFrom:u.Z.panelLeaveFrom,leaveTo:u.Z.panelLeaveTo,children:t})},f=(0,s.forwardRef)((e,t)=>{let{children:i,className:l,position:a="default",fullscreenMobile:s,maxFullscreenMobile:p,width:f=440,overflow:m}=e,g=(0,c.XA)();return(0,n.tZ)(o.V.Panel,{ref:t,className:r()(l,(0,d.oB)({display:"flex",radius:"lg"}),u.Z.panel,u.Z["position-".concat(a)],s&&u.Z.fullscreenMobile,g&&s&&u.Z.fullscreenMobileHeight,g&&p&&u.Z.maxFullscreenMobile),style:{width:g||"full"===a?void 0:f,overflow:m},children:i})})},80026:function(e,t,i){i.d(t,{Av:()=>r.A,E7:()=>l.E7,GI:()=>n.GI,M5:()=>o.M5,X2:()=>o.X2,X4:()=>n.X4,ZC:()=>s.ZC,et:()=>a.et,gq:()=>o.gq,hU:()=>n.hU,hh:()=>a.hh,hs:()=>o.hs,iz:()=>s.iz,kG:()=>n.kG,oB:()=>l.oB,sg:()=>o.sg,tu:()=>o.tu,xu:()=>l.xu,xv:()=>a.xv,zo:()=>l.zo,zx:()=>n.zx});var n=i(15771),l=i(71068),o=i(19081),a=i(58175),r=i(91021),s=i(61254)},50368:function(e,t,i){i.d(t,{X:()=>o,p:()=>l});var n=i(98661);let l=(0,n.createContext)({useMobileBottomSheet:!0,close:()=>void 0});function o(){return(0,n.useContext)(l)}},81821:function(e,t,i){i.d(t,{Dt:()=>u,IT:()=>d,Xq:()=>r,r3:()=>a,s:()=>s,tq:()=>o});let n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!=typeof navigator?navigator.userAgent||navigator.vendor:void 0;return t||"undefined"==typeof window||(t=window.opera),!!t&&a(t,e)}function a(e){let{checkFirst4:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.lastIndex=0,l.lastIndex=0,!!(n.test(e)||t&&l.test(e.substr(0,4)))}function r(){return"undefined"==typeof navigator?null:function(e){if(!e.match(/iPad/i)&&!e.match(/iPhone/i))return null;let t=e.indexOf("OS ");return -1===t?null:parseInt(e.substr(t+3,3).replace("_","."))||null}(navigator.userAgent)}function s(){return!!r()}function d(){return"undefined"!=typeof navigator&&s()&&/Version\//.test(navigator.userAgent)}let c=/Android/i;function u(){var e;return"undefined"!=typeof navigator&&(e=navigator.userAgent,c.lastIndex=0,!!e&&c.test(e))}}}]);