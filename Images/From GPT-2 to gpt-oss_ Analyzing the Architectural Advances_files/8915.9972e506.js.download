"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["8915"],{62066:function(e,r,t){t.d(r,{Z:()=>n});let n={toast:"toast-IVcFeu",transition:"transition-WtixRZ",show:"show-IjHUdy",hide:"hide-ZgCsNC"}},28840:function(e,r,t){t.d(r,{Z:()=>n});let n={pageStack:"pageStack-_TN0zS",gap_0:"gap_0-SUYUaT",gap0:"gap_0-SUYUaT",gap_8:"gap_8-Np1Riv",gap8:"gap_8-Np1Riv",gap_16:"gap_16-KBArmz",gap16:"gap_16-KBArmz",linkRow:"linkRow-ddH7S0",isPadded:"isPadded-_aROE_",linkRowA:"linkRowA-pQXF7n",isClickable:"isClickable-EPNJTJ",isSelectable:"isSelectable-tK5w8z",isSelected:"isSelected-Up1BZ3",hoverLink:"hoverLink-g45pgX",input:"input-VtaUja",error:"error-RM8NkE",textarea:"textarea-emWDBj"}},90271:function(e,r,t){t.d(r,{Z:()=>n});let n={publicationPopover:"publicationPopover-UUlUw7",breakOut:"breakOut-Yj9ydV",hoverCardAvatar:"hoverCardAvatar-TlyoAs breakOut-Yj9ydV",hoverCardTitle:"hoverCardTitle-FDhnwq",writesCard:"writesCard-Hm5Y6G",hoverCardSeeAll:"hoverCardSeeAll-cLVjnW",profileHoverCardZone:"profileHoverCardZone-nzh3G9",profileHoverCardTarget:"profileHoverCardTarget-PBxvGm",publicationHoverCardTarget:"publicationHoverCardTarget-sPJ4jb",inline:"inline-lJXy8b",profileHoverCard:"profileHoverCard-nxF9Dj",publicationHoverCard:"publicationHoverCard-hEACM1",profileHoverCardHeader:"profileHoverCardHeader-PjHmnv",profileHoverCardNameRow:"profileHoverCardNameRow-EnCXNz",facepileFace:"facepileFace-lSFZbg"}},1548:function(e,r,t){t.d(r,{M:()=>a});var n=t(16584),i=t(95441);function a(e){let{array:r,limit:t,formatter:a=e=>e,othersFormatter:o=e=>e}=e,l=r.map(a).filter(Boolean).slice(0,t),{iString:c,iPlural:s}=(0,i.M1)(),d=c("and");if(0===l.length)return r.length?s("one person","%1 people",r.length):c("zero people");if(1===l.length)return l[0];if(2===l.length)return(0,n.BX)(n.HY,{children:[l[0]," ",d," ",l[1]]});let u=l.slice(0,-1).map(e=>(0,n.BX)(n.HY,{children:[e,", "]})),h=r.length-l.length;return h>0?(0,n.BX)(n.HY,{children:[u,d," ",o((0,n.BX)(n.HY,{children:[h+1," ",s("other","others",h+1)]}))]}):(0,n.BX)(n.HY,{children:[u,d," ",l[l.length-1]]})}},54371:function(e,r,t){t.d(r,{w:()=>i});var n=t(16584);function i(e){let{size:r=20,stroke:t="var(--color-light-fg-secondary)"}=e;return(0,n.tZ)("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,xmlns:"http://www.w3.org/2000/svg",children:(0,n.tZ)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"})})}},58033:function(e,r,t){t.d(r,{$:()=>l});var n=t(7409),i=t(99282),a=t(98848),o=t(16584);function l(e){var{size:r=20,stroke:t="var(--color-light-fg-secondary)"}=e,l=(0,a._)(e,["size","stroke"]);return(0,o.tZ)("svg",(0,i._)((0,n._)({},l),{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,xmlns:"http://www.w3.org/2000/svg",children:(0,o.tZ)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"})}))}},11358:function(e,r,t){t.d(r,{G:()=>f});var n=t(7409),i=t(99282),a=t(16584),o=t(41352),l=t(13742),c=t(35543),s=t(60807),d=t(68833),u=t(65205),h=t(7882),p=t(70379),v=t(64172);function f(e){let{publication:r,profileId:t,onSuccess:f=()=>{},source:g,params:b={}}=e,_=(0,s.aF)(),m=(0,v.Th)(),C=(0,c.oJ)(),{popToast:w}=(0,p.pm)(),{isLoading:Z,refetch:S}=(0,h.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:(0,n._)({publication_id:null==r?void 0:r.id,email:null==_?void 0:_.email,source:g,first_url:u.xY,first_referrer:u.ip,first_session_url:u.ac,first_session_referrer:u.qR,current_url:u.UE,current_referrer:u.xU},b)});return{isLoading:Z,subscribe:async()=>{if(!_||!r){w(e=>(0,a.tZ)(p.FN,(0,i._)((0,n._)({},e),{text:"Something went wrong. Please try again.",Icon:o.Z})));return}try{await S(),w(e=>(0,a.tZ)(p.FN,(0,i._)((0,n._)({},e),{text:"Subscribed to ".concat(r.name),Icon:l.Z}))),f(),m.refetchPublication(r.id),t&&C(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.includes(t)?e:[t,...e]},{revalidate:!1}),(0,d.j)(d.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:g,publication_id:r.id})}catch(e){console.error(e),w(e=>(0,a.tZ)(p.FN,(0,i._)((0,n._)({},e),{text:"There was an issue subscribing to this profile.",Icon:o.Z})))}}}}},80878:function(e,r,t){t.d(r,{Q:()=>l,_:()=>c});var n=t(7409),i=t(99282),a=t(20042),o=t(98914);function l(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.defaultPrevented||(e.preventDefault(),c(r,(0,i._)((0,n._)({},t),{newTab:t.newTab||e.metaKey||e.ctrlKey||1===e.button})))}function c(e){let{native:r=!1,newTab:t=!1,replace:n,state:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:e}).click():r||(0,o.Fo)(e)!==(0,o.Fo)(window.location.href)?window.location.assign(e):"react-router"===window.__SUBSTACK_ROUTER_TYPE__?window.__reactRouterNavigate(s(e),{replace:n,state:i}):((0,a.route)(s(e),n),void 0!==i&&history.replaceState(i,""))}function s(e){try{let{pathname:r,search:t,hash:n}=new URL(e);return"".concat(r).concat(t).concat(n)}catch(r){return e}}},32700:function(e,r,t){t.d(r,{z:()=>p,o:()=>v});var n=t(7409),i=t(99282),a=t(98848),o=t(16584),l=t(19425),c=t(94184),s=t.n(c),d=t(98661),u=t(62372);let h={hoverCardBase:"hoverCardBase-yO6ywL",transition:"transition-YxVfTL",show:"show-yvtGgH",hide:"hide-vMwWLX"},p=e=>{var{className:r="",children:t,layerClassName:l,dontStopPropagation:c,as:s}=e,d=(0,a._)(e,["className","children","layerClassName","dontStopPropagation","as"]);let u=v((0,n._)({className:l},d));return(0,o.BX)(null!=s?s:"div",(0,i._)((0,n._)({className:r},u.triggerProps,u.hoverProps),{onClick:e=>{c||e.stopPropagation()},children:[t,u.layer]}))};function v(e){var{disabled:r,onFetch:t,onOpen:c,content:p,className:v,layerOptions:f,hideOnScroll:g=!1}=e,b=(0,a._)(e,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);let[_,m]=(0,u.XI)({delayEnter:500,delayLeave:250,hideOnScroll:g}),C=(0,d.useRef)(!1);(0,d.useEffect)(()=>{_&&(!C.current&&t&&(C.current=!0,t()),null==c||c())},[_,t,c]);let[w,Z]=(0,d.useState)(!1),{triggerProps:S,layerProps:k,renderLayer:H}=(0,u.sJ)((0,n._)({isOpen:!r&&_,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},f));return{triggerProps:S,hoverProps:m,layer:(_||w)&&!r&&H((0,o.tZ)(l.u,{appear:!0,show:_&&!b.loading,beforeEnter:()=>Z(!0),afterLeave:()=>Z(!1),className:h.transition,enterFrom:h.hide,enterTo:h.show,leaveFrom:h.show,leaveTo:h.hide,children:(0,o.tZ)("div",(0,i._)((0,n._)({className:s()(v,h.hoverCardBase)},k,m),{children:p}))}))}}},11163:function(e,r,t){t.d(r,{L:()=>s});var n=t(7409),i=t(99282),a=t(6400),o=t(98661),l=t(94184),c=t.n(l);function s(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",t=arguments.length>2?arguments[2]:void 0;return(0,o.forwardRef)((o,l)=>(0,a.createElement)(r,(0,i._)((0,n._)({},t,o),{ref:l,className:c()(e,null==o?void 0:o.className)})))}},33017:function(e,r,t){if(t.d(r,{GF:()=>X,Sm:()=>H}),!/^(1588|1691|2536|4457)$/.test(t.j))var n=t(7409);if(!/^(1588|1691|2536|4457)$/.test(t.j))var i=t(98848);var a=t(16584),o=t(94184),l=t.n(o);if(!/^(1588|1691|2536|4457)$/.test(t.j))var c=t(13742);var s=t(60807),d=t(68833),u=t(63018),h=t(94874),p=t(15771),v=t(61254),f=t(19081),g=t(32700),b=t(10510),_=t(58175),m=t(65575),C=t(32189),w=t(60308),Z=t(84864);if(!/^(1588|1691|2536|4457)$/.test(t.j))var S=t(47929);var k=t(90271);let H=e=>{var{publication_id:r,inline:t,utmSource:o}=e,c=(0,i._)(e,["publication_id","inline","utmSource"]);return(0,a.tZ)(g.z,(0,n._)({className:l()(k.Z.publicationHoverCardTarget,t&&k.Z.inline),content:(0,a.tZ)(y,{publicationId:r,utmSource:o}),onFetch:()=>(0,u.OV)("/api/v1/publication/public/".concat(r)),layerClassName:k.Z.publicationHoverCard},c))};function y(e){let{publicationId:r,utmSource:t}=e,{data:n}=(0,u._I)("/api/v1/publication/public/".concat(r)),i=(0,s.aF)();if(!n)return(0,a.tZ)(T,{});let{pub:o}=n;(0,d.j)(d.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:o.id});let l=o.contributors,c=null;return l&&l.length>3&&(c="See all (".concat((0,Z.numberToString)(l.length),")"),l=l.slice(0,3)),(0,a.BX)(f.sg,{gap:16,padding:8,children:[(0,a.tZ)(B,{pub:n.pub,url:n.pub.base_url}),(0,a.tZ)(x,{isContr:n.isContributor,isSubs:n.isSubscribed,pub:n.pub,user:i,utmSource:t}),(0,a.tZ)(v.iz,{}),(0,a.tZ)(N,{contributors:l,seeAllLabel:c,redirLink:n.pub.base_url,utmSource:t})]})}function B(e){var r,t,n,i;let{url:o,pub:l}=e,c=l.name||"",s=null!==(r=l.subdomain)&&void 0!==r?r:"",d=null!==(t=l.hero_text)&&void 0!==t?t:"",u=null!==(i=null!==(n=l.rankingDetail)&&void 0!==n?n:l.rankingDetailFreeSubscriberCount)&&void 0!==i?i:void 0;return(0,a.BX)(f.sg,{gap:8,children:[(0,a.BX)(f.X2,{gap:12,alignItems:"center",children:[(0,a.BX)(f.sg,{gap:2,flex:"grow",children:[(0,a.tZ)(_.hh,{href:o,children:(0,a.tZ)(_.xv.H4,{children:c})}),(0,a.tZ)(_.hh,{href:o,children:(0,a.tZ)(_.xv.Meta,{children:"@".concat(s)})})]}),(0,a.tZ)("a",{href:o,children:(0,a.tZ)(b.wk,{pub:l,size:64})})]}),d&&(0,a.tZ)(_.xv.B3,{clamp:3,children:d}),u&&(0,a.tZ)(_.xv.Meta,{ellipsis:!0,children:u.toUpperCase()})]})}function x(e){let{isContr:r,isSubs:t,pub:n,user:i,utmSource:o}=e,l=(0,C.x)({surface:"profile"});return r?null:(0,a.tZ)(f.sg,{flex:"grow",children:!r&&t?(0,a.tZ)(p.zx,{priority:"secondary-outline",href:(0,w.W1P)(n,{user:i,addBase:!0,utm_source:o||S.b3.pubHoverCard,utm_medium:S.lP.web,utm_campaign:S.VX.profilePage}),leading:(0,a.tZ)(c.Z,{size:20}),children:"Subscribed"}):(0,a.tZ)(p.zx,{priority:"primary",href:(0,w.W1P)(n,{user:i,addBase:!0,utm_source:o||S.b3.pubHoverCard,utm_medium:S.lP.web,utm_campaign:S.VX.profilePage}),onClick:l(n),children:"Subscribe"})})}function N(e){let{contributors:r,seeAllLabel:t,redirLink:n,utmSource:i}=e;return(0,a.BX)(f.sg,{children:[(0,a.tZ)(X,{sectionTitle:"Written by",seeAllLabel:t,link:"".concat(n,"/about?sort=people")}),(0,a.tZ)(f.sg,{children:r.map(e=>(0,a.tZ)(P,{profile:e,utmSource:i}))})]})}function P(e){let{profile:r,utmSource:t}=e;return(0,a.BX)("a",{href:(0,w.GR3)(r.user_id,r.name,{searchParams:{utm_source:t}}),className:k.Z.hoverCardAvatar,children:[(0,a.tZ)(h.qE,{user:r,size:32}),(0,a.tZ)(_.xv,{font:"text",weight:"semibold",size:14,lineHeight:20,children:r.name})]})}function T(){return(0,a.BX)(f.sg,{padding:8,gap:8,children:[(0,a.tZ)(m.Vm,{size:56,style:{borderRadius:4}}),(0,a.tZ)(m.Vm,{type:"bar",width:"100%",height:20}),(0,a.tZ)(m.Vm,{type:"bar",width:"20%",height:20}),(0,a.tZ)(m.Vm,{type:"bar",width:"60%",height:20})]})}function X(e){let{sectionTitle:r,seeAllLabel:t,link:n}=e;return(0,a.BX)(f.X2,{justifyContent:"space-between",children:[(0,a.tZ)(_.xv.Meta,{color:"secondary",children:r}),t&&(0,a.tZ)("a",{className:k.Z.hoverCardSeeAll,href:n,children:(0,a.tZ)(_.xv.B4,{children:t})})]})}},66611:function(e,r,t){t.d(r,{L:()=>n.L});var n=t(11163)}}]);