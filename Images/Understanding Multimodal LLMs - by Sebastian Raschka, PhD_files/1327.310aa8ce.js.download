"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["1327"],{30356:function(e,t,i){i.d(t,{k:()=>u});var n=i(7409),l=i(99282),o=i(98848),a=i(16584),r=i(94184),s=i.n(r),c=i(80026),d=i(17043);function u(e){var{src:t,width:i,height:r,sourceFormats:u=["webp"],radius:m,className:f,options:g}=e,v=(0,o._)(e,["src","width","height","sourceFormats","radius","className","options"]);let h=[i,2*i,3*i],b=i/r,w=(0,l._)((0,n._)({crop:"fill"},g),{height:r}),Z="".concat(i,"px"),y=h.map(e=>({width:e,height:Math.floor(e/b)}));return(0,a.BX)("picture",{className:p,children:[u.map(e=>(0,a.tZ)("source",{type:"image/".concat(e),srcSet:y.map(i=>{let{width:o,height:a}=i;return"".concat((0,d.zF)(t,o,(0,l._)((0,n._)({},w),{height:a,format:e}))," ").concat(o,"w")}).join(", ")},e)),(0,a.tZ)("img",(0,l._)((0,n._)({src:(0,d.zF)(t,i,w),srcSet:y.map(e=>{let{width:i,height:o}=e;return"".concat((0,d.zF)(t,i,(0,l._)((0,n._)({},w),{height:o}))," ").concat(i,"w")}).join(", "),sizes:Z,width:i,height:r},v),{className:s()(f,(0,c.oB)({radius:m}))}))]})}let p=(0,c.oB)({display:"contents"})},97742:function(e,t,i){if(i.d(t,{Z:()=>c}),!/^(1691|2536|8014)$/.test(i.j))var n=i(7409);if(!/^(1691|2536|8014)$/.test(i.j))var l=i(99282);if(!/^(1691|2536|8014)$/.test(i.j))var o=i(98848);var a=i(16584),r=i(64515);if(!/^(1691|2536|8014)$/.test(i.j))var s=i(90406);let c=/^(1691|2536|8014)$/.test(i.j)?null:e=>{var{color:t=s.Hu}=e,i=(0,o._)(e,["color"]);return(0,a.BX)(r.l,(0,l._)((0,n._)({},i),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:t,stroke:"none"},children:[(0,a.tZ)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,a.tZ)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,a.tZ)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"})]}))}},85095:function(e,t,i){i.d(t,{Un:()=>d,am:()=>c});var n=i(16584),l=i(98661),o=i(60807),a=i(48980),r=i(40121);let s=(0,l.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>void 0,profiles:new Map,setProfile:()=>void 0});function c(e){let{value:t,handle:i,children:o}=e,[a,r]=(0,l.useState)({profile:null,loading:!1}),[c,d]=(0,l.useState)(new Map(t?[[i||t.id,{profile:t,loading:!1}]]:[])),u={viewerProfile:a,setViewerProfile:(0,l.useCallback)((e,t)=>{r(i=>i.profile===e&&i.loading===t?i:{profile:e,loading:t})},[]),profiles:c,setProfile:(0,l.useCallback)((e,t,i)=>{d(n=>{var l,o;if((null===(l=n.get(e))||void 0===l?void 0:l.profile)===t&&(null===(o=n.get(e))||void 0===o?void 0:o.loading)===i)return n;let a=new Map(n);return a.set(e,{profile:t,loading:i}),a})},[])};return(0,n.tZ)(s.Provider,{value:u,children:o})}function d(){var e,t,i;let{subjectId:n,subjectName:c,delayLoading:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,o.aF)(),{viewerProfile:p,setViewerProfile:m,profiles:f,setProfile:g}=(0,l.useContext)(s),[v,h]=(0,l.useState)(null);if("string"==typeof n){if(n.includes("-")){let e=n.split("-");n=e[0],c=e.slice(1).join("-")}else n.startsWith("@")&&(n=n.slice(1))}let b=n?f.get(n):null,w=(0,l.useCallback)(async e=>{m(p.profile,!0);let t=(0,r.Hm)(e.name,{hashIfEmpty:!0});try{let i=await (0,a.rd)("/api/v1/user/".concat(e.id,"-").concat(t,"/public_profile/self"));m(i,!1)}catch(e){e instanceof Error&&h(e),m(null,!1)}},[p,m,h]),Z=null==b?void 0:b.profile,y=p.profile,k=(0,l.useCallback)(async e=>{!y&&u&&w(u),g(e,Z,!0);try{let t=c&&(0,r.Hm)(c,{hashIfEmpty:!0}),i=await (t?(0,a.rd)("/api/v1/user/".concat(e,"-").concat(t,"/public_profile")):(0,a.rd)("/api/v1/user/".concat(e,"/public_profile")));g(e,i,!1)}catch(t){t instanceof Error&&h(t),g(e,Z,!1)}},[Z,g,c,y,w,u]);(0,l.useEffect)(()=>{d||(null==b?void 0:b.profile)||(null==b?void 0:b.loading)||v||!n||k(n),d||p.loading||p.profile||v||!u||w(u)},[d,n,k,b,v,p,w,u]);let x=(null===(t=p.profile)||void 0===t?void 0:null===(e=t.publicationUsers)||void 0===e?void 0:e.find(e=>"admin"===e.role||"contributor"===e.role))||{publication:null==u?void 0:null===(i=u.dashboard_pubs)||void 0===i?void 0:i[0]};return{loading:!!(null==b?void 0:b.loading),viewerProfile:p.profile,subjectProfile:null==b?void 0:b.profile,firstEligibleViewerPublication:x,refetch:k,error:v}}s.displayName="ProfileContext"},24421:function(e,t,i){i.d(t,{N:()=>d});var n=i(16584),l=i(94184),o=i.n(l),a=i(82621),r=i(24430),s=i(17043),c=i(98143);function d(e){let{src:t,size:i,framed:l}=e;return(0,n.tZ)(a.Z,{className:o()(r.A.avatar,c.Z.avatar,l&&c.Z.framed),src:(0,s.zF)(t),style:{width:i,height:i,minWidth:i,minHeight:i,objectFit:"cover",margin:0,display:"inline"},width:i,height:i})}},65523:function(e,t,i){i.d(t,{AM:()=>k,NO:()=>h,ZN:()=>x,hQ:()=>Z,xB:()=>v});var n=i(7409),l=i(16584),o=i(79403),a=i(94184),r=i.n(a),s=i(41352);i(98661);var c=i(29032),d=i(97742),u=i(71068),p=i(15771),m=i(19081),f=i(58175),g=i(23750);let v=e=>{let t,i,{onClose:n,showClose:o=!1,title:a,description:r,icon:s,showDivider:c=!1,alignItems:d="start"}=e;return"center"===d?(t=c?I:P,i=V):(t=c?F:B,i=N),(0,l.BX)(t,{children:[s,(0,l.BX)(i,{children:[a&&(0,l.tZ)(b,{text:a}),r&&(0,l.tZ)(w,{text:r})]}),o&&n&&(0,l.tZ)(Z,{onClose:n})]})},h=e=>{let{onClose:t,showClose:i=!1,image:n}=e;return(0,l.BX)(B,{children:[n,i&&t&&(0,l.tZ)(y,{onClose:t})]})},b=e=>{let{text:t}=e;return(0,l.tZ)(o.V.Title,{as:"span",children:(0,l.tZ)(f.xv.B2,{weight:"semibold",color:"primary",children:t})})},w=e=>{let{text:t}=e;return(0,l.tZ)(o.V.Description,{as:"span",children:(0,l.tZ)(f.xv.B3,{color:"secondary",children:t})})},Z=e=>{let{onClose:t,position:i="absolute"}=e;return(0,l.tZ)(p.hU,{priority:"quaternary",size:"sm",title:"Close",onClick:t,"aria-label":"close",position:i,className:r()(g.Z.closeButton,g.Z[i]),children:(0,l.tZ)(s.Z,{size:20})})},y=e=>{let{onClose:t}=e;return(0,l.tZ)(c.C,{children:(0,l.tZ)(p.GI,{priority:"secondary",size:"sm",title:"Close",onClick:t,"aria-label":"close",position:"absolute",className:g.Z.imageCloseButton,children:(0,l.tZ)(s.Z,{size:20})})})},k=e=>{let{icon:t,bg:i}=e;return(0,l.tZ)(z,{bg:i,children:t})},x=()=>(0,l.tZ)(z,{bg:"accent-orange",children:(0,l.tZ)(d.Z,{height:20})}),z=e=>{let{children:t,bg:i="secondary"}=e;return(0,l.tZ)(m.X2,{display:"flex",flex:"auto",width:48,height:48,bg:i,radius:"sm",alignItems:"center",justifyContent:"center",outline:"detail",children:t})},_={display:"flex",direction:"column",gap:16,paddingX:20,paddingTop:20},C={paddingTop:16,paddingBottom:16,borderBottom:"detail"},j={alignItems:"center"},B=(0,u.zo)((0,n._)({},_)),P=(0,u.zo)((0,n._)({},_,j)),F=(0,u.zo)((0,n._)({},_,C)),I=(0,u.zo)((0,n._)({},_,C,j)),M={display:"flex",direction:"column",gap:4},N=(0,u.zo)((0,n._)({},M)),V=(0,u.zo)((0,n._)({},M,{alignItems:"center",textAlign:"center"}))},88e3:function(e,t,i){i.d(t,{Q:()=>p,l:()=>m});var n=i(16584),l=i(19425),o=i(79403),a=i(94184),r=i.n(a),s=i(98661),c=i(71068),d=i(91400),u=i(68742);let p=e=>{let{children:t}=e;return(0,n.tZ)(l.u.Child,{as:s.Fragment,enter:u.Z.panelEnter,enterFrom:u.Z.panelEnterFrom,enterTo:u.Z.panelEnterTo,leave:u.Z.panelLeave,leaveFrom:u.Z.panelLeaveFrom,leaveTo:u.Z.panelLeaveTo,children:t})},m=(0,s.forwardRef)((e,t)=>{let{children:i,className:l,position:a="default",fullscreenMobile:s,maxFullscreenMobile:p,width:m=440,overflow:f}=e,g=(0,d.XA)();return(0,n.tZ)(o.V.Panel,{ref:t,className:r()(l,(0,c.oB)({display:"flex",radius:"lg"}),u.Z.panel,u.Z["position-".concat(a)],s&&u.Z.fullscreenMobile,g&&s&&u.Z.fullscreenMobileHeight,g&&p&&u.Z.maxFullscreenMobile),style:{width:g||"full"===a?void 0:m,overflow:f},children:i})})},82658:function(e,t,i){i.d(t,{v:()=>o});var n=i(95441),l=i(76641);function o(e){let{value:t,format:i,currency:o,currencyIsMinorUnits:a}=e,{userLocale:r}=(0,n.M1)();return(0,l.L)(t,i,o,a,r)}},81821:function(e,t,i){i.d(t,{Dt:()=>u,IT:()=>c,Xq:()=>r,r3:()=>a,s:()=>s,tq:()=>o});let n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!=typeof navigator?navigator.userAgent||navigator.vendor:void 0;return t||"undefined"==typeof window||(t=window.opera),!!t&&a(t,e)}function a(e){let{checkFirst4:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.lastIndex=0,l.lastIndex=0,!!(n.test(e)||t&&l.test(e.substr(0,4)))}function r(){return"undefined"==typeof navigator?null:function(e){if(!e.match(/iPad/i)&&!e.match(/iPhone/i))return null;let t=e.indexOf("OS ");return -1===t?null:parseInt(e.substr(t+3,3).replace("_","."))||null}(navigator.userAgent)}function s(){return!!r()}function c(){return"undefined"!=typeof navigator&&s()&&/Version\//.test(navigator.userAgent)}let d=/Android/i;function u(){var e;return"undefined"!=typeof navigator&&(e=navigator.userAgent,d.lastIndex=0,!!e&&d.test(e))}}}]);