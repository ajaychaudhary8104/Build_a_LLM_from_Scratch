"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["2888"],{81352:function(e,i,t){t.d(i,{Z:()=>n});let n={activeLike:"activeLike-n4wXdc",activeSave:"activeSave-UgcaYI",actionMenu:"actionMenu-PHX5iz",relative:"relative-IkyQqe"}},55749:function(e,i,t){t.d(i,{Z:()=>n});let n={queue:"queue-EZRP7x",cardWrapper:"cardWrapper-qR0zV5",smallCardWrapper:"smallCardWrapper-GidLX3",archived:"archived-tVgnOK",arrow:"arrow-M1xp9f",disabled:"disabled-C1q6TH",link:"link-gPxpTf",highlight:"highlight-khGgmH",border:"border-Sobc4n",playButtonContainer:"playButtonContainer-SkXFOr",playButton:"playButton-NfBL9x",logoContainerShadow:"logoContainerShadow-MadM6a",cornerLogo:"cornerLogo-sq79Zv",vibranceTertiaryIcon:"vibranceTertiaryIcon-FMLmJq",vibranceSecondaryText:"vibranceSecondaryText-mI5k5T",vibranceTertiaryBg:"vibranceTertiaryBg-dway6D",closeButton:"closeButton-dm0qJO",closeIcon:"closeIcon-dUQ0_l",card:"card-DZvXCa",smallCard:"smallCard-QlKXKt",cardBg:"cardBg-Vnz3e5",cardTop:"cardTop-qa11Ls",bigCardTop:"bigCardTop-xISBuI",smallCardTop:"smallCardTop-YuCbBT",gifPreview:"gifPreview-jTpyu3",coverImage:"coverImage-h44eo2",audioWaveform:"audioWaveform-QTkNO2",audioLogoContainer:"audioLogoContainer-yUWOV3",cardBottom:"cardBottom-KjkXaq",smallCardRight:"smallCardRight-A8Afqo",titleContainerMinHeight:"titleContainerMinHeight-QKOvED",title:"title-EwaRJw",smallCardAuthor:"smallCardAuthor-MXnD06",iconButton:"iconButton-g5L_4l",isSaved:"isSaved-Ml5fNZ",newIconButton:"newIconButton-AH4esm",livePreview:"livePreview-t_LWyR",blur:"blur-Q0P53N",explicitIcon:"explicitIcon-otqJ1H"}},97501:function(e,i,t){t.d(i,{Z:()=>n});let n={container:"container-fi9IrN",nav:"nav-ptYSWX"}},68057:function(e,i,t){t.d(i,{F:()=>m});var n=t(7409),a=t(99282),r=t(16584),l=t(95441),o=t(68833),d=t(71068),c=t(15771),u=t(82402),s=t(19081),p=t(10510),h=t(58175);function m(e){let{profile:i,onFinalizeVisibility:t,onSetVisibility:d,source:u,hideButton:p}=e,{iString:h}=(0,l.M1)();if(!i)return null;let m=i.subscriptions.every(e=>{let{visibility:i}=e;return"public"===i}),v=e=>t=>{d(i.subscriptions.reduce((i,r)=>{let{visibility:l,publication:o}=r;return(0,a._)((0,n._)({},i),{[o.id]:o.id===e.id?t:l})},{})),(0,o.j)(o.FP.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:t})};return(0,r.BX)(s.sg,{children:[(0,r.tZ)(s.X2,{justifyContent:"end",pullX:8,children:(0,r.tZ)(c.zx,{size:"sm",priority:"quaternary",onClick:()=>{let e=m?"private":"public";d(i.subscriptions.reduce((i,t)=>{let{publication:r}=t;return(0,a._)((0,n._)({},i),{[r.id]:e})},{})),(0,o.j)(o.FP.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:i.subscriptions.length,newVisibility:e})},children:h(m?"Hide all":"Show all")})}),(0,r.tZ)(s.sg,{minHeight:320,gap:4,children:i.subscriptions.map(e=>(0,r.tZ)(C,{sub:e,onSetVisibility:v(e.publication),source:u},e.id))}),!p&&(0,r.tZ)(c.zx,{priority:"primary",onClick:t,children:h("Done")})]})}function C(e){let{sub:i,onSetVisibility:t}=e,n=i.publication;return(0,r.BX)(v,{children:[(0,r.tZ)(p.wk,{pub:n,size:32}),(0,r.tZ)(h.xv.B3,{weight:"medium",flex:"grow",children:n.name}),(0,r.tZ)(u.X,{checked:"public"===i.visibility,onChange:()=>t("public"===i.visibility?"private":"public")})]})}let v=(0,d.zo)({display:"flex",paddingY:8,gap:12,alignItems:"center",minWidth:0})},16104:function(e,i,t){t(16584),t(64515)},51833:function(e,i,t){t.d(i,{Z:()=>o});var n=t(7409),a=t(99282),r=t(16584),l=t(64515);let o=e=>(0,r.BX)(l.l,(0,a._)((0,n._)({},e),{name:"PlayIconRounded",svgParams:{width:14,height:19},stroke:"none",children:[(0,r.tZ)("path",{d:"M0.679688 9.30398C0.679688 12.7684 2.96869 15.1988 6.3359 15.4816V17.5409H3.05706C2.68588 17.5409 2.38539 17.8413 2.38539 18.2126C2.38539 18.5837 2.68588 18.8754 3.05706 18.8754H10.9493C11.3204 18.8754 11.6209 18.5837 11.6209 18.2126C11.6209 17.8413 11.3204 17.5409 10.9493 17.5409H7.67041V15.4816C11.0465 15.1988 13.3266 12.7684 13.3266 9.30398V7.50991C13.3266 7.13872 13.0349 6.84708 12.6638 6.84708C12.2926 6.84708 11.9921 7.13872 11.9921 7.50991V9.25095C11.9921 12.2647 10.0301 14.262 7.00758 14.262C3.9762 14.262 2.0142 12.2647 2.0142 9.25095V7.50991C2.0142 7.13872 1.72255 6.84708 1.34252 6.84708C0.971336 6.84708 0.679688 7.13872 0.679688 7.50991V9.30398ZM7.00758 12.3619C8.7663 12.3619 9.95053 11.045 9.95053 9.16262V3.25008C9.95053 1.35878 8.7663 0.0507812 7.00758 0.0507812C5.24001 0.0507812 4.05574 1.35878 4.05574 3.25008V9.16262C4.05574 11.045 5.24001 12.3619 7.00758 12.3619Z"})," "]}))},19911:function(e,i,t){t.d(i,{Z:()=>d});var n=t(7409),a=t(99282),r=t(98848),l=t(16584),o=t(64515);let d=e=>{var{size:i=16,fill:t="var(--color-fg-primary)",className:d}=e,c=(0,r._)(e,["size","fill","className"]);return(0,l.tZ)(o.l,(0,a._)((0,n._)({},c),{name:"QueueCloseIcon",svgParams:{viewBox:"0 0 16 16"},width:i,height:i,fill:t,stroke:"none",className:d,children:(0,l.tZ)("path",{d:"M3.23486 13.1055C3.12907 12.9997 3.05924 12.877 3.02539 12.7373C2.99154 12.5977 2.99154 12.458 3.02539 12.3184C3.05924 12.1787 3.12695 12.0581 3.22852 11.9565L7.01172 8.16699L3.22852 4.38379C3.12695 4.28646 3.05924 4.16797 3.02539 4.02832C2.99577 3.88444 2.99577 3.74268 3.02539 3.60303C3.05924 3.46338 3.12907 3.34066 3.23486 3.23486C3.33643 3.12907 3.45703 3.05924 3.59668 3.02539C3.74056 2.99154 3.88232 2.99154 4.02197 3.02539C4.16585 3.05924 4.28857 3.12695 4.39014 3.22852L8.17334 7.01172L11.9565 3.22852C12.0581 3.12695 12.1787 3.05924 12.3184 3.02539C12.458 2.99154 12.5977 2.99154 12.7373 3.02539C12.877 3.05924 12.9997 3.13118 13.1055 3.24121C13.2113 3.34277 13.2811 3.46338 13.3149 3.60303C13.353 3.74268 13.353 3.88232 13.3149 4.02197C13.2811 4.16162 13.2134 4.28223 13.1118 4.38379L9.33496 8.16699L13.1118 11.9565C13.2134 12.0581 13.2811 12.1787 13.3149 12.3184C13.3488 12.458 13.3488 12.5977 13.3149 12.7373C13.2811 12.877 13.2113 12.9997 13.1055 13.1055C12.9997 13.2113 12.877 13.2811 12.7373 13.3149C12.5977 13.3488 12.458 13.3488 12.3184 13.3149C12.1787 13.2811 12.0581 13.2134 11.9565 13.1118L8.17334 9.32861L4.39014 13.1118C4.28857 13.2134 4.16797 13.2811 4.02832 13.3149C3.88867 13.3488 3.74691 13.3488 3.60303 13.3149C3.46338 13.2811 3.34066 13.2113 3.23486 13.1055Z"})}))}},4168:function(e,i,t){t(16584),t(64515)},84251:function(e,i,t){t.d(i,{Z:()=>o});var n=t(7409),a=t(99282),r=t(16584),l=t(64515);let o=e=>{var i,t;return(0,r.tZ)(l.l,(0,a._)((0,n._)({},e),{name:"UsersIconFilled",svgParams:{height:30,width:30,fill:"#B6B6B6",stroke:"none"},children:(0,r.tZ)("path",{d:"M10.125 16.5527C11.7943 16.5527 13.2268 17.0199 14.3604 17.748C12.7381 19.1583 11.8242 20.9607 11.8242 22.5781C11.8242 23.0415 11.9179 23.4885 12.1416 23.877H4.68555C3.45508 23.877 2.9668 23.3887 2.9668 22.5C2.9668 19.8047 5.7207 16.5527 10.125 16.5527ZM21.3652 16.582C26.4336 16.5821 29.5879 20.0586 29.5879 22.5781C29.5879 23.4375 29.041 23.8769 27.5078 23.877H15.2324C13.6992 23.877 13.1524 23.4375 13.1523 22.5781C13.1523 20.0586 16.3066 16.582 21.3652 16.582ZM10.1348 7.64648C11.9414 7.64648 13.5332 9.18945 13.5332 11.2988C13.5332 13.418 11.9512 15.0586 10.1348 15.0586C8.30859 15.0586 6.72656 13.418 6.72656 11.3184C6.72656 9.22852 8.31836 7.64649 10.1348 7.64648ZM21.375 6.31836C23.4648 6.31837 25.2812 8.10548 25.2812 10.5176C25.2812 12.959 23.4746 14.834 21.375 14.834C19.2754 14.834 17.4688 12.959 17.4688 10.5371C17.4688 8.14453 19.2852 6.31836 21.375 6.31836Z",fill:null!==(i=e.fill)&&void 0!==i?i:"white",style:"fill:".concat(null!==(t=e.fill)&&void 0!==t?t:"white",";fill-opacity:1;")})}))}},39341:function(e,i,t){t(16584);var n=t(6400);t(30396),(0,n.createContext)({}).displayName="WWWContext"},62514:function(e,i,t){t(30396),t(20042),t(39341),t(68833),t(48980)},76971:function(e,i,t){t.d(i,{Z:()=>m});var n=t(16584),a=t(20253),r=t(35047),l=t(35702),o=t(68833),d=t(65205),c=t(15771),u=t(10510),s=t(31406),p=t(76560),h=t(60308);let m=e=>{let{pub:i,user:t,setStep:m,entry:C}=e,v=(0,s.gs)();return(0,n.tZ)("div",{className:"pub-landing-step",children:(0,n.BX)(a.ZP,{method:"post",action:"/api/v1/reader/signup/pub",loading:!1,autoLock:!0,onSuccess:e=>{(0,o.j)(o.FP.READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED,{entry:C}),t||(0,l.a)({user:e.body.user}),m(p.c.CATEGORIES)},children:[(0,n.BX)("div",{className:"headings",children:[(0,n.tZ)(u.wk,{pub:i,size:84}),(0,n.tZ)("h3",{className:"publication-title",children:i.name}),(0,n.tZ)("p",{className:"publication-description",children:i.editorial_bio||i.hero_text}),(0,n.tZ)("p",{className:"publication-details",children:(0,r.sv)(i)})]}),(0,n.tZ)("input",{type:"hidden",name:"email",value:null==t?void 0:t.email}),(0,n.tZ)("input",{type:"hidden",name:"source",value:"".concat(C,"-reader-onboarding")}),(0,n.tZ)("input",{type:"hidden",name:"publication_id",value:i.id}),(0,n.tZ)("input",{type:"hidden",name:"noWelcomeEmail",value:"true"}),(0,n.tZ)("input",{type:"hidden",name:"first_url",value:d.xY}),(0,n.tZ)("input",{type:"hidden",name:"first_referrer",value:d.ip}),(0,n.tZ)("input",{type:"hidden",name:"first_session_url",value:d.ac}),(0,n.tZ)("input",{type:"hidden",name:"first_session_referrer",value:d.qR}),(0,n.tZ)("input",{type:"hidden",name:"current_url",value:d.UE}),(0,n.tZ)("input",{type:"hidden",name:"current_referrer",value:d.xU}),Object.entries(v).map(e=>{let[i,t]=e;return(0,n.tZ)("input",{type:"hidden",name:i,value:t},i)}),(0,n.BX)("div",{className:"modal-ctas",children:[(0,n.tZ)("a",{className:"button let-me-read",href:(0,h.n1t)((0,h.SVA)(i),{no_cover:!0,utm_source:"".concat(C,"-reader-onboarding")}),onClick:()=>{(0,o.j)(o.FP.READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED,{entry:C}),(0,o.x6)(i,C)},children:"Let me read it first"}),(0,n.tZ)(c.zx,{priority:"primary",onClick:e=>{(0,o.j)(o.FP.READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED,{entry:C}),t||(e.preventDefault(),m(p.c.PUB_SIGNUP))},type:"submit",children:"Subscribe"})]})]})})}},48146:function(e,i,t){t.d(i,{Z:()=>y});var n=t(16584),a=t(30396),r=t(20253),l=t(35047),o=t(60807),d=t(35702),c=t(68833),u=t(65205),s=t(15771),p=t(19081),h=t(10510),m=t(58175),C=t(57641),v=t(31406),b=t(76560),g=t(60308);let y=e=>{let{pub:i,user:t,profile:y,setStep:Z,entry:f}=e,{setUser:_}=(0,o.SE)(),[B,I]=(0,a.eJ)(""),[E,N]=(0,a.eJ)(!1),[k,x]=(0,a.eJ)(!1),S=(0,v.gs)();return(0,n.BX)("div",{className:"pub-signup-step",children:[(0,n.BX)("div",{className:"headings",children:[(0,n.tZ)(h.wk,{pub:i,size:84,className:"pub-icon"}),(0,n.tZ)("h3",{className:"publication-title",children:y?"Create an account to start reading":"Subscribe to ".concat(i.name)}),(0,n.tZ)("p",{className:"publication-description",children:y?"Create a Substack account to subscribe to ".concat(y.name):i.editorial_bio||i.hero_text}),(0,n.tZ)("p",{className:"publication-details",children:y?"Author of ".concat(i.name):(0,l.sv)(i)})]}),(0,n.BX)(r.ZP,{method:"post",action:"/api/v1/reader/signup/pub",loading:!1,autoLock:!0,onSuccess:e=>{t||((0,d.a)({user:e.body.user}),_(e.body.user)),e.body.requires_confirmation?((0,c.j)(c.FP.READER_ONBOARDING_PUB_SIGNUP_FAILED,{reason:"user_exists",entry:f}),N(!0)):((0,c.j)(c.FP.READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED,{entry:f}),(0,d.a)({user:e.body.user}),Z(b.c.CATEGORIES))},children:[(0,n.BX)("p",{children:[(0,n.tZ)("label",{for:"email",children:"Email"}),(0,n.tZ)("input",{type:"email",name:"email","aria-label":"Email",value:B,tabIndex:0,onInput:e=>{I(e.target.value)},onChange:e=>{I(e.target.value)}}),(0,n.tZ)("input",{type:"hidden",name:"source",value:"".concat(f,"-reader-onboarding")}),(0,n.tZ)("input",{type:"hidden",name:"publication_id",value:i.id}),(0,n.tZ)("input",{type:"hidden",name:"noWelcomeEmail",value:"true"}),(0,n.tZ)("input",{type:"hidden",name:"first_url",value:u.xY}),(0,n.tZ)("input",{type:"hidden",name:"first_referrer",value:u.ip}),(0,n.tZ)("input",{type:"hidden",name:"first_session_url",value:u.ac}),(0,n.tZ)("input",{type:"hidden",name:"first_session_referrer",value:u.qR}),(0,n.tZ)("input",{type:"hidden",name:"current_url",value:u.UE}),(0,n.tZ)("input",{type:"hidden",name:"current_referrer",value:u.xU}),Object.entries(S).map(e=>{let[i,t]=e;return(0,n.tZ)("input",{type:"hidden",name:i,value:t},i)}),E&&(0,n.BX)("div",{className:"error",children:["Additional confirmation is required to complete your signup. Please"," ",(0,n.tZ)("a",{href:(0,g.uXE)({for_pub:i.subdomain,email:B}),children:"login"})," ","or click the confirmation link in your email."]})]}),(0,n.tZ)("div",{id:"error-container"}),(0,n.BX)(p.tu,{alignItems:"center",justifyContent:"space-between",paddingTop:64,gap:4,children:[(0,n.tZ)(C.O,{checked:k,onCheckboxChange:e=>{x(e)}}),(0,n.tZ)(s.zx,{type:"submit",priority:"primary",disabled:!k||!B,style:{marginTop:12,marginBottom:4},children:"Subscribe and continue"}),(0,n.BX)(m.xv.B5,{weight:"light",color:"secondary",children:["Already have a Substack account?"," ",(0,n.tZ)(m.xv.B5,{as:"a",weight:"light",color:"secondary",href:(0,g.uXE)({for_pub:i.subdomain}),target:"_blank",style:{textDecoration:"underline"},children:"Sign in"})]})]})]})]})}},41427:function(e,i,t){function n(e,i){return e.startsWith(i.replace(/\?.*$/,""))}function a(e,i){return e.replace(/\?.*$/,"")===i.replace(/\?.*$/,"")}t.d(i,{M:()=>a,h:()=>n})},94827:function(e,i,t){t.d(i,{Rj:()=>p});var n=t(16584);t(6400);var a=t(30396),r=t(94184),l=t.n(r),o=t(31012),d=t(1852);t(16104),t(35047),t(94499);var c=t(95441);t(62514),t(68833),t(98914);var u=t(15771);t(10510),t(60308);let s={desktop:15,mobile:6},p=e=>{let{className:i,hasFeatured:t,categories:r,categoryId:p,categoryIds:h,loadingCategoryId:m,ranking:C,onCategoryClicked:v,defaultExpanded:b,expandedCategoryIds:g,onToggleCategory:y}=e,[Z,f]=(0,a.eJ)(b||!1),[_,B]=(0,a.eJ)(new Set),I=s[(0,d.useMediaQuery)({query:"only screen and (max-width: 650px)"})?"mobile":"desktop"],{iString:E}=(0,c.M1)(),N=null!=g?g:_,k=r?Z?r:r.slice(0,I):[],x=e=>e.id===p||(null==h?void 0:h.includes(e.id)),S=e=>{y?y(e):B(i=>{let t=new Set(i);return t.has(e)?t.delete(e):t.add(e),t})};return(0,n.BX)("div",{className:l()("categories",i),children:[t&&(0,n.tZ)(u.zx,{priority:"featured"!==p||m&&"featured"!==m?"secondary":"primary-mono",loading:"featured"===m&&"featured"!==p,onClick:()=>{v({categoryId:"featured",ranking:"all",categories:r})},children:E("Featured")}),k.map(e=>{var i;let t=N.has(e.id),a=e.subcategories&&e.subcategories.length>0,l=x(e)&&(!m||m===e.id),o=m===e.id&&p!==e.id;return(0,n.BX)(n.HY,{children:[(0,n.tZ)(u.zx,{priority:l?"primary-mono":"secondary-outline",loading:o,onClick:()=>{v({categoryId:e.id,ranking:C,categories:r}),a&&S(e.id)},className:l?"test-active":"test-inactive",children:E(e.name||"")}),t&&a&&(null==e?void 0:null===(i=e.subcategories)||void 0===i?void 0:i.map(e=>{let i=x(e)&&(!m||m===e.id),t=m===e.id&&p!==e.id;return(0,n.tZ)(u.zx,{priority:i?"primary-mono":"secondary",loading:t,onClick:()=>v({categoryId:e.id,ranking:C,categories:r}),children:E(e.name)},e.id)}))]})}),r&&r.length>I&&!Z&&(0,n.tZ)(u.hU,{priority:"secondary-outline",onClick:()=>f(!0),children:(0,n.tZ)(o.Z,{size:20})})]})}}}]);