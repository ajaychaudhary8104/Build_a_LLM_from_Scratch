"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["7613"],{64473:function(e,t,n){n.d(t,{Z:()=>i});let i={iframe:"iframe-_GPXZ7",codeInput:"codeInput-elXe0s"}},8108:function(e,t,n){n.d(t,{Z:()=>i});let i={textInput:"textInput-kYr7wC"}},24399:function(e,t,n){n.d(t,{Z:()=>i});let i={featuredTopicContainer:"featuredTopicContainer-suyQj1",featuredTopicGradient:"featuredTopicGradient-oYIwRL",trendingTopic:"trendingTopic-eMDv2u"}},19961:function(e,t,n){n.d(t,{Z:()=>i});let i={chip:"chip-lJKwY5",textOnly:"textOnly-SPwDNp",leading:"leading-TvXpau",trailing:"trailing-lhDVKn",clickable:"clickable-IxUlBk",disabled:"disabled-F1nG5l",fillIcon:"fillIcon-jYnt2U"}},24548:function(e,t,n){n.d(t,{Z:()=>i});let i={datePicker:"datePicker-GG3Vly"}},68857:function(e,t,n){n.d(t,{Z:()=>i});let i={scrollBox:"scrollBox-zHkQVP",arrowButtonContainer:"arrowButtonContainer-O4uSiH",visible:"visible-JMTC0j",right:"right-i3oWGi",left:"left-Tg8vqp",arrowButtonOffsetContainer:"arrowButtonOffsetContainer-VMYLE4",arrowButtonOverlaidContainer:"arrowButtonOverlaidContainer-t10AyH",overlay:"overlay-zrMCxn",primary:"primary-lv_sOW",secondary:"secondary-pOosZC",arrowButtonOverlaid:"arrowButtonOverlaid-xLyA_z"}},77747:function(e,t,n){n.d(t,{I:()=>M,Jg:()=>X,aQ:()=>P,oQ:()=>H});var i=n(7409),r=n(99282),o=n(16584),l=n(6400),a=n(98661),c=n(30396),s=n(94184),d=n.n(s),u=n(20160),h=n(93228),p=n(5772),m=n(60807),Z=n(48980),f=n(7882),g=n(15771),v=n(80026),C=n(86075),y=n(32700),k=n(21685),w=n(98248),b=n(85930),_=n(63474),x=n(58175),B=n(23710);let I=(0,l.createContext)({isLoading:!1,emojis:{suggestedReactionTypes:[],categories:[],reactionTypes:{}}});function M(e){let{children:t}=e,{user:n}=(0,m.SE)(),{result:i,isLoading:r}=(0,f.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:6e5,auto:!!n});return(0,o.tZ)(I.Provider,{value:{emojis:i,isLoading:r},children:t})}function X(e){let{context:t,reactions:n,currentReaction:i,onReactionClick:r,isReadOnly:l,showCounts:a=!0,maxReactions:s,direction:h}=e,p=n&&Object.keys(n).some(e=>n[e]>0),m=(0,c.sO)(null),[Z,f]=(0,c.eJ)(!1),{emojis:g,isLoading:C}=(0,c.qp)(I),w=(0,c.Ye)(()=>n&&(null==g?void 0:g.reactionTypes)?Object.entries(n).sort((e,t)=>{let[n,i]=e,[r,o]=t;return i===o?n.localeCompare(r):o-i}).filter(e=>{let[t,n]=e;return n>0&&g.reactionTypes[t]}).slice(0,3):[],[n,g]);return(null==g?void 0:g.reactionTypes)?(0,o.tZ)(u.W,{children:(0,o.BX)(v.gq,{onClick:R,className:d()(B.Z.reactionsContainer,{[B.Z.show]:p||Z,[B.Z.outgoing]:"outgoing"===h}),children:[w.map(e=>{let[n,l]=e,c=g.reactionTypes[n],s=n===i||c===i,u=(0,o.BX)(v.gq,{className:d()(B.Z.reaction,{[B.Z.selected]:a&&s}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",justifyContent:"center",paddingX:6,onClick:()=>c&&r&&r(n,c),children:[(0,o.tZ)(x.xv.B4,{font:"emoji",children:c}),a&&(0,o.tZ)(x.xv.Meta,{fontWeight:"bold",color:s?"white":"primary",children:l})]},n);return["feed-recommended","direct-message"].includes(t.type)?u:(0,o.tZ)(y.z,{layerClassName:B.Z.nameCard,content:(0,o.tZ)(z,{context:t,reaction:n}),layerOptions:{placement:"bottom-center"},children:u},n)}),!l&&(!s||!i)&&(0,o.tZ)(k.J2,{trigger:(0,o.tZ)(T,{}),placement:"bottom",onOpen:()=>f(!0),onClose:()=>f(!1),children:e=>{let{close:t}=e;return(0,o.tZ)(N,{emojis:g,isLoading:C,currentReaction:i,onPick:(e,n)=>{r&&r(e,n),t()},inputRef:m})}})]})}):null}let T=(0,a.forwardRef)((e,t)=>(0,o.tZ)(g.kG,(0,r._)((0,i._)({ref:t,resetCss:!0,className:B.Z.addReactButton,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},e),{children:(0,o.tZ)(h.Z,{className:B.Z.addReactIcon})})));function N(e){var t;let{emojis:i,isLoading:r,currentReaction:l,onPick:a,inputRef:s}=e,d=(0,c.Ye)(()=>(null==i?void 0:i.reactionTypes)&&!r?Object.keys(i.reactionTypes):[],[null==i?void 0:i.reactionTypes,r]),{result:h,isLoading:m}=(0,f.Wf)(()=>n.e("7710").then(n.t.bind(n,54833,19)),[],{auto:!0}),Z=(0,c.I4)(e=>[e,...(null==h?void 0:h[e])||[]],[h]),{filteredItems:g,setQuery:y,hasFiltered:k,query:_}=(0,p.R)({items:d,getKeys:Z,deps:[d,Z]});return(0,o.tZ)(u.W,{children:(0,o.BX)(v.tu,{sizing:"border-box",gap:12,padding:4,minWidth:320,height:400,onClick:R,overflowY:"auto",children:[(0,o.tZ)(b.M,{ref:s,onChange:y}),r||m?(0,o.tZ)(v.tu,{flex:"grow",justifyContent:"center",alignItems:"center",children:(0,o.tZ)(w.$j,{})}):(0,o.BX)(o.HY,{children:[k&&(g&&g.length>0?(0,o.tZ)(S,{reactions:g,currentReaction:l,onPick:a,emojiMap:i.reactionTypes,title:null}):(0,o.tZ)(C.u,{title:"No results for ".concat(_),description:"Try another search"})),!k&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(S,{reactions:i.suggestedReactionTypes,currentReaction:l,onPick:a,emojiMap:i.reactionTypes,title:"Suggested"}),null===(t=i.categories)||void 0===t?void 0:t.map(e=>(0,o.tZ)(S,{reactions:e.reactionTypes,currentReaction:l,onPick:a,emojiMap:i.reactionTypes,title:e.title},e.title))]})]})]})})}function z(e){var t;let{reaction:n,context:i}=e,r=["posts","feed-subscribed"].includes(i.type)?"/api/v1/community/posts/".concat(i.id,"/reactions"):"/api/v1/community/comments/".concat(i.id,"/reactions"),{result:l,isLoading:a}=(0,f.ib)({pathname:r,method:"GET",auto:!0});if(a)return(0,o.tZ)(w.$j,{});let c=(null!==(t=null==l?void 0:l.reactions.filter(e=>e.reaction===n))&&void 0!==t?t:[]).map(e=>e.user.name),s=c.slice(0,6),d=Math.max(0,c.length-6);return(0,o.BX)(v.tu,{gap:2,position:"relative",onClick:R,overflowY:"auto",children:[s.map(e=>(0,o.tZ)(L,{text:e})),d>0&&(0,o.tZ)(L,{text:"+ ".concat(d," ").concat(1===d?"other":"others")})]})}function S(e){let{reactions:t,currentReaction:n,onPick:i,emojiMap:r,title:l}=e;return(0,o.BX)(v.tu,{gap:4,children:[l&&(0,o.tZ)(x.xv.B4,{color:"secondary",children:l}),(0,o.tZ)(v.xu,{className:B.Z.emojiGrid,gap:2,alignItems:"center",justifyContent:"center",children:null==t?void 0:t.map(e=>(0,o.tZ)(j,{onClick:()=>i(e,r[e]),className:d()(B.Z.emojiBox,{[B.Z.selected]:e===n}),children:(0,o.tZ)(O,{children:r[e]})},e))})]})}function L(e){let{text:t}=e;return(0,o.tZ)(x.xv,{size:12,color:"primary",weight:"medium",font:"text",children:t})}let j=(0,_.zo)({bg:"primary",alignItems:"center",justifyContent:"center",radius:"sm",width:32,height:32,cursor:"pointer"},_.X2),O=(0,_.zo)({fontSize:20,lineHeight:20,color:"primary",fontWeight:"medium",font:"emoji"}),R=e=>{e.stopPropagation(),e.preventDefault()};async function H(e,t,n){try{return await (0,Z.rd)("/api/v1/community/".concat(n,"/").concat(t,"/reaction"),{method:"POST",json:{reaction:e}})}catch(e){return e}}async function P(e,t,n){try{return await (0,Z.rd)("/api/v1/community/".concat(n,"/").concat(t,"/reaction"),{method:"DELETE",query:{reaction:e}})}catch(e){return e}}},61649:function(e,t,n){n.d(t,{AO:()=>_,AT:()=>C,BY:()=>I,MZ:()=>x,Sr:()=>M,Zl:()=>w,ar:()=>y,eD:()=>k,l7:()=>X,ss:()=>b});var i=n(7409),r=n(16584),o=n(6400),l=n(30396),a=n(74691),c=n.n(a),s=n(7654),d=n.n(s),u=n(14293),h=n.n(u),p=n(7314),m=n(31012),Z=n(36671),f=n(68833),g=n(15771),v=n(19081);let C=5,y=300,k=600,w=60,b=30,_=e=>{let t=c()(e,1,16),n=k-w;return c()(k-(t-1)/15*n,w,k)},x=e=>{for(let t=16;t>=1;t--)if(_(t)>=2*e)return c()(t,1,16);return 1},B=(0,o.createContext)({clipTimes:null,isClipping:!1,setClipEnd:()=>void 0,setClipStart:()=>void 0,setClipTitle:()=>void 0,virtualizedListRef:{current:null},onCancelClipping:()=>void 0,onStartClipping:()=>void 0,clipTitle:null,zoom:0,setZoom:()=>void 0}),I=e=>{let{children:t,postId:n,videoPlayerRef:o,virtualizedListRef:a}=e,[s,u]=(0,l.eJ)(!1),[p,m]=(0,l.eJ)(),[Z,g]=(0,l.eJ)(),[v,k]=(0,l.eJ)(null),[w,_]=(0,l.eJ)(1),I=(0,l.sO)(!1),M=(0,l.Ye)(()=>h()(p)||h()(Z)?null:{start:p,end:Z},[Z,p]);(0,l.d4)(()=>{I.current||void 0==p||void 0==Z||(_(x(Z-p)),I.current=!0)},[p,Z]);let X=(0,l.I4)(e=>{var t,r,l,a,s,p,Z,v,w;let{start:_,end:x,source:B,title:I}=e,M=null!==(Z=null==o?void 0:null===(r=o.current)||void 0===r?void 0:null===(t=r.player)||void 0===t?void 0:t.duration)&&void 0!==Z?Z:300;d()(M)&&(M=300);let X=h()(_)||h()(x)?null:{start:_,end:Math.min(x,_+y)},T=null!=X?X:{start:Math.max(0,null!==(v=null==o?void 0:null===(a=o.current)||void 0===a?void 0:null===(l=a.player)||void 0===l?void 0:l.currentTime)&&void 0!==v?v:0),end:Math.min(null!=M?M:C,(null!==(w=null==o?void 0:null===(p=o.current)||void 0===p?void 0:null===(s=p.player)||void 0===s?void 0:s.currentTime)&&void 0!==w?w:0)+b)};if(X?T.end=Math.max(T.start+C,T.end):(T.start=c()(T.start,0,M-C),T.end=c()(T.end,T.start+C,Math.min(T.start+y,M))),m(T.start),g(T.end),u(!0),I&&k(I),(0,f.j)(f.FP.VIDEO_CLIP_INITIATED,(0,i._)({post_id:n,source:B},X)),!X&&!(null==o?void 0:o.current)){let e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(()=>{var n,i;(null==o?void 0:null===(i=o.current)||void 0===i?void 0:null===(n=i.player)||void 0===n?void 0:n.readyState)!==4?t<10&&e(t+1):(m(0),g(Math.min(o.current.player.duration,b)))},100)};e()}},[n,o]),T=(0,l.I4)(e=>{var t,n,i;let r=null!==(i=null==o?void 0:null===(n=o.current)||void 0===n?void 0:null===(t=n.player)||void 0===t?void 0:t.duration)&&void 0!==i?i:0,l=c()(e,C,r);g(l),m(e=>c()(null!=e?e:0,Math.max(l-y,0),l-C))},[o]),N=(0,l.I4)(e=>{var t,n,i;let r=null!==(i=null==o?void 0:null===(n=o.current)||void 0===n?void 0:null===(t=n.player)||void 0===t?void 0:t.duration)&&void 0!==i?i:0,l=c()(e,0,r-C);m(l),g(e=>c()(null!=e?e:0,l+C,Math.min(l+y,r)))},[o]),z=(0,l.I4)(()=>{u(!1)},[]);return(0,r.tZ)(B.Provider,{value:{clipTimes:M,isClipping:s,setClipEnd:T,setClipStart:N,setClipTitle:k,virtualizedListRef:a,onCancelClipping:z,onStartClipping:X,clipTitle:v,zoom:w,setZoom:_},children:t})},M=()=>(0,l.qp)(B),X=()=>{let{zoom:e,setZoom:t}=M();return(0,r.BX)(v.gq,{gap:12,justifyContent:"center",alignItems:"center",children:[(0,r.tZ)(g.hU,{priority:"secondary-outline",size:"sm",onClick:()=>t(Math.max(1,e-1)),children:(0,r.tZ)(p.Z,{size:20})}),(0,r.tZ)(Z.Z,{min:1,max:16,step:1,value:e,onChange:t}),(0,r.tZ)(g.hU,{priority:"secondary-outline",size:"sm",onClick:()=>t(Math.min(16,e+1)),children:(0,r.tZ)(m.Z,{size:20})})]})}},33112:function(e,t,n){n.d(t,{F:()=>C});var i=n(7409),r=n(98848),o=n(16584),l=n(94184),a=n.n(l),c=n(41352),s=n(94933),d=n(95441),u=n(94874),h=n(17540),p=n(15771),m=n(19081),Z=n(6490),f=n(58175),g=n(12461),v=n(37430);function C(e){var{isOpen:t,onClose:n}=e,l=(0,r._)(e,["isOpen","onClose"]);return(0,o.tZ)(Z.u_,{isOpen:!!t,onClose:n,width:500,children:(0,o.tZ)(y,(0,i._)({onClose:n},l))})}function y(e){let{faces:t,modalLabel:n,onClose:i,totalCount:r}=e,{iPlural:l}=(0,d.M1)(),a=(r||0)-t.length;return(0,o.BX)(o.HY,{children:[(0,o.BX)(m.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow",children:[(0,o.tZ)(f.xv.H3,{children:n}),i&&(0,o.tZ)(p.hU,{priority:"tertiary",onClick:i,children:(0,o.tZ)(c.Z,{size:20})})]}),(0,o.tZ)(m.tu,{overflowY:"auto",className:v.Z.column,children:(0,o.BX)(m.tu,{gap:4,padding:8,children:[t.map(e=>(0,o.tZ)(k,{face:e},e.id)),a>0&&(0,o.BX)(m.hs,{gap:16,alignItems:"center",padding:8,children:[(0,o.tZ)(m.hs,{className:v.Z.avatarOther,alignItems:"center",justifyContent:"center",children:(0,o.tZ)(s.Z,{className:v.Z.avatarOtherIcon,size:20})}),(0,o.BX)(f.xv.B4,{color:"secondary",children:["+",l("%1 other reader","%1 other readers",a)]})]})]})})]})}function k(e){let{face:t}=e,{id:n,name:i,primary_publication:r,className:l,noLink:c}=t;return(0,o.tZ)(m.hs,{flex:"grow",children:c?(0,o.BX)(m.hs,{gap:12,padding:8,radius:"md",className:v.Z.row,alignItems:"center",flex:"grow",children:[(0,o.tZ)(h.w,{pub:r||void 0,children:(0,o.tZ)(u.xV,{user:t,size:40,className:l})}),(0,o.tZ)(m.tu,{minWidth:0,flex:"grow",children:(0,o.tZ)(f.xv.B3,{decoration:"hover-underline",weight:"semibold",className:(v.Z.link,a()({"no-name":!(i||"").trim().length})),children:i})})]}):(0,o.tZ)(g.$,{person:t},n)},n)}},21465:function(e,t,n){n.d(t,{Z:()=>c});var i=n(7409),r=n(99282),o=n(98848),l=n(16584),a=n(64515);let c=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:c=1.5}=e,s=(0,o._)(e,["size","stroke","strokeWidth"]);return(0,l.tZ)(a.l,(0,r._)((0,i._)({},s),{name:"NoteCommentIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:c,strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.tZ)("path",{d:"M18.7502 11V7.50097C18.7502 4.73917 16.5131 2.50033 13.7513 2.50042L6.25021 2.50044C3.48848 2.5004 1.25017 4.73875 1.2502 7.50048L1.25021 10.9971C1.2502 13.749 3.47395 15.9836 6.22586 15.9971L6.82888 16V19.0182L12.1067 16H13.7502C16.5116 16 18.7502 13.7614 18.7502 11Z"})}))}},66289:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584);function l(e){return(0,o.tZ)("svg",(0,r._)((0,i._)({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-fg-secondary)"},e),{children:(0,o.BX)("g",{transform:"translate(0, -2)",children:[(0,o.tZ)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"}),(0,o.tZ)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,o.tZ)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"})]})}))}},23365:function(e,t,n){n.d(t,{Z:()=>c});var i=n(7409),r=n(99282),o=n(98848),l=n(16584),a=n(64515);let c=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,c=(0,o._)(e,["size","fill"]);return(0,l.tZ)(a.l,(0,r._)((0,i._)({},c),{name:"InstagramIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,l.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",stroke:"none",d:"M10 1.80078C12.6719 1.80078 12.9883 1.8125 14.0391 1.85937C15.0156 1.90234 15.543 2.06641 15.8945 2.20313C16.3594 2.38281 16.6953 2.60156 17.043 2.94922C17.3945 3.30078 17.6094 3.63281 17.7891 4.09766C17.9258 4.44922 18.0898 4.98047 18.1328 5.95312C18.1797 7.00781 18.1914 7.32422 18.1914 9.99219C18.1914 12.6641 18.1797 12.9805 18.1328 14.0313C18.0898 15.0078 17.9258 15.5352 17.7891 15.8867C17.6094 16.3516 17.3906 16.6875 17.043 17.0352C16.6914 17.3867 16.3594 17.6016 15.8945 17.7813C15.543 17.918 15.0117 18.082 14.0391 18.125C12.9844 18.1719 12.668 18.1836 10 18.1836C7.32813 18.1836 7.01172 18.1719 5.96094 18.125C4.98438 18.082 4.45703 17.918 4.10547 17.7813C3.64063 17.6016 3.30469 17.3828 2.95703 17.0352C2.60547 16.6836 2.39063 16.3516 2.21094 15.8867C2.07422 15.5352 1.91016 15.0039 1.86719 14.0313C1.82031 12.9766 1.80859 12.6602 1.80859 9.99219C1.80859 7.32031 1.82031 7.00391 1.86719 5.95312C1.91016 4.97656 2.07422 4.44922 2.21094 4.09766C2.39063 3.63281 2.60938 3.29688 2.95703 2.94922C3.30859 2.59766 3.64063 2.38281 4.10547 2.20313C4.45703 2.06641 4.98828 1.90234 5.96094 1.85937C7.01172 1.8125 7.32813 1.80078 10 1.80078ZM10 0C7.28516 0 6.94531 0.0117188 5.87891 0.0585938C4.81641 0.105469 4.08594 0.277344 3.45313 0.523438C2.79297 0.78125 2.23438 1.12109 1.67969 1.67969C1.12109 2.23438 0.78125 2.79297 0.523438 3.44922C0.277344 4.08594 0.105469 4.8125 0.0585938 5.875C0.0117188 6.94531 0 7.28516 0 10C0 12.7148 0.0117188 13.0547 0.0585938 14.1211C0.105469 15.1836 0.277344 15.9141 0.523438 16.5469C0.78125 17.207 1.12109 17.7656 1.67969 18.3203C2.23438 18.875 2.79297 19.2188 3.44922 19.4727C4.08594 19.7188 4.8125 19.8906 5.875 19.9375C6.94141 19.9844 7.28125 19.9961 9.99609 19.9961C12.7109 19.9961 13.0508 19.9844 14.1172 19.9375C15.1797 19.8906 15.9102 19.7188 16.543 19.4727C17.1992 19.2188 17.7578 18.875 18.3125 18.3203C18.8672 17.7656 19.2109 17.207 19.4648 16.5508C19.7109 15.9141 19.8828 15.1875 19.9297 14.125C19.9766 13.0586 19.9883 12.7188 19.9883 10.0039C19.9883 7.28906 19.9766 6.94922 19.9297 5.88281C19.8828 4.82031 19.7109 4.08984 19.4648 3.45703C19.2188 2.79297 18.8789 2.23438 18.3203 1.67969C17.7656 1.125 17.207 0.78125 16.5508 0.527344C15.9141 0.28125 15.1875 0.109375 14.125 0.0625C13.0547 0.0117188 12.7148 0 10 0ZM10 4.86328C7.16406 4.86328 4.86328 7.16406 4.86328 10C4.86328 12.8359 7.16406 15.1367 10 15.1367C12.8359 15.1367 15.1367 12.8359 15.1367 10C15.1367 7.16406 12.8359 4.86328 10 4.86328ZM10 13.332C8.16016 13.332 6.66797 11.8398 6.66797 10C6.66797 8.16016 8.16016 6.66797 10 6.66797C11.8398 6.66797 13.332 8.16016 13.332 10C13.332 11.8398 11.8398 13.332 10 13.332ZM15.3398 5.85962C16 5.85962 16.5391 5.32447 16.5391 4.6604C16.5391 4.00025 16 3.46118 15.3398 3.46118C14.6797 3.46118 14.1406 3.99634 14.1406 4.6604C14.1406 5.32056 14.6758 5.85962 15.3398 5.85962Z"})}))}},8796:function(e,t,n){n.d(t,{Z:()=>c});var i=n(7409),r=n(99282),o=n(98848),l=n(16584),a=n(64515);let c=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,c=(0,o._)(e,["size","fill"]);return(0,l.tZ)(a.l,(0,r._)((0,i._)({},c),{name:"TikTokIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,stroke:"none",children:(0,l.tZ)("path",{stroke:"none",d:"M14.2272 0H10.8566V13.6232C10.8566 15.2464 9.56024 16.5797 7.94697 16.5797C6.33369 16.5797 5.03732 15.2464 5.03732 13.6232C5.03732 12.029 6.30489 10.7246 7.86056 10.6667V7.24639C4.43235 7.30433 1.66675 10.1159 1.66675 13.6232C1.66675 17.1594 4.48996 20 7.97579 20C11.4616 20 14.2848 17.1304 14.2848 13.6232V6.63767C15.5524 7.56522 17.108 8.11594 18.7501 8.14495V4.72464C16.215 4.63768 14.2272 2.55072 14.2272 0Z"})}))}},33425:function(e,t,n){n.d(t,{Z:()=>c});var i=n(7409),r=n(99282),o=n(98848),l=n(16584),a=n(64515);let c=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,c=(0,o._)(e,["size","fill"]);return(0,l.tZ)(a.l,(0,r._)((0,i._)({},c),{name:"YoutubeIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,stroke:"none",children:(0,l.tZ)("path",{stroke:"none",d:"M19.8008 5.99976C19.8008 5.99976 19.6055 4.62085 19.0039 4.01538C18.2422 3.21851 17.3906 3.2146 17 3.16772C14.2031 2.9646 10.0039 2.9646 10.0039 2.9646H9.99609C9.99609 2.9646 5.79688 2.9646 3 3.16772C2.60938 3.2146 1.75781 3.21851 0.996094 4.01538C0.394531 4.62085 0.203125 5.99976 0.203125 5.99976C0.203125 5.99976 0 7.62085 0 9.23804V10.7537C0 12.3708 0.199219 13.9919 0.199219 13.9919C0.199219 13.9919 0.394531 15.3709 0.992187 15.9763C1.75391 16.7732 2.75391 16.7459 3.19922 16.8318C4.80078 16.9841 10 17.031 10 17.031C10 17.031 14.2031 17.0232 17 16.824C17.3906 16.7771 18.2422 16.7732 19.0039 15.9763C19.6055 15.3709 19.8008 13.9919 19.8008 13.9919C19.8008 13.9919 20 12.3748 20 10.7537V9.23804C20 7.62085 19.8008 5.99976 19.8008 5.99976ZM7.93359 12.5935V6.97241L13.3359 9.79272L7.93359 12.5935Z"})}))}},72241:function(e,t,n){n.d(t,{HA:()=>l});var i=n(7409),r=n(99282),o=n(16584);function l(e){return(0,o.tZ)("svg",(0,r._)((0,i._)({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,o.tZ)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})}))}n(64515)},79094:function(e,t,n){n.d(t,{T7:()=>g,U:()=>f,zH:()=>v});var i=n(7409),r=n(16584),o=n(6400),l=n(30396),a=n(73510),c=n(10878),s=n(95441),d=n(60807),u=n(25991),h=n(48980),p=n(99916),m=n(84864);let Z=(0,o.createContext)(()=>void 0);function f(e){let{children:t}=e,[n,i]=(0,l.eJ)(null),o=()=>i(null);return(0,r.BX)(Z.Provider,{value:i,children:[t,(0,r.tZ)(c.u,{isOpen:!!n,onClose:o,pub:null==n?void 0:n.pub,canReportToAdmins:null==n?void 0:n.canReportToAdmins,onSubmit:async function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return o(),null==n?void 0:n.onSubmit(...t)}})]})}function g(){return(0,l.qp)(Z)}function v(e){let{comment:t,publication:n,post:o,item:l}=e,c=(0,d.aF)(),Z=g(),{iString:f}=(0,s.M1)();return t&&(0,m.canReportComment)(c,t)?(0,r.tZ)(p.sN,{leading:(0,r.tZ)(a.Z,{}),priority:"destructive",onClick:()=>{let e=!!t.publication_id;Z({pub:null!=n?n:void 0,canReportToAdmins:e,onSubmit:async n=>{let{reportCategory:r,details:o,reportedToSubstack:l}=n;await (0,h.rd)("/api/v1/comment/".concat(t.id,"/report"),{method:"POST",json:(0,i._)({details:o,reportCategory:r,reportedToSubstack:l},e?{publication_id:t.publication_id}:{})})}})},children:f("Report")}):o&&n&&l&&"context"in l&&u.nH.includes(l.context.type)?(0,r.tZ)(p.sN,{leading:(0,r.tZ)(a.Z,{}),priority:"destructive",onClick:()=>{Z({pub:n,canReportToAdmins:!1,onSubmit:async e=>{let{reportCategory:t,details:i}=e;await (0,h.rd)("/api/v1/publications/".concat(n.id,"/posts/").concat(o.id,"/report"),{method:"POST",json:{details:i,reportCategory:t}})}})},children:f("Report")}):null}},80143:function(e,t,n){n.d(t,{Q:()=>a,Y:()=>c});var i=n(16584),r=n(98661),o=n(30396);let l=(0,r.createContext)({});function a(e){let{entityKey:t,children:n}=e;return(0,i.tZ)(l.Provider,{value:{entityKey:t},children:n})}function c(){return(0,o.qp)(l).entityKey}},62903:function(e,t,n){n.d(t,{L:()=>v});var i=n(16584),r=n(30396),o=n(94184),l=n.n(o),a=n(33112),c=n(95441),s=n(53678),d=n(94874),u=n(19081),h=n(58175),p=n(27661),m=n(91400),Z=n(63651),f=n(84864);let g="contextFacepileAvatar-QWZFqt";function v(e){let{context:t,onClick:n,utm_content:r}=e,o=C[t.type];return o?(0,i.tZ)(u.hs,{className:"contextRow-x_1iaF",children:(0,i.tZ)(h.xv.B4,{color:"secondary",style:{width:"100%"},children:(0,i.tZ)(o,{context:t,onClick:n,utm_content:r})})}):null}let C={post_like:function(e){let{context:t,onClick:n,utm_content:r}=e;return(0,i.tZ)(B,{context:t,type:"like",label:"Likes",verb:"liked",onClick:n,utm_content:r})},note_like:function(e){let{context:t,onClick:n,utm_content:r}=e;return(0,i.tZ)(B,{context:t,type:"like",label:"Likes",verb:"liked",onClick:n,utm_content:r})},post_comment:y,post_restack:function(e){let{context:t,onClick:n,utm_content:r}=e;return(0,i.tZ)(B,{context:t,type:"restack",label:"Restacks",verb:"restacked",onClick:n,utm_content:r})},post_subscribed:function(){let{iString:e}=(0,c.M1)();return(0,i.tZ)(w,{type:"inbox",children:e("From your subscriptions")})},post_following:function(){let{iString:e}=(0,c.M1)();return(0,i.tZ)(w,{type:"follow",children:e("From your follows")})},comment:y,note_reply:y,note_recommend:function(e){let{context:t,onClick:n,utm_content:r}=e;return(0,i.tZ)(B,{context:t,type:"recommend",label:"Recommendations",verb:"recommends",onClick:n,utm_content:r})},comment_like:function(e){let{context:t,onClick:n,utm_content:r}=e;return(0,i.tZ)(B,{context:t,type:"like",label:"Likes",verb:"liked",onClick:n,utm_content:r})},comment_restack:function(e){let{context:t,onClick:n,utm_content:r}=e;return(0,i.tZ)(B,{context:t,type:"restack",label:"Restacks",verb:"restacked",onClick:n,utm_content:r})},chat_subscribed:function(e){let{context:t}=e;return(0,i.tZ)(w,{type:"chat",children:t.publication?(0,i.BX)(i.HY,{children:["From the"," ",(0,i.tZ)(s.hh,{href:(0,Z.xC8)({pubId:t.publication.id}),children:t.publication.name})," ","chat"]}):"From your chats"})},chat_recommended:function(e){let{context:t}=e;return(0,i.tZ)(w,{type:"chat",children:t.publication?(0,i.BX)(i.HY,{children:["Recommended chat:"," ",(0,i.tZ)(s.hh,{href:(0,Z.xC8)({pubId:t.publication.id}),children:t.publication.name})]}):"Recommended chat"})},latest_post:function(){let{iString:e}=(0,c.M1)();return(0,i.tZ)(w,{type:"latest_post",children:e("Latest post")})},from_archives:function(){let{iString:e}=(0,c.M1)();return(0,i.tZ)(w,{type:"from_archives",children:e("From the archives")})},post:null,note:null,community_post:null,user_suggestions:null,topic:null,live_stream:null};function y(e){let{context:t,onClick:n,utm_content:r}=e;return(0,i.tZ)(B,{context:t,type:"comment",label:"Replies",verb:"replied",onClick:n,utm_content:r})}let k={like:p.ws,comment:p.pW,recommend:p.HD,featured:p.Dx,trending:p.uf,leaderboard:p.Z9,restack:p.Oz,inbox:p.MN,follow:p.QC,chat:p.nr,latest_post:p.mn,from_archives:p.OD};function w(e){let{type:t,children:n,photoUrls:r}=e;return(0,i.BX)(u.gq,{alignItems:"center",gap:4,position:"relative",flex:"grow",children:[(0,i.tZ)(u.hs,{width:20,height:20,alignItems:"center",justifyContent:"center",className:"contextIconContainer-jHpRsg",children:(0,i.tZ)(b,{type:t,photoUrls:null!=r?r:[]})}),n]})}function b(e){let{type:t,photoUrls:n}=e;return 1===n.length?(0,i.tZ)(d.qE,{photoUrl:n[0],size:22}):2===n.length?(0,i.tZ)(_,{photoUrls:n}):(0,i.tZ)(x,{type:t})}function _(e){let{photoUrls:t}=e;return(0,i.BX)(u.hs,{className:"contextFacepile-JxlURM",children:[(0,i.tZ)(d.qE,{photoUrl:t[0],size:22,className:l()(g,"last-TGVukC")}),(0,i.tZ)(d.qE,{photoUrl:t[1],size:22,className:g})]})}function x(e){let{type:t}=e,n=k[t];return(0,i.tZ)(n,{size:18})}function B(e){let t,{context:n,type:o,label:l,verb:c,utm_content:d,onClick:u}=e,p="notes_context",[Z,g]=(0,r.eJ)(!1),v=(0,m.XA)(),C=n.users[0];if(!C)return null;let y=n.users.length-1;return 2===n.users.length?(t=n.users[1],y=0):!v&&n.users.length>2&&(t=n.users[1],y=n.users.length-2),(0,i.tZ)(w,{type:o,children:(0,i.BX)(h.xv,{as:"span",children:[(0,i.tZ)(s.Zg,{user:C,onClick:u,utm_source:p,utm_content:d,color:"secondary",useYou:!0}),t&&(0,i.BX)(i.HY,{children:[y>0?", ":" and ",(0,i.tZ)(s.Zg,{user:t,onClick:u,utm_source:p,utm_content:d,color:"secondary",useYou:!0})]}),y>0&&(0,i.BX)(i.HY,{children:[t?", and ":" and ",(0,i.tZ)(s.hh,{onClick:()=>{u(),g(!0)},children:(0,f.pluralize)(y," other")})]})," ".concat(c),(0,i.tZ)(a.F,{isOpen:Z,modalLabel:l,faces:n.users,totalCount:n.users.length,onClose:()=>g(!1),utmSource:null})]})})}},19619:function(e,t,n){n.d(t,{n:()=>j});var i=n(7409),r=n(99282),o=n(58865),l=n(16584),a=n(30396),c=n(13742),s=n(45077),d=n(11607),u=n(24237),h=n(74485),p=n(9404),m=n(79094),Z=n(19548),f=n(35543),g=n(95441),v=n(60807),C=n(42375),y=n(85527),k=n(48980),w=n(98914),b=n(15771),_=n(17352),x=n(61254),B=n(19081),I=n(99916),M=n(58175),X=n(70379),T=n(15503),N=n(27744);function z(){let e=(0,o._)(["Snoozed "," for 30 days"]);return z=function(){return e},e}function S(){let e=(0,o._)(["Snooze "," for 30 days"]);return S=function(){return e},e}function L(){let e=(0,o._)(["Unfollow ",""]);return L=function(){return e},e}function j(e){let{user:t,item:n,comment:i,children:r}=e,o=(0,Z.gc)(null==t?void 0:t.id),c=(0,Z.Yq)(),[s,d]=(0,a.eJ)(c),u=(0,N.de)(n);(0,a.d4)(()=>{o&&!c&&d(!1)},[o]);let h=i?"feed"!==i.type||i.ancestor_path?"reply":"note":"post";return o&&!s?(0,l.tZ)(O,{userBlockStatus:o,onShow:()=>d(!0),entityType:h}):u&&n&&"entity_key"in n?(0,l.tZ)(R,{user:t,entityKey:n.entity_key,item:n}):(0,l.tZ)(l.HY,{children:r})}function O(e){let{userBlockStatus:t,onShow:n,entityType:i}=e,{iString:r}=(0,g.M1)(),o="This ".concat(i," is from someone you’ve hidden."),a="This ".concat(i," is from someone you’ve blocked."),c="This ".concat(i," is from someone who has you blocked.");return(0,l.BX)(_.Z,{bg:"primary-hover",direction:"row",justifyContent:"space-between",alignItems:"center",padding:20,gap:12,onClick:e=>{e.preventDefault(),n()},children:[(0,l.tZ)(B.X2,{flex:"grow",minWidth:0,children:(0,l.tZ)(M.xv.B4,{color:"secondary",children:"muting"===t?o:"blocking"===t?a:c})}),"blocked"!==t&&(0,l.tZ)(M.xv.B4,{color:"secondary",weight:"semibold",children:(0,l.tZ)(M.hh,{onClick:()=>n(),children:r("Show anyway")})})]})}function R(e){let{user:t,entityKey:n,item:o}=e,{iString:a,iTemplate:j}=(0,g.M1)(),O=(0,y.F)(),R=(0,v.aF)(),P=(0,C.rI)(),{isFollowing:E,toggle:V}=(0,f.Sv)(t,"hidden-item"),Y=[...(0,Z.CH)(t,{surface:"hidden-item",onClick(e){o&&(0,T.rw)(o,P,e,{tabId:O})}}),(0,m.zH)({comment:o&&"comment"in o?o.comment:null,publication:o&&"publication"in o?o.publication:null,post:o&&"post"in o?o.post:null,item:o})].filter(e=>!!e),U=(0,N.I0)(),F=()=>U({type:"item_dismiss",payload:{entityKey:n}}),A=(0,X.pm)(),W=e=>A.popToast(t=>(0,l.tZ)(X.FN,(0,r._)((0,i._)({},t),{text:(0,w.zx)(e)}))),q=async()=>{try{U({type:"item_unhide",payload:{entityKey:n}}),await (0,k.rd)("/api/v1/note/".concat(n,"/hide"),{method:"DELETE"})}catch(e){W(e)}},D=async()=>{try{F(),await (0,k.rd)("/api/v1/note/".concat(n,"/dislike"),{method:"POST",json:{tabId:O,surface:P}}),A.popToast(e=>(0,l.tZ)(X.FN,(0,r._)((0,i._)({},e),{Icon:c.Z,text:a("We'll show fewer notes like this")})))}catch(e){W(e)}},J=async()=>{try{F(),await (0,k.rd)("/api/v1/blocks/".concat(null==t?void 0:t.id),{method:"POST",json:{type:"mute",surface:"hidden-item",expiryDays:30}}),A.popToast(e=>{var n;return(0,l.tZ)(X.FN,(0,r._)((0,i._)({},e),{Icon:s.Z,text:j(z(),null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"")}))})}catch(e){W(e)}},G=async()=>{F(),E&&await V()};return(0,l.BX)(_.Z,{bg:"primary-hover",padding:12,gap:8,cursor:"default",children:[(0,l.BX)(B.X2,{padding:8,alignItems:"start",justifyContent:"space-between",children:[(0,l.BX)(B.X2,{alignItems:"start",gap:12,children:[(0,l.tZ)(d.Z,{size:20}),(0,l.BX)(B.sg,{flex:"grow",children:[(0,l.tZ)(M.xv.B3,{weight:"semibold",children:a("Note hidden")}),("post-page-restacks-list"!==P||!((null==R?void 0:R.is_admin)||(null==R?void 0:R.is_contributor)))&&(0,l.tZ)(M.xv.B4,{color:"secondary",children:a("We’ll use this feedback to improve your feed.")})]})]}),(0,l.tZ)(b.zx,{size:"sm",priority:"secondary-outline",onClick:q,children:a("Undo")})]}),(0,l.tZ)(x.iz,{}),(0,l.tZ)(H,{leading:(0,l.tZ)(u.Z,{size:16}),onClick:D,children:a("Show fewer notes like this")}),(null==t?void 0:t.name)&&(0,l.tZ)(H,{leading:(0,l.tZ)(s.Z,{size:16}),onClick:J,children:j(S(),t.name)}),E&&(0,l.tZ)(H,{leading:(0,l.tZ)(h.Z,{size:16}),onClick:G,children:(null==t?void 0:t.name)?j(L(),t.name):a("Unfollow")}),Y.length>0&&(0,l.tZ)(I.v2,{trigger:(0,l.tZ)(b.kG,{resetCss:!0,children:(0,l.tZ)(H,{leading:(0,l.tZ)(p.Z,{size:16}),children:a("More options")})}),children:Y})]})}function H(e){let{children:t,leading:n,onClick:i}=e;return(0,l.BX)(B.X2,{alignItems:"center",gap:12,onClick:i,padding:8,radius:"sm",className:"row-dUWMl7",animate:!0,cursor:"pointer",children:[(0,l.tZ)(B.M5,{width:20,height:20,children:n}),(0,l.tZ)(M.xv.B4,{weight:"medium",children:t})]})}},69821:function(e,t,n){n.d(t,{sZ:()=>k});var i=n(7409),r=n(99282),o=n(16584),l=n(71787),a=n(13025),c=n(56953),s=n(27027),d=n(55232),u=n(20068),h=n(68833),p=n(98914),m=n(15771),Z=n(19081);n(6490);var f=n(58175),g=n(70379);n(38202);var v=n(60308);n(33884);var C=n(63651),y=n(7083);function k(e){let{shareUrl:t,shareText:n,shareEventType:m,itemKey:f,shareSource:y,comment:k,onShare:B}=e,I=(0,g.pm)(),M=(e,t)=>{(0,h.j)(h.FP.SHARE_LINK_CLICKED,{name:e,type:m,item_entity_key:f,source:y});let n=t();n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n),null==B||B()};return(0,o.tZ)(Z.tu,{flex:"grow",justifyContent:"center",children:(0,o.BX)(Z.hs,{gap:8,children:[(0,o.BX)(w,{children:[(0,o.tZ)(_,{onClick:()=>{M("twitter",()=>(0,v.LaP)({url:t,text:n}))},children:(0,o.tZ)(u.Z,{height:48})}),(0,o.tZ)(b,{children:"Twitter"})]}),(0,o.BX)(w,{children:[(0,o.tZ)(_,{onClick:()=>{M("facebook",()=>(0,v.n1t)("https://www.facebook.com/sharer/sharer.php",{u:t}))},children:(0,o.tZ)(s.Z,{height:48})}),(0,o.tZ)(b,{children:"Facebook"})]}),(0,o.BX)(w,{children:[(0,o.tZ)(_,{onClick:()=>{M("linkedin",()=>(0,v.n1t)("https://www.linkedin.com/sharing/share-offsite/",{url:t}))},children:(0,o.tZ)(d.Z,{height:48})}),(0,o.tZ)(b,{children:"LinkedIn"})]}),(0,o.BX)(w,{children:[(0,o.tZ)(x,{onClick:()=>{M("copy",()=>{(0,p.vQ)(t)}),I.popToast(e=>(0,o.tZ)(g.FN,(0,r._)((0,i._)({},e),{text:"Copied link to clipboard",Icon:l.Z})))},children:(0,o.tZ)(l.Z,{size:20,style:{stroke:"var(--color-fg-primary)"}})}),(0,o.tZ)(b,{children:"Copy link"})]}),k?(0,o.BX)(w,{children:[(0,o.tZ)(x,{onClick:()=>{I.popToast(e=>(0,o.tZ)(g.FN,(0,r._)((0,i._)({},e),{text:"Downloading image...",Icon:a.Z})))},href:(0,C.IYm)(k.id),target:"_blank",download:!0,children:(0,o.tZ)(a.Z,{size:20,style:{stroke:"var(--color-fg-primary)"}})}),(0,o.tZ)(b,{children:"Save image"})]}):(0,o.BX)(w,{children:[(0,o.tZ)(x,{onClick:()=>{M("email",()=>(0,v.n1t)("mailto:",{subject:n,body:t}))},children:(0,o.tZ)(c.Z,{size:20,style:{stroke:"var(--color-fg-primary)"}})}),(0,o.tZ)(b,{children:"Email"})]})]})})}function w(e){return(0,o.tZ)(Z.tu,(0,i._)({gap:8,alignItems:"center",flex:"grow"},e))}function b(e){return(0,o.tZ)(f.xv.B5,(0,i._)({align:"center",color:"primary"},e))}function _(e){return(0,o.tZ)(m.kG,(0,i._)({resetCss:!0,className:y.Z.shareImageButton},e))}function x(e){return(0,o.tZ)(m.hU,(0,i._)({size:"lg",rounded:!0,priority:"tertiary"},e))}},883:function(e,t,n){n.d(t,{n:()=>s});var i=n(16584),r=n(81914),o=n(16451),l=n(19081),a=n(65575),c=n(91400);function s(){return(0,i.tZ)(l.tu,{className:"lotsOfNotes-hqdxZB",children:Array(8).fill(0).map(()=>(0,i.tZ)(d,{}))})}function d(){let e=(0,c.XA)();return(0,i.tZ)(r.O3,{children:(0,i.tZ)(o.oM,{children:(0,i.BX)(l.hs,{gap:12,children:[(0,i.tZ)(a.Vm,{type:"circle",size:e?36:40}),(0,i.BX)(l.tu,{gap:12,flex:"grow",children:[(0,i.tZ)(a.Vm,{height:20,width:100}),[,,,].fill(0).map(()=>(0,i.tZ)(a.Vm,{height:20,width:"".concat(30+70*Math.random(),"%")}))]})]})})})}},76720:function(e,t,n){n.d(t,{A:()=>d});var i=n(16584),r=n(94184),o=n.n(r),l=n(98661),a=n(80026),c=n(63474),s=n(19961);let d=(0,l.forwardRef)((e,t)=>{let{children:n,trailing:r,leading:l,href:d,onClick:u,fillIcon:h,newTab:p,flex:m,className:Z,disabled:f}=e,g=d||u,v=!l&&!r;return(0,i.BX)(a.kG,{resetCss:!0,ref:t,className:o()(s.Z.chip,h&&s.Z.fillIcon,g&&s.Z.clickable,v&&s.Z.textOnly,f&&s.Z.disabled,Z),flex:m,href:d,onClick:u,pressable:g?"sm":void 0,newTab:p,disabled:f,children:[l&&(0,i.tZ)(c.M5,{className:s.Z.leading,children:l}),(0,i.tZ)(a.xv.B4,{color:f?"tertiary":"primary",userSelect:"none",ellipsis:!0,children:n}),r&&(0,i.tZ)(c.M5,{className:s.Z.trailing,children:r})]})})},54278:function(e,t,n){n.d(t,{g:()=>p});var i=n(16584),r=n(98661),o=n(94184),l=n.n(o),a=n(44627),c=n(19081),s=n(56649),d=n(1844),u=n(58175),h=n(51776);let p=(0,r.forwardRef)((e,t)=>{let{action:n,children:r,className:o,errors:p,helpText:m,details:Z,label:f,paddingBottom:g,paddingTop:v,flex:C,wrapWithLabel:y,disabled:k,compact:w}=e,b=w?2:8,_=Array.isArray(Z)?Z:[Z];return(0,i.tZ)(c.sg,{ref:t,alignItems:"stretch",className:o,gap:b,paddingBottom:g,paddingTop:v,disabled:k,flex:C,children:(0,i.BX)(h.fv,{children:[(0,i.BX)(c.sg,{gap:b,as:y?"label":"div",children:[f&&(0,i.BX)(c.X2,{gap:b,alignItems:"center",justifyContent:"space-between",children:[(0,i.BX)(c.X2,{gap:b,alignItems:"center",children:[(0,i.tZ)(u.xv.B4,{weight:"medium",as:y?"div":"label",color:"primary",children:f}),m&&(0,i.tZ)(a.k,{text:m})]}),n]}),r&&(0,i.tZ)(c.sg,{className:l()({"has-error":p}),children:r})]}),_&&_.length>0&&_.map(e=>(0,i.tZ)(d.p6,{children:e})),(0,i.tZ)(s.D,{errors:p})]})})})},40559:function(e,t,n){n.d(t,{N:()=>h});var i=n(16584),r=n(60807),o=n(69821),l=n(94874),a=n(15771),c=n(19081),s=n(6490),d=n(58175),u=n(63651);let h=e=>{let{isOpen:t,utmSource:n,onClose:h,setShared:p}=e,{user:m}=(0,r.SE)();if(!m)return(0,i.tZ)(i.HY,{});let Z=(0,u.NNq)(m,{utm_source:n}),f="/img/profile_cards/card-bg-".concat(Math.ceil((null==m?void 0:m.id)?m.id%9+1:8*Math.random()),".png");return(0,i.BX)(s.u_,{isOpen:t,onClose:h,width:480,overflow:"hidden",children:[(0,i.tZ)(s.xB,{showClose:!0,onClose:h}),(0,i.BX)(c.tu,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20,children:[(0,i.BX)(c.tu,{alignItems:"center",gap:8,children:[(0,i.tZ)(d.xv.H2,{weight:"semibold",children:"Invite your friends"}),(0,i.tZ)(d.xv.B3,{align:"center",color:"secondary",children:"Share your profile to help your friends and followers find you on Substack."})]}),(0,i.BX)(c.tu,{justifyContent:"center",alignItems:"center",border:"detail",radius:"md",shadow:"lg",className:"card-qnekae",children:[(0,i.tZ)(c.tu,{flex:"grow",className:"cardTop-yLKLMp",children:(0,i.tZ)("img",{className:"cardOverlay-BwDmPh",src:(0,u.zF4)(f,800)})}),(0,i.BX)(c.tu,{flex:"grow",alignSelf:"stretch",className:"cardBottom-eN66Vc",gap:16,paddingX:20,paddingBottom:20,paddingTop:0,children:[(0,i.BX)(c.hs,{justifyContent:"space-between",alignItems:"end",children:[(0,i.tZ)(l.qE,{user:m,size:112,className:"cardAvatar-lmAiQ1"}),(0,i.tZ)(a.zx,{priority:"secondary",rounded:!0,className:"fakeButton-UNdCaV",children:"Subscribe"})]}),(0,i.BX)(c.tu,{flex:"grow",gap:8,children:[(0,i.tZ)(d.xv.H2,{children:m.name}),(0,i.tZ)(d.xv.Meta,{className:"cardUrl-Ccl_69",size:12,color:"substack",children:Z.replace(/^(http|https):\/\//,"").replace(/\?.*$/,"")}),m.bio&&(0,i.tZ)(d.xv.B4,{color:"secondary",children:m.bio})]})]})]}),(0,i.tZ)(d.xv.Meta,{align:"center",children:"Share via"}),(0,i.tZ)(o.sZ,{shareUrl:Z,shareEventType:"profile",shareText:"Subscribe to me on Substack",itemKey:m.id,onShare:()=>{p&&p()}})]})]})}},43681:function(e,t,n){n.d(t,{LM:()=>_,Wh:()=>I,gY:()=>B,kB:()=>M,oy:()=>x,wg:()=>T});var i=n(16584),r=n(39693),o=n.n(r),l=n(71787),a=n(12795),c=n(42841),s=n(51455),d=n(59154),u=n(79138),h=n(4473),p=n(39535),m=n(95441),Z=n(93155),f=n(15771),g=n(61254),v=n(99916),C=n(97434),y=n(40949),k=n(75419),w=n(60308),b=n(63651);let _=e=>{let{variant:t,url:n,onLinkClicked:r}=e,{iString:o}=(0,m.M1)(),l=()=>{window.open((0,b.n1t)("https://www.facebook.com/sharer/sharer.php",{u:n}),"_blank"),null==r||r("facebook")};return"icon"===t?(0,i.tZ)(f.hU,{priority:"secondary-outline",onClick:l,children:(0,i.tZ)(u.Z,{size:20})}):(0,i.tZ)(v.sN,{leading:(0,i.tZ)(u.Z,{}),onClick:l,children:o("Share to Facebook")})},x=e=>{let{variant:t,url:n,twitterText:r,onLinkClicked:o}=e,{iString:l}=(0,m.M1)(),a=()=>{window.open((0,w.LaP)({url:n,text:r||""}),"_blank"),null==o||o("twitter")};return"icon"===t?(0,i.tZ)(f.hU,{priority:"secondary-outline",onClick:a,children:(0,i.tZ)(p.Z,{size:20})}):(0,i.tZ)(v.sN,{leading:(0,i.tZ)(p.Z,{}),onClick:a,children:l("Share to X")})},B=e=>{let{variant:t,url:n,twitterText:r,onLinkClicked:o}=e,{iString:l}=(0,m.M1)(),a=()=>{window.open((0,w.xJ2)({text:r?"".concat(r,"\n").concat(n):null!=n?n:""}),"_blank"),null==o||o("bluesky")};return"icon"===t?(0,i.tZ)(f.hU,{priority:"secondary-outline",onClick:a,children:(0,i.tZ)(d.Z,{size:20})}):(0,i.tZ)(v.sN,{leading:(0,i.tZ)(d.Z,{}),onClick:a,children:l("Share to Bluesky")})},I=e=>{let{variant:t,url:n,onLinkClicked:r}=e,{iString:o}=(0,m.M1)(),a=(0,y.y)(),c=()=>{n&&(a(n),null==r||r("copy"))};return"icon"===t?(0,i.tZ)(f.hU,{priority:"secondary-outline",onClick:c,children:(0,i.tZ)(l.Z,{height:20})}):(0,i.tZ)(v.sN,{leading:(0,i.tZ)(l.Z,{}),onClick:c,children:o("Copy link")})},M=e=>{let{variant:t,url:n,onLinkClicked:r}=e,{iString:o}=(0,m.M1)(),l=(0,k.i3)(),a=()=>{l.open({restackUrl:n||""}),null==r||r("notes")};return"icon"===t?(0,i.tZ)(f.hU,{priority:"secondary-outline",onClick:a,children:(0,i.tZ)(h.Z,{size:20})}):(0,i.tZ)(v.sN,{leading:(0,i.tZ)(h.Z,{}),onClick:a,children:o("Share to Notes")})},X=e=>{let{onLinkClicked:t,comment:n}=e,{iString:r}=(0,m.M1)(),{openModal:o,closeModal:l}=(0,Z.dd)();return n?(0,i.tZ)(v.sN,{leading:(0,i.tZ)(a.Z,{}),onClick:()=>{null==t||t("embed"),o({children:(0,i.tZ)(s.I,{comment:n||void 0,onClose:l}),width:540})},children:r("Embed note")}):null},T=e=>{let{url:t,onLinkClicked:n}=e,r=_(e),l=B(e),a=x(e),c=I(e),s=M(e),d=X(e);return o()([c,(0,i.tZ)(N,{url:t,onShare:()=>{null==n||n("chat")}}),d,(0,i.tZ)(g.iz,{paddingX:8}),s,r,l,a])};function N(e){let{url:t,onShare:n}=e,{iString:r}=(0,m.M1)(),o=(0,C.B)();return(0,i.tZ)(v.sN,{leading:(0,i.tZ)(c.Z,{}),onClick:()=>{o.open({linkAttachmentUrl:t,source:"share_post"}),null==n||n()},children:r("Send as message")})}},97434:function(e,t,n){n.d(t,{B:()=>p,c:()=>h});var i=n(7409),r=n(99282),o=n(98848),l=n(16584),a=n(6400),c=n(30396),s=n(6490),d=n(74312);let u=(0,a.createContext)({open:()=>void 0});function h(e){var t;let{children:n}=e,[o,a]=(0,c.eJ)(null),s=(0,c.Ye)(()=>({open:e=>a(e)}),[]);return(0,l.BX)(u.Provider,{value:s,children:[n,(0,l.tZ)(m,(0,r._)((0,i._)({},o),{source:null!==(t=null==o?void 0:o.source)&&void 0!==t?t:"substack",isOpen:!!o,onClose:()=>a(null)}))]})}function p(){return(0,c.qp)(u)}function m(e){var{isOpen:t,onClose:a}=e,c=(0,o._)(e,["isOpen","onClose"]);return(0,l.tZ)(s.u_,{isOpen:t,onClose:a,children:(0,l.tZ)(d.cr,(0,r._)((0,i._)({},c),{module:"@/frontend/reader2/chat/DmShareModal",onRequest:()=>n.e("2667").then(n.bind(n,84422)),resolve:e=>e.DmComposerModal,onClose:a}))})}},21972:function(e,t,n){n.d(t,{B:()=>l,I:()=>a});var i=n(94442),r=n(98914),o=n(27744);function l(e){let{tabId:t,restacking_user_id:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(0,o.I0)(),a=(0,i.sV)();return async(e,i,o)=>{l({type:"post_like",payload:{postId:e,isLiked:i}}),o&&l({type:"post_like",payload:{postId:e,isLiked:i,mediaClipId:o}});try{return await a(e,i,{tabId:t,restacking_user_id:n,media_clip_id:o}),!0}catch(t){return l({type:"post_like",payload:{postId:e,isLiked:!i}}),o&&l({type:"post_like",payload:{postId:e,isLiked:!i,mediaClipId:o}}),alert((0,r.zx)(t)),!1}}}function a(e){var t;return null!==(t=e.reactions["❤"])&&void 0!==t?t:0}},70293:function(e,t,n){n.d(t,{M:()=>r});var i=n(30396);function r(e,t,n){let{shouldCheck:r,threshold:o=200,bodyRef:l}=n,a=(0,i.sO)(),c=null!=l?l:a,s=()=>{let t=c.current;if(t){let{bottom:n}=t.getBoundingClientRect();n<window.innerHeight+o&&e()}};return(0,i.d4)(()=>{if(r)return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",s,{capture:!0})}},t),{bodyRef:c,check:s}}},84610:function(e,t,n){n.d(t,{H:()=>o});var i=n(16122),r=n(20591);function o(e){let{category:t,language:n="en"}=e,{iString:i}=I18N.i(n);switch(t){case"hate":return i("Hate");case"private_information":return i("Private information");case"plagiarism":return i("Plagiarism");case"impersonation":return i("Impersonation");case"illegal_activity":return i("Illegal activity");case"spam":return i("Spam");case"pornography":return i("Pornography");case"other":return i("Other");default:return console.error("unrecognized category",t),i("Other")}}let l=i.Ry({name:i.Z_().meta({title:"Name",description:"The name of the content policy"}),description:i.Z_().min(1).max(1e3).meta({title:"Description",description:"A short description of the policy"}),category:i.Km(r.Z_).meta({title:"Category",description:"The category of the content policy"}),violation_examples:i.IX(i.Z_().min(1).max(500)).meta({title:"Violation Examples",description:"Examples of content that violate the policy"}),non_violation_examples:i.IX(i.Z_().min(1).max(500)).meta({title:"Non-Violation Examples",description:"Examples of content that do not violate the policy"})}),a=i.Ry({content_policies:i.IX(l).meta({title:"Specifications",description:"Each of the policies below will be included in LLM prompts to help guide the model when evaluating content."})});i.Ry({main:a.meta({description:"Warning! Updates to this config will be applied in production immediately."}),test:a.meta({description:"Test changes to the content policies before applying them to the main config."})}).meta({$id:"moderation-config/content_policies/v2",title:"Content Policies",description:"The content policies to include in LLM prompts"})},12120:function(e,t,n){function i(e,t){let n=new Set(e);return n.add(t),n}function r(e,t){let n=new Set(e);return n.delete(t),n}function o(e,t){return new Set([...e].filter(e=>!t.has(e)))}n.d(t,{e5:()=>o,oR:()=>i,zu:()=>r})}}]);