"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3636"],{54416:function(e,t,n){n.d(t,{Z:()=>i});let i={visitedSurfacesIFrame:"visitedSurfacesIFrame-yy8AJL"}},68979:function(e,t,n){n.d(t,{Z:()=>_});var i=n(27412),a=n(7409),o=n(99282),r=n(16584),l=n(6400),s=n(40647),d=n(68833),u=n(59176),c=n(98914),m=n(63651);let h="".concat(m.tEc,"/fedcm/config.json");var g=n(60308),f=n(26111);let p="domain-redirect-time";class _ extends l.Component{componentDidMount(){let e=this.loadedWithLikelyLoggedInParam()?"param":null;e&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:e}):this.useFedCm()?this.initiateFedCmFlow():this.useIframe()&&window.addEventListener("message",e=>this.handleFrameMessage(e)),(0,c.iO)("triedSigningIn")}useFedCm(){var e;return(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)&&!this.state.user&&this.context.getConfigFor("enable_fedcm")&&"undefined"!=typeof window&&"IdentityCredential"in window}async initiateFedCmFlow(){let e=await navigator.credentials.get({identity:{providers:[{configURL:h,clientId:"substack_custom_domain"}]}});(null==e?void 0:e.token)==="redirect-to-login"&&this.attemptLoginRedirect({source:"fedcm"})}shouldBlockLoginRedirect(){var e;let t=parseInt((0,u.mM)(p,0));return this.state.block_auto_login||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||this.state.user||"undefined"==typeof window||Date.now()-t<=864e5||this.state.triedSigningIn}handleFrameMessage(e){var t,n,i;if((null===(t=e.data)||void 0===t?void 0:t.type)!=="frame-state")return;let a=!this.shouldBlockLoginRedirect()&&(null===(n=e.data)||void 0===n?void 0:n.loggedInAtSubstack);(0,d.j)(d.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:null===(i=e.data)||void 0===i?void 0:i.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:a}),a&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect(){var e;let{source:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,d.j)(d.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:"param"===t,source:t}),(0,u.ex)(p,"".concat(Date.now()));let n=(0,g.YZ5)({useOriginalUrl:!0});this.props.initialData.hide_intro_popup&&(n=(0,g.rhs)(n,{hide_intro_popup:!0})),location.href=(0,g.uXE)({for_pub:null===(e=this.state.pub)||void 0===e?void 0:e.subdomain,justTrying:!0,redirect:n})}loadedWithLikelyLoggedInParam(){return"undefined"!=typeof window&&window._preloads.original_url&&!!(0,f.x)(window._preloads.original_url,"lli")}useIframe(){var e,t,n;return!("undefined"==typeof window||this.loadedWithLikelyLoggedInParam()||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||(0,g.fF3)(null===(n=window)||void 0===n?void 0:null===(t=n.location)||void 0===t?void 0:t.href))}render(){return this.useIframe()?(0,r.tZ)("iframe",{src:"".concat((0,g.ZJn)(),"/channel-frame"),className:"channel-frame",width:"0",height:"0"}):null}constructor(e,t){var n;super(e,t),this.state=(0,o._)((0,a._)({},e.initialData),{triedSigningIn:null!==(n=(0,f.x)("triedSigningIn"))&&void 0!==n?n:void 0})}}(0,i._)(_,"contextType",s.QA)},15872:function(e,t,n){n.d(t,{W:()=>i});let i=(0,n(84864).randomString)()},49762:function(e,t,n){n.d(t,{Uw:()=>o,ZP:()=>r,kR:()=>l});var i=n(16584),a=n(40647);function o(e){var t;if(!e||"undefined"==typeof window||!(null===(t=window._preloads)||void 0===t?void 0:t.siteConfigs))return null;let n=window._preloads.siteConfigs[e];return void 0===n?null:n}let r=o;function l(e){let{configKey:t,children:n,value:o=!0}=e;return(0,a.xR)().getConfigFor(t)==o?(0,i.tZ)(i.HY,{children:n}):null}},96302:function(e,t,n){n.d(t,{ZP:()=>_,rs:()=>g});var i=n(7409),a=n(99282),o=n(98848),r=n(16584),l=n(59278),s=n(94184),d=n.n(s);n(98661);var u=n(95441),c=n(71068);n(58175);var m=n(28657);let h=e=>{var{children:t,size:n}=e,s=(0,o._)(e,["children","size"]);let{iString:d}=(0,u.M1)();return(0,r.tZ)(l.r,(0,a._)((0,i._)({"aria-label":d("Toggle setting")},s),{onClick:e=>{e.stopPropagation()},children:t}))},g=e=>{var{checked:t,disabled:n,size:l="md",theme:s="accent",leading:u,trailing:c}=e,g=(0,o._)(e,["checked","disabled","size","theme","leading","trailing"]);return(0,r.BX)(p,{children:[u&&u,(0,r.tZ)(h,(0,a._)((0,i._)({checked:t,disabled:n,className:d()(m.Z.track,n?m.Z.disabled:m.Z.enabled,t?m.Z.checked:m.Z.unchecked,m.Z[l],m.Z["theme_".concat(s)])},g),{children:(0,r.tZ)(f,{className:d()(m.Z.nub,n?m.Z.disabled:m.Z.enabled,t?m.Z.checked:m.Z.unchecked,m.Z[l])})})),c&&c]})},f=e=>{let{className:t}=e;return(0,r.tZ)(c.xu,{"aria-hidden":"true",className:t})},p=(0,c.zo)({display:"flex",justifyContent:"center",alignItems:"center",gap:8}),_=g},58175:function(e,t,n){n.d(t,{et:()=>b,hh:()=>C,xv:()=>g});var i=n(7409),a=n(99282),o=n(98848),r=n(16584),l=n(94184),s=n.n(l),d=n(98661),u=n(95441),c=n(5435),m=n(71068),h=n(23648);let g=e=>{var{className:t,align:n,size:l,weight:d,transform:g}=e,f=(0,o._)(e,["className","align","size","weight","transform"]);f=(0,a._)((0,i._)({},f),{textAlign:null!=n?n:f.textAlign,textTransform:null!=g?g:f.textTransform,fontSize:null!=l?l:f.fontSize,fontWeight:null!=d?d:f.fontWeight});let{iString:p,language:_}=(0,u.M1)(),v=f.children;if(f.translated&&"en"!==_){let e=[],t=[],n=(0,c.Fb)(f.children,e,t),i=p(n,...t);if(i&&i!==n)try{v=(0,c.rl)(i,e)}catch(e){console.log("Could not translate ".concat(n),e)}}return(0,r.tZ)(m.xu,(0,a._)((0,i._)({className:s()(h.Z.reset,t)},f),{children:v}))};function f(e){var{className:t,displayName:n}=e,l=(0,o._)(e,["className","displayName"]);let u=(0,d.forwardRef)((e,n)=>{var{className:d}=e,u=(0,o._)(e,["className"]);return(0,r.tZ)(g,(0,a._)((0,i._)({},l,u),{ref:n,className:s()(t,d)}))});return u.displayName=n,u}let p=f({as:"h1",font:"display",size:36,weight:"bold",lineHeight:44}),_=f({as:"h2",font:"display",size:30,lineHeight:36,weight:"bold"}),v=f({as:"h3",font:"display",size:24,lineHeight:28,weight:"bold"}),w=f({as:"h4",font:"display",size:20,lineHeight:24,weight:"bold"}),k=f({font:"text",size:19,lineHeight:26,weight:"regular"}),Z=f({font:"text",fontSize:17,lineHeight:24,fontWeight:"regular"}),b={font:"text",fontSize:15,lineHeight:20,fontWeight:"regular"},y=f(b),M=f({font:"text",fontSize:13,lineHeight:20,fontWeight:"regular"}),H=f({font:"text",size:11,lineHeight:20,weight:"regular"}),x=f((0,a._)((0,i._)({},{font:"meta",fontSize:11,lineHeight:20,fontWeight:"medium",textTransform:"uppercase",color:"secondary"}),{className:h.Z.meta})),N=f({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:h.Z.digit}),C=f({as:"a",decoration:"hover-underline"});f({as:"span"});let I=f({font:"text",color:"primary",className:h.Z.marketingBody}),z=f({as:"h1",weight:"regular",className:h.Z.marketingHeading1}),S=f({as:"h2",weight:"medium",className:h.Z.marketingHeading2}),F=f({as:"h3",weight:"medium",className:h.Z.marketingHeading3}),L=f({as:"h4",weight:"medium",className:h.Z.marketingHeading4}),A=f({as:"h5",weight:"bold",className:h.Z.marketingHeading5}),R=f({as:"h4",weight:"regular",textAlign:"center",className:h.Z.marketingQuote}),T=f({as:"h4",size:30,weight:"regular",className:h.Z.marketingSubtitle});g.H1=p,g.H2=_,g.H3=v,g.H4=w,g.B1=k,g.B2=Z,g.B3=y,g.B4=M,g.B5=H,g.Meta=x,g.Digit=N,g.MarketingBody=I,g.MarketingHeading1=z,g.MarketingHeading2=S,g.MarketingHeading3=F,g.MarketingHeading4=L,g.MarketingHeading5=A,g.MarketingQuote=R,g.MarketingSubtitle=T},31582:function(e,t,n){n.d(t,{$e:()=>i,vq:()=>a}),n(18029),n(98012),n(84864);let i=(e,t)=>{let n;if(t&&t!==e.currency){var i,a,o;if(!(null===(i=e.currency_options)||void 0===i?void 0:i[t]))return;n=null!==(o=null===(a=e.currency_options[t])||void 0===a?void 0:a.unit_amount)&&void 0!==o?o:null}else n="object"in e&&"price"===e.object?e.unit_amount:e.amount;return null!=n?n:0},a=(e,t)=>{var n;return t&&t!==e.currency?null===(n=e.metadata.minimum_local)||void 0===n?void 0:n[t]:e.metadata.minimum}},18967:function(e,t,n){n.d(t,{E4:()=>a,ML:()=>o});var i,a=((i={}).CompOneMonth="comp_one_month",i.CompThreeMonths="comp_three_months",i.CompSixMonths="comp_six_months",i.CompNineMonths="comp_nine_months",i.CompTwelveMonths="comp_twelve_months",i.Custom="custom",i);let o={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"}},70408:function(e,t,n){n.d(t,{I4:()=>l,SM:()=>o,YL:()=>s,ln:()=>r});var i=n(14773),a=n(63651);function o(e,t){let n=r(e,t);return n||((null==t?void 0:t.darkMode)?u:d)}function r(e){let{preferAuthorPhoto:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(null==e?void 0:e.author_photo_url)&&(0,a.zF4)(e.author_photo_url)?(0,a.zF4)(e.author_photo_url):(null==e?void 0:e.photo_url)&&(0,a.zF4)(e.photo_url)?(0,a.zF4)(e.photo_url):(null==e?void 0:e.id)!=null?l(e.id):null}function l(e){return"".concat((0,i.ZJ)(),"/img/avatars/").concat(["purple","yellow","orange","green","black"][e%5],".png")}function s(e){return e.startsWith("".concat((0,i.ZJ)(),"/img/avatars/"))}let d="".concat((0,i.ZJ)(),"/img/avatars/default-light.png"),u="".concat((0,i.ZJ)(),"/img/avatars/default-dark.png")}}]);