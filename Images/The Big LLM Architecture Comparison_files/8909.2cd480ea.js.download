"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["8909"],{31190:function(e,t,n){n.d(t,{Z:()=>r});let r={closeWelcomeModal:"closeWelcomeModal-KVUfKQ",maybeLater:"maybeLater-PlK9NK",publicationCoverPhotoLeft:"publicationCoverPhotoLeft-txdH2G",publicationCoverPhotoRight:"publicationCoverPhotoRight-RHPl8T",largePublicationCoverPhotoRight:"largePublicationCoverPhotoRight-A77S35",column:"column-_rp_8U",largeColumn:"largeColumn-bqn6Me",centeredColumn:"centeredColumn-M8Fujf",largeCenteredColumn:"largeCenteredColumn-AfeswM",hideColumnSmallScreens:"hideColumnSmallScreens-rlLOgZ",hideLargeColumnSmallScreens:"hideLargeColumnSmallScreens-LQBTX8",publicationCoverPhotoCenter:"publicationCoverPhotoCenter-rMU5R1",publicationLogo:"publicationLogo-EWjoMq",coverPrimary:"coverPrimary-cGRhhL",coverSecondary:"coverSecondary-pfbfwO",blurbImage:"blurbImage-bS0Pkx",containerClassName:"containerClassName-iHFmrN",promptClassName:"promptClassName-fM9VHe",inputClassName:"inputClassName-v5NZvy",subscribeButtonClassName:"subscribeButtonClassName-wpxkEl",largeHeading:"largeHeading-ZEJJF0",largeSubHeading:"largeSubHeading-lGmUwg",largePromptClassName:"largePromptClassName-Uexj1F",largeInputWrapperClassName:"largeInputWrapperClassName-VqAUAb",largeInputClassName:"largeInputClassName-zCK22A",largeSubscribeButtonClassName:"largeSubscribeButtonClassName-gTO6Dt",postContainer:"postContainer-iqizM2",postTitle:"postTitle-uVmG1_",postSubtitle:"postSubtitle-sIac6Y",postImage:"postImage-nsvz_r",faces:"faces-igzFCe",face:"face-G_PpVO",first:"first-bCHdQ8",last:"last-GRcjMY",bigSubtitle:"bigSubtitle-o28Z4u",balancedText:"balancedText-oQ__Kv",tosLink:"tosLink-n6HoHl",blurbText:"blurbText-isJ4mY",tosText:"tosText-yAQHNw"}},23750:function(e,t,n){n.d(t,{Z:()=>r});let r={closeButton:"closeButton-YU1ngO",imageCloseButton:"imageCloseButton-YQIpP0"}},68686:function(e,t,n){n.d(t,{Z:()=>r});let r={input:"input-y4v6N4",textarea:"textarea-GbEjRX",autogrowing:"autogrowing-_ipn9Y",inputText:"inputText-pV_yWb",inputWithButtonWrapper:"inputWithButtonWrapper-qFTACT",primary:"primary-MUgbK6",inputWithButtonInput:"inputWithButtonInput-KDznfS",start:"start-p226EZ",end:"end-LEvC6s",segmentedInputContainer:"segmentedInputContainer-BnsX3X",inputWithButtonButton:"inputWithButtonButton-SsgPne",focus:"focus-nqjos7",leading:"leading-hoxUwz",trailing:"trailing-cHz8Pv",error:"error-QSGsmD",disabled:"disabled-bZ2Wej",readOnly:"readOnly-yVYuPy",wrapper:"wrapper-JJvHsG",unstyled:"unstyled-IJLUJU"}},91925:function(e,t,n){n.d(t,{s:()=>l});var r=n(16584),a=n(4615);function l(e){let{children:t}=e;return(0,r.tZ)(a.f6,{theme:"coverTheme-PJLqY5",children:t})}},21312:function(e,t,n){n.d(t,{Z:()=>l});var r=n(16584),a=n(30396);function l(e){let{text:t,maxLines:n,ellipsesText:l="â€¦"}=e,i=(0,a.sO)(null),[o,s]=(0,a.eJ)(t);return(0,a.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";let e=(i.current.clientHeight+1)*n+1,r=0,a=0,o=t.length;for(;r<=o;){if(a=Math.floor((r+o)/2),i.current.innerText=t.slice(0,a),a===t.length&&i.current.clientHeight<=e){i.current.innerText="",s(t);return}i.current.clientHeight<=e?r=a+1:o=a-1}let u=t.slice(0,a-l.length-2);i.current.innerText="",s(u+l)})()},[i,t,n,l]),(0,r.BX)("div",{style:{position:"relative"},children:[(0,r.tZ)("div",{children:o}),(0,r.tZ)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}})]})}},59176:function(e,t,n){n.d(t,{ex:()=>i,mM:()=>l});var r=n(79546),a=n.n(r);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"undefined"!=typeof window?a().get(e,t):t},i=(e,t)=>{if("undefined"!=typeof window)return a().set(e,t)}},7882:function(e,t,n){n.d(t,{Kt:()=>b,NL:()=>h,Wf:()=>p,ib:()=>m,x8:()=>d});var r=n(7409),a=n(99282),l=n(98848),i=n(28599),o=n.n(i),s=n(73955),u=n.n(s),c=n(98661),_=n(48980);function p(e,t){let{auto:i,initialResult:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[u,p]=(0,c.useState)({result:s||null,isLoading:!!i,hasLoadedOnce:!1,error:null,promise:null}),d=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:i=new(o())}=t,s=(0,l._)(t,["abortController"]);let u=e((0,a._)((0,r._)({},s),{signal:i.signal})).then(e=>{if(!i.signal.aborted)return p({isLoading:!1,hasLoadedOnce:!0,error:null,result:e,promise:null}),e},e=>{if(!i.signal.aborted)return Promise.all([n.e("7152"),n.e("6993")]).then(n.bind(n,91985)).then(t=>{var n,r;let{Sentry:a}=t,l=e instanceof _.kp?{message:e.getMessage(),url:null===(n=e.url)||void 0===n?void 0:n.toString(),body:e.body}:{message:"There was an error fetching a resource"},i=e instanceof _.kp?{pathname:null===(r=e.url)||void 0===r?void 0:r.pathname}:{};!(e instanceof _.kp&&[404,500].includes(e.response.status))&&a.captureException(e,{extra:l,tags:i})}),p(t=>(0,a._)((0,r._)({},t),{isLoading:!1,error:e,result:null,promise:null})),e});return p(e=>(0,a._)((0,r._)({},e),{isLoading:!0,error:null,promise:u})),u};return(0,c.useEffect)(()=>{if(i){let e=new(o());return d({abortController:e}),()=>{e.abort()}}},t||[]),(0,a._)((0,r._)({},u),{refetch:d,setResult:e=>{p(t=>(0,a._)((0,r._)({},t),{error:null,result:e,isLoading:!1,promise:null}))},clearError:()=>{p((0,a._)((0,r._)({},u),{error:null}))}})}function d(e,t){switch(t.type){case"page_reset":var n;if(null===(n=t.payload)||void 0===n?void 0:n.merge)return e.slice(0,1);return[{isLoading:!0,error:null,result:null}];case"page_start":{let n=e.slice(),{page:l,id:i,merge:o}=t.payload,s={result:null,id:i,isLoading:!0,error:null};return n[l]=o?(0,a._)((0,r._)({},s,n[l]),{id:i}):s,n}case"page_load":{let{id:n,result:l}=t.payload;return e.map(e=>e.id===n?(0,a._)((0,r._)({},e),{isLoading:!1,result:l,error:null}):e)}case"page_error":{let{id:n,error:l}=t.payload;return e.map(e=>e.id===n?(0,a._)((0,r._)({},e),{isLoading:!1,result:null,error:l}):e)}}return e}let g=new Map;function m(e){var{pathname:t,auto:n,initialResult:i,deps:o,cacheTtl:s}=e,u=(0,l._)(e,["pathname","auto","initialResult","deps","cacheTtl"]);let c=p(e=>{var{pathname:n}=e,a=(0,l._)(e,["pathname"]);if(!t)throw Error("useFetch requires a pathname");if(s){let e=g.get(t);if(e){let{ts:t,ttl:n,promise:r}=e;if(t+n>Date.now())return r}}let i=(0,_.rd)(null!=n?n:t,(0,r._)({},u,a));return s&&g.set(t,{ts:Date.now(),ttl:s,promise:i}),i},o||[],{auto:n,initialResult:i});return(0,a._)((0,r._)({},c),{setResult:e=>{t&&s&&g.set(t,{ts:Date.now(),ttl:s,promise:Promise.resolve(e)}),c.setResult(e)}})}function h(e){var{pathname:t,auto:n,initialResult:i,deps:s,getPageInit:p,pages:g,dispatch:m}=e,h=(0,l._)(e,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return function(e,t){var n;let{auto:i,initialResult:s,pages:_,dispatch:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[g,m]=(0,c.useReducer)(d,[{result:s||null,isLoading:!!i,error:null}],void 0),h=null!=_?_:g,b=null!=p?p:m,f=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:n=new(o()),page:a=h.length,merge:i=!1,options:s}=t,c=(0,l._)(t,["abortController","page","merge","options"]);let _=h[a-1],p=u()();return b({type:"page_start",payload:{page:a,id:p,merge:i}}),e({options:(0,r._)({},s,c),signal:n.signal,page:a,lastPage:_}).then(e=>{if(!n.signal.aborted)return b({type:"page_load",payload:{page:a,id:p,result:e}}),e},e=>{if(!n.signal.aborted)return b({type:"page_error",payload:{page:a,id:p,error:e}}),e})},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{merge:t=!1}=e,n=(0,l._)(e,["merge"]);return b({type:"page_reset",payload:{merge:t}}),f((0,a._)((0,r._)({},n),{page:0,merge:t}))};(0,c.useEffect)(()=>{if(i){let e=new(o());return E({abortController:e}),()=>{e.abort()}}},t||[]);let C=!1,A=async()=>{if(!C){let e=h[h.length-1];if(!e.isLoading&&!e.error)return C=!0,await f()}},T=h[h.length-1];return{pages:h,page:h.length,lastPage:T,fetchMore:A,canFetchMore:T&&!T.isLoading&&!T.error,fetchFirstPage:E,hasLoadedOnce:!!(null===(n=h[0])||void 0===n?void 0:n.result)}}(e=>{let{page:n,lastPage:a,options:l}=e;if(!t)throw Error("useFetch requires a pathname");let i=p({init:(0,r._)({},h,l),page:n,lastPage:a});return(0,_.rd)(t,i)},s||[],{auto:n,initialResult:i,pages:g,dispatch:m})}function b(e,t,n){let r=(0,c.useRef)(null);return(0,c.useCallback)(function(){for(var n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];clearTimeout(r.current),r.current=setTimeout(()=>e(...a),t)},n)}},39198:function(e,t,n){n.d(t,{t:()=>o});var r=n(16584),a=n(61254),l=n(19081),i=n(58175);function o(e){let{children:t}=e;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(l.tu,{paddingY:4,paddingX:8,children:(0,r.tZ)(i.xv.B4,{color:"secondary",children:t})}),(0,r.tZ)(a.iz,{pullX:8})]})}},4615:function(e,t,n){n.d(t,{Sf:()=>c,f6:()=>s});var r=n(16584),a=n(94184),l=n.n(a),i=n(98661),o=n(71068);function s(e){let{theme:t,children:n,variables:a}=e,l=(0,i.useMemo)(()=>({theme:t,variables:a}),[t,a]);return(0,r.tZ)(u.Provider,{value:l,children:(0,r.tZ)(o.xu,{display:"contents",className:t,style:a,children:n})})}let u=(0,i.createContext)({theme:""});function c(e){let{children:t}=e,n=(0,i.useContext)(u);return(0,r.tZ)("div",{className:l()(n.theme,(0,o.oB)({display:"contents"})),style:n.variables,children:t})}},31742:function(e,t,n){n.d(t,{Ic:()=>i,YJ:()=>s,js:()=>a,ky:()=>o,pt:()=>l});var r=n(7409);let a={SUBSTACK:"substack",PUBLISHER:"publisher"},l={NECESSARY:"Necessary",PERFORMANCE:"Performance",FUNCTIONALITY:"Functionality"},i={ANONYMOUS_ID:"ajs_anonymous_id",AB_TESTING_ID:"ab_testing_id",AB_EXPERIMENT_SAMPLED:"ab_experiment_sampled",LIKELY_LOGGED_IN:"substack.lli",VISIT_ID:"visit_id",HIDE_COOKIE_BANNER:"hideCookieBanner",INTRO_POPUP_LAST_HIDDEN_AT:"intro_popup_last_hidden_at",LIKE_UPSELL_LAST_SHOWN_AT:"like_upsell_last_shown_at",CHATBOT_TERMS_LAST_ACCEPTED_AT:"chatbot_terms_last_accepted_at",SESSION_SID:"substack.sid",CUSTOM_DOMAIN_SESSION_SID:"connect.sid",DISABLE_HTML_PIXELS:"disable_html_pixels",DISABLE_EXPERIMENTS:"disable_experiments",COOKIE_STORAGE_KEY:"cookie_storage_key",PREFERRED_LANGUAGE:"preferred_language",OAUTH_INTERACTION:"substack.oauth_interaction",OAUTH_SESSION:"substack.oauth_session",OAUTH_RESUME:"substack.oauth_resume"},o=(0,r._)({GA_TRACKING:"_ga_tracking-substack",GA_TAG_MANAGER:"_ga_tag_manager-substack",AD_QUICK_TRACKING_PIXEL:"ad_quick_tracking_pixel-substack",META_TRACKING_PIXEL:"meta_tracking_pixel-substack",EXPERIMENTS:"experiments-substack",AWSALB:"AWSALB-substack",MUX_DATA:"muxData-substack",DATADOG_S:"_dd_s-substack",CF_CLEARENCE:"cf_clearance-substack",CF_BM:"__cf_bm-substack",FULLSTORY_UID:"fs_uid-substack",ZENDESK_ID:"__zlcmid-substack"},i),s={GA_TRACKING:"_ga_tracking-publisher",GA_TAG_MANAGER:"_ga_tag_manager-publisher",FB_PIXEL:"fb_pixel-publisher",TWITTER_PIXEL:"twitter_pixel-publisher",PARSELY_PIXEL:"parsely_pixel-publisher"};o.FULLSTORY_UID,o.GA_TRACKING,o.GA_TAG_MANAGER,s.GA_TRACKING,s.GA_TAG_MANAGER,s.PARSELY_PIXEL,s.TWITTER_PIXEL,s.FB_PIXEL,o.DATADOG_S,o.AD_QUICK_TRACKING_PIXEL,i.AB_TESTING_ID,i.ANONYMOUS_ID,i.VISIT_ID,o.EXPERIMENTS}}]);