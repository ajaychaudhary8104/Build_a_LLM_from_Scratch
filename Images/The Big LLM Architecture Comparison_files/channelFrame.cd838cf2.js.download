(()=>{var e={18446:function(e,t,n){var i=n(90939);e.exports=function(e,t){return i(e,t)}},57824:function(e){function t(e,t,n,i){return Math.round(e/n)+" "+i+(t>=1.5*n?"s":"")}e.exports=function(e,n){n=n||{};var i,o,r,s,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===a&&isFinite(e)){return n.long?(o=Math.abs(i=e))>=864e5?t(i,o,864e5,"day"):o>=36e5?t(i,o,36e5,"hour"):o>=6e4?t(i,o,6e4,"minute"):o>=1e3?t(i,o,1e3,"second"):i+" ms":(s=Math.abs(r=e))>=864e5?Math.round(r/864e5)+"d":s>=36e5?Math.round(r/36e5)+"h":s>=6e4?Math.round(r/6e4)+"m":s>=1e3?Math.round(r/1e3)+"s":r+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},79546:function(e,t,n){var i=n(62195),o=[n(39627),n(58855),n(45580),n(8728)];e.exports=i.createStore(o,[])},5777:function(e,t,n){"use strict";var i=n(35702),o=n(6400),r=n(68833);class s extends o.Component{componentDidMount(){let{likelyLoggedIn:e,loggedInSubscriberStat:t}=this.props.initialData;this.post({type:"frame-state",loggedInAtSubstack:!!e,subscriberState:t}),(0,r.j)(r.FP.FRAME_MESSAGE_SENT,{hasUserState:!!t})}post(e){var t,n;let{protocol:i,port:o}=window.location,r=null===(t=this.props.initialData)||void 0===t?void 0:t.targetOrigin,s=(null==r?void 0:r.startsWith("http"))?r:"".concat(i,"//").concat(r).concat(o?":".concat(o):"");null===(n=window.top)||void 0===n||n.postMessage(e,s)}render(){return""}}(0,i.Z)(s)},68833:function(e,t,n){"use strict";n.d(t,{FP:()=>i.FP,j:()=>i.j,uF:()=>o.S}),n(47102),n(55229);var i=n(8090),o=n(53516)},8090:function(e,t,n){"use strict";n.d(t,{FP:()=>w,Kl:()=>_,Md:()=>P,j:()=>O});var i,o,r=n(21811),s=n(15872),a=n(55229),d=n(43300),u=n(49762),l=n(96708),c=n(98914);n(31406),n(98012);var p=n(37313),v=n(60308),h=n(26111),f=n(41935);n(84864);let w=p.F,m="undefined"!=typeof window,g=!!(m&&window.navigator&&window.navigator.sendBeacon),b=!(0,c.w1)()&&g,y=new d.T({batchOptions:b?{maxBatchSize:8,maxBatchDataSize:1e4}:void 0,send:function(e,t){m&&(b&&t&&e.push(F(e,t)),new Image().src=(0,v.n1t)(b?"/api/v1/firehose/batch":"/api/v1/firehose",{_:new Date().getTime(),d:e.join(",")}))},beacon:function(e,t){if(!m)return;e.push(F(e,"beacon",t));let n=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon("/api/v1/firehose/batch",n)}}),_=()=>{m&&b&&(window.addEventListener("beforeunload",e=>{y.sendBeacon(e)}),window.addEventListener("pagehide",e=>{y.sendBeacon(e)}),document.addEventListener("visibilitychange",e=>{"hidden"===document.visibilityState&&y.sendBeacon(e)}),setInterval(()=>{y.intervalFlush()},6e4))},S=m&&window!=window.top&&(0,f.l)(c.EH),E="browser";function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n;if(["development","test"].includes((n="production",void 0!==n)?n:"")&&!e)throw Error("`undefined` event passed to FRONTEND track call");T(e,Object.assign({},t))}catch(e){try{window.Sentry&&window.Sentry.captureException(e)}catch(t){console.error("Failed to track event",e)}}}m&&(navigator.standalone||(null===(i=(o=window).matchMedia)||void 0===i?void 0:i.call(o,"(display-mode: standalone)").matches))&&(E="standalone");let k=()=>document.location.pathname.startsWith("/p/"),j=()=>{var e,t,n;let i=window._preloads,o=(null==i?void 0:null===(e=i.post)||void 0===e?void 0:e.id)&&(null==i?void 0:i.pub),r=!!(null==i?void 0:null===(t=i.post)||void 0===t?void 0:t.slug)&&(null==i?void 0:null===(n=i.post)||void 0===n?void 0:n.slug)===document.location.pathname.split("/")[document.location.pathname.split("/").length-1];return!!(o&&k()&&r)},x=e=>e?e.is_subscribed?"Paid subs":e.is_free_subscribed?"Free subs":"Anonymous":"Anonymous";function P(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(document.location.pathname.startsWith("/embed")&&m&&(null===(n=window)||void 0===n?void 0:null===(t=n._preloads)||void 0===t?void 0:null===(e=t.pub)||void 0===e?void 0:e.embed_tracking_disabled))return;T(w.PAGES,Object.assign(function(){let e={};if(m){let t=window._preloads&&"post"in window._preloads&&window._preloads.post,n=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);n&&t&&n[1]===t.slug&&(e.post_id=t.id,e.post_audience=t.audience,e.post_type=t.type)}return e}(),i));let o=(0,a.xL)();if(o&&(new Image().src="https://www.facebook.com/tr?id=".concat(o,"&ev=PageView")),(0,l.g)("pageview"),(0,a.XY)("pageview"),(0,a.Hx)("page_view"),m&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView){let e={url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1,data:{}};if((0,u.ZP)("add_section_and_tag_metadata")){if(k()&&!j())return;if(k()){let t=window._preloads;e.data={audience:x(null==t?void 0:t.user)}}}window.PARSELY.beacon.trackPageView(e)}}function M(e){var t,n,i,o,a,d,u,l,p;let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=null;try{f=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}let w={event:e,timestamp:new Date().toISOString(),properties:Object.assign({browserSessionId:s.W,iframeVisitId:S,r:(0,h.x)("r"),magicUserId:"undefined"!=typeof window&&(null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.is_magic)?window._preloads.user.id:void 0},v),context:{client_type:"web",displayMode:E,page:{referrer:document.referrer,title:document.title,url:document.location.href,height:null!==(d="undefined"!=typeof window&&window.innerHeight)&&void 0!==d?d:0,width:null!==(u="undefined"!=typeof window&&window.innerWidth)&&void 0!==u?u:0},campaign:(0,r.l)(),timezone:f,screen:{height:null!==(l="undefined"!=typeof window&&(null===(o=window.screen)||void 0===o?void 0:o.height))&&void 0!==l?l:0,width:null!==(p="undefined"!=typeof window&&(null===(a=window.screen)||void 0===a?void 0:a.width))&&void 0!==p?p:0}}};return(0,c.m)(JSON.stringify(w))}function F(e,t,n){let i=e.length,o=e.map(e=>e.length).reduce((e,t)=>e+t,0);return M(w.FIREHOSE_BATCH_SENT,{dataSize:o,batchSize:i,batchType:t,eventType:null==n?void 0:n.type})}function T(e){var t,n,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window||"undefined"==typeof document)return;let r=M(e,o);y.add(r),(null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.is_global_admin)&&console.log("EVENT: ".concat(e),o)}},59176:function(e,t,n){"use strict";n(79546)},23854:function(e,t,n){"use strict";n.d(t,{us:()=>o});var i,o=((i={}).comments_disabled="comments_disabled",i.free_subscription_required="free_subscription_required",i.paid_subscription_required="paid_subscription_required",i.founding_subscription_required="founding_subscription_required",i)},35934:function(e,t,n){"use strict";n.d(t,{gz:()=>o});var i=n(27412);class o extends Error{constructor(e,t={},n=!1,o=null){let r,s;super(e),(0,i._)(this,"status",void 0),(0,i._)(this,"userVisible",void 0),(0,i._)(this,"messageHtml",void 0),(0,i._)(this,"response",void 0),(0,i._)(this,"type",void 0),(0,i._)(this,"metadata",void 0),this.name=this.constructor.name;let a=null,d=null,u=null;if("object"==typeof t){var l,c,p,v,h,f;r=null!==(l=t.status)&&void 0!==l?l:500,n=null!==(c=t.userVisible)&&void 0!==c&&c,o=null!==(p=t.messageHtml)&&void 0!==p?p:null,a=null!==(v=t.responseBody)&&void 0!==v?v:null,d=null!==(h=t.type)&&void 0!==h?h:null,u=null!==(f=t.metadata)&&void 0!==f?f:null}else r=t;this.status=r,this.userVisible=!!a||n,this.messageHtml=o,this.type=d,this.metadata=u,a?s=a:this.userVisible?o?s={errors:[{msg:e,msgHTML:o}],type:"list"}:(s={error:e,type:"single"},this.type&&(s.type=this.type),this.metadata&&(s.metadata=this.metadata)):s={error:""},this.response={body:s},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},(()=>{var e=[];n.O=function(t,i,o,r){if(i){r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[i,o,r];return}for(var a=1/0,s=0;s<e.length;s++){for(var i=e[s][0],o=e[s][1],r=e[s][2],d=!0,u=0;u<i.length;u++)(!1&r||a>=r)&&Object.keys(n.O).every(function(e){return n.O[e](i[u])})?i.splice(u--,1):(d=!1,r<a&&(a=r));if(d){e.splice(s--,1);var l=o();void 0!==l&&(t=l)}}return t}})(),n.rv=function(){return"1.2.5"},(()=>{var e={1834:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,r,s=i[0],a=i[1],d=i[2],u=0;if(s.some(function(t){return 0!==e[t]})){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(d)var l=d(n)}for(t&&t(i);u<s.length;u++)r=s[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},i=self.webpackChunksubstack=self.webpackChunksubstack||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),n.ruid="bundler=rspack@1.2.5";var i=n.O(void 0,["8206","4017","6722","1825","7680","3834","4813","9850","1542","7810","8783"],function(){return n(5777)});i=n.O(i)})();