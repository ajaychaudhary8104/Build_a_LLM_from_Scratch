"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["8783"],{84864:function(e,t,n){n.r(t),n.d(t,{AUDIENCE_ADJECTIVES:()=>eA,CENTS_PER_EMAIL:()=>eW,CORE_SUPPORTED_LANGUAGES:()=>eO,ChatError:()=>ej,DEFAULT_GIFT_LENGTH_DAYS:()=>ek,DEFAULT_GRANT_NUMBER:()=>ew,DEFAULT_MAX_BYLINES:()=>it,DEFAULT_PREVIEW_LIMIT:()=>er,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>eo,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>ei,EEA_COUNTRIES:()=>td,EU_COUNTRIES:()=>tc,FIRST_ILLEGAL_POSTGRES_INTEGER:()=>ed,GIFT_LENGTH_MONTHS:()=>eN,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>en,GRACE_PERIOD_DAYS:()=>$,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>eI,LINK_SUPPORTED_COUNTRIES:()=>tm,LIVE_STREAM_CONTENT_WARNINGS:()=>iE,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>ee,MAX_BANK_PAYMENT_ATTEMPTS:()=>es,MAX_FILE_SIZE:()=>G,MAX_INT32:()=>ec,MAX_MEDIA_FILE_SIZE:()=>O,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>F,MAX_PODCAST_FIELD_LENGTH:()=>em,MAX_PODCAST_FILE_SIZE:()=>B,MAX_SECTION_DESCRIPTION_LENGTH:()=>ef,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>ea,MISSING_IMAGE_HEIGHT:()=>v.Vi,MISSING_IMAGE_URL:()=>v.wW,MISSING_IMAGE_WIDTH:()=>v._j,MONTH_NAMES:()=>eL,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>ex,NO_REPLY_EMAIL:()=>e2,NZD_COUNTRIES:()=>tf,OLD_PODCAST_CATEGORIES:()=>eR,PODCAST_CATEGORIES:()=>eP,PODCAST_SECTIONS_TO_MARK_AS_NEWSLETTERS:()=>eK,PUBLICATION_TIER_DESCRIPTIONS:()=>n9,PUB_IDS_TO_NOT_SHOW_FOLLOW_PROMPT_ON:()=>U,READ_WORDS_PER_MINUTE:()=>eu,SECURITY_QUESTIONS:()=>eT,SENDER_REMINDER_2_DELAY_SINCE_LAST_REMINDER:()=>eC,SENDER_REMINDER_3_DELAY_SINCE_LAST_REMINDER:()=>eU,SENDER_REMINDER_DELAY:()=>eM,SPEAK_WORDS_PER_MINUTE:()=>el,SPECIAL_SUBDOMAINS:()=>ey,STRIPE_COUNTRIES_WITH_TRANSFERS_ENABLED:()=>iI,STRIPE_DAYS_UNTIL_DUE:()=>et,STRIPE_TAX_ID_TYPES:()=>eD,SUBSCRIPTION_WORDS:()=>nz,SUBSTACK_PUBLICATION_IDS:()=>Q,SUBSTACK_PUBLICATION_ID_BETA:()=>j,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>V,SUBSTACK_PUBLICATION_ID_COMPANY:()=>H,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>W,SUBSTACK_PUBLICATION_ID_ON:()=>x,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>J,SUBSTACK_PUBLICATION_ID_READ:()=>Y,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>K,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>z,SUBSTACK_USER_ID:()=>Z,SUBSTACK_USER_IDS:()=>X,SUBSTACK_WRITERS_USER_ID:()=>q,SUPPORTED_CURRENCIES:()=>tp,SUPPORTED_LANGUAGES:()=>eB,SUPPORTED_LANGUAGES_IN_LANGUAGE:()=>eF,SUPPORTED_SEARCH_LANGUAGES:()=>eG,TERSE_AUDIENCE_ADJECTIVES:()=>eE,TRANSPARENT_IMAGE_URL:()=>v.Vk,TWEET_PLACEHOLDER_DATA_URI:()=>C,WEEK_IN_SECONDS:()=>eH,anonymousName:()=>nj,areCommentsLocked:()=>nl,areHuesEqual:()=>tD,assertIsDefined:()=>P,assertIsError:()=>R,averageVectors:()=>iT,balanceTextWithCharacterWidths:()=>tu,baschezScoreToEmojis:()=>tV,baschezToCategory:()=>tK,canDeleteComment:()=>ng,canDeletePost:()=>nb,canEditComment:()=>np,canManageCommentAsPrimaryUser:()=>nf,canPostComments:()=>nc,canReplyToPost:()=>e1,canReportComment:()=>n_,canSeeCommenterEmails:()=>na,canSeeComments:()=>ns,canSeeTranscription:()=>nu,centsToDollarString:()=>tT,centsToPriceString:()=>ty,colorLightness:()=>tF,colorLuma:()=>tG,commentsEnabledForPost:()=>ni,couldPostCommentsIfSubscribed:()=>nd,coverPageFreeSubscriberCount:()=>t2,currencySymbol:()=>tv,decimalToPercent:()=>t4,defaultAudienceForPub:()=>ny,defaultCommentLevelForPub:()=>nE,defaultSendEmailForPub:()=>nI,dollarFormatter:()=>tA,dollarStringToCents:()=>tE,endsWithPunctuation:()=>tt,ensureInList:()=>iy,escapeNewlines:()=>nn,extractAttributionDataFromRecord:()=>ik,extractEventAttributionDataFromRecord:()=>iw,flowTextBasedOnWidth:()=>ib,formatArray:()=>tH,formatBytes:()=>nW,formatEllipsis:()=>te,formatPercentForDisplay:()=>t8,formatPodcastDuration:()=>ia,formatPodcastDurationLower:()=>is,formattedBytesToNumber:()=>nK,foundingMemberDescription:()=>n$,fromEnv:()=>ig,getByLine:()=>eY,getBylineUsers:()=>nD,getCopyrightedContentBucketName:()=>ev,getCurrencyForCountry:()=>tg,getGiftValueText:()=>tk,getGlobalBanMessage:()=>ep,getImageUrlFromBucketKey:()=>e_,getInitalPayment:()=>tN,getModerationPolicyName:()=>eh,getNext5HoursAfterMidnight:()=>io,getNumberWithCommas:()=>t1,getOpennodePaymentUrl:()=>n0,getPlanTitle:()=>im,getPostCtaPresentParticiple:()=>nU,getPostCtaText:()=>nC,getPostEmbedMeta:()=>eQ,getPostMediaBucketName:()=>eb,getPrintedByline:()=>nB,getPrintedPostType:()=>nP,getPublicationBanMessage:()=>eg,getReadableAttribution:()=>n2,getRemovedContentBucketName:()=>eS,getRestackEmailSubject:()=>nR,getScheduledAt:()=>t9,getSectionBasedSubjectOverride:()=>iN,getSubscribeText:()=>eJ,getSubscriptionSentenceWithCustomWords:()=>nZ,getSubscriptionWord:()=>nq,getSuperscriptNumberString:()=>nX,getTrialEndOverride:()=>nN,getWithIndefiniteArticle:()=>il,get_month_name:()=>nk,guessFirstName:()=>_.Q1,guessLastName:()=>_.bu,handleDocumentLinkClick:()=>nx,hashString:()=>ic,hexToHSV:()=>tP,hexToRgb:()=>tR,hidePaidPostsFor:()=>eZ,isAppAttribution:()=>n5,isDefaultMarblePhoto:()=>v.d7,isNotMainEntry:()=>nH,isNotesAttribution:()=>n6,isPaidPub:()=>nS,isPinnable:()=>ie,isProbablyEmail:()=>n8,isSearchEngineCrawlerQuick:()=>nV,isSubstackNetworkAttribution:()=>n3,isTouchDevice:()=>i_,isUUID:()=>nO,isValidCommentLevel:()=>nA,isZeroDecimalCurrency:()=>tb,joinLines:()=>tj,kFormatter:()=>id,longestSetOfWordsBelowCost:()=>ts,mode:()=>nM,normalizeHex:()=>tU,numberToHumanFileSize:()=>n1,numberToOrderOfMagnitude:()=>tq,numberToOrderOfMagnitudeString:()=>tX,numberToOrdinal:()=>tQ,numberToRoughRankingString:()=>t0,numberToRoughShortString:()=>t$,numberToString:()=>tZ,onlyOwnsRootComment:()=>nh,oxfordComma:()=>nw,paymentPeriodToPlan:()=>n7,pluralize:()=>ne,possessive:()=>nt,postSocialDescription:()=>nY,preventOrphans:()=>e9,profilePageFreeSubscriberCountString:()=>t3,pubCurrency:()=>th,pubHasPaymentsEnabled:()=>nv,pubRoleForManagingComment:()=>nm,pubUsesZeroDecimalCurrency:()=>t_,pubsWithCustomSubscriptionWords:()=>nQ,randomString:()=>tY,resolveTwitterShareText:()=>ez,restacksEnabledForPost:()=>nr,rgbToHex:()=>tL,rgbaToString:()=>tB,roughFreeSubscriberCount:()=>t5,roughFreeSubscriberCountString:()=>t6,roundPriceUp:()=>tI,sanitizeInlineText:()=>n4,satoshiToBitcoin:()=>tS,secondsToHHMMSS:()=>tM,secondsToLargestUnit:()=>tw,sectionIsSpecificallyMarkedAsNewsletter:()=>eV,setDateToMidnightPST:()=>ir,shouldHidePostFromArchive:()=>nL,shouldUseInlineComments:()=>eq,showCommentsOnPost:()=>no,simpleBalanceText:()=>ti,sortSubscriptions:()=>e$,spellOutNumber:()=>t7,startsWithVowel:()=>iu,streamToBuffer:()=>ih,stringCost:()=>ta,stripInvalidBytes:()=>e5,subscriptionTypeText:()=>e0,textLengthAlphaNumericMinimumValidator:()=>ip,toFlagEmoji:()=>iA,toMillis:()=>nF,toSentenceCase:()=>tJ,toTitleCase:()=>tz,transformDocumentLink:()=>nG,truncAndFormatArray:()=>tx,truncateBytes:()=>e6,truncateNumber:()=>tW,truncateText:()=>e8,truncateToValidBytes:()=>e3,truncateWords:()=>e4,twitterScreenNames:()=>M,userFromReferralKey:()=>iS,userReferralKey:()=>iv,validCommentLevels:()=>nT,validateColor:()=>tO,validateHex:()=>tC,videoPlayerDimensions:()=>ii});var i=n(27412),r=n(7409),o=n(99282),a=n(58865),s=n(18446),u=n.n(s),l=n(14293),c=n.n(l),d=n(57824),m=n.n(d),f=n(73943),p=n(40894),g=n(6070),h=n(23854),b=n(35934),_=n(23945),v=n(61301),S=n(34155),y=n(64945).Buffer;function T(){let e=(0,a._)(["We've removed your publication from public view due to a violation of Substack's ",". If you believe this was a mistake, you can submit an appeal to our Standards & Enforcement team"]);return T=function(){return e},e}function A(){let e=(0,a._)(["","k"]);return A=function(){return e},e}function E(){let e=(0,a._)(["","m"]);return E=function(){return e},e}function I(){let e=(0,a._)(["","b"]);return I=function(){return e},e}function N(){let e=(0,a._)(["","t"]);return N=function(){return e},e}function k(){let e=(0,a._)(["Over "," subscribers"]);return k=function(){return e},e}function w(){let e=(0,a._)(["Get "," in your inbox"]);return w=function(){return e},e}let M=f.vn,C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC",U=[21267,260347];function P(e){if(null==e)throw new b.gz("Expected value to be defined, but received ".concat(e))}function R(e){if(!(e instanceof Error))throw new b.gz("Expected value to be an Error, but received ".concat(e))}let L=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],D=["CA","AU","HK","NZ"],B=0x15e00000,O=0x500000000,F=0x3200000,G=0x2bc00000,x=1,H=46438,W=86696,K=81318,V=87805,j=508885,Y=737237,z=1014268,J=1056696,Q=[1,46438,86696,81318,87805,508885,737237,1014268,1056696],Z=0x4d8b0ef,q=0x27ead30,X=[0x4d8b0ef,0x27ead30],$=16,ee=45,et=30,en=2/24,ei=1e3,er=356,eo=256,ea=6,es=3,eu=220,el=150,ec=0x7fffffff,ed=0x80000000,em=25e4,ef=1e3;function ep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";return"Your account is currently suspended. Something you posted may have violated Substack's ".concat(eh(e),". If you believe this is a mistake, you can submit an appeal to our Standards & Enforcement team here:")}function eg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iTemplate:n}=I18N.i(t);return n(T(),eh(e,t))}function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:n}=I18N.i(t);switch(e){case"hate":return n("Hate policy");case"illegal":return n("Illegal & Harmful Activities policy");case"impersonation":return n("Impersonation policy");case"plagiarism":return n("Plagiarism policy");case"porn":return n("Nudity, Porn, & Erotica policy");case"private_information":return n("Private Information policy");case"spam":return n("Spam & Phishing policy");default:return n("Content Guidelines, Terms of Service, or Publisher Agreement")}}function eb(){let e="substack-post-media";if(!e)throw new b.gz("postMediaBucketName is not defined");return e}function e_(e){return"https://".concat(eb(),".s3.amazonaws.com/").concat(e)}function ev(){return"substack-post-media"===eb()?"substack-copyrighted-media":"substack-copyrighted-media-staging"}function eS(){return"substack-post-media"===eb()?"substack-removed-media":"substack-removed-media-staging"}let ey=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],eT=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],eA={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},eE={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},eI=new Date("2020-01-16"),eN=1,ek=30,ew=3,eM=2592e5,eC=6048e5,eU=1728e6,eP={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},eR={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},eL=["January","February","March","April","May","June","July","August","September","October","November","December"],eD=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xe9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xf3sz\xe1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*Hōjin Bangō*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*Tōroku Kokugai Jigyōsha no Tōroku Bangō*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (davčna številka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],eB={de:"German",es:"Spanish",fr:"French",it:"Italian",pt:"Portuguese","pt-br":"Brazilian Portuguese"},eO=["en","de","es","fr","it","pt"],eF={de:"Deutsch",es:"Espa\xf1ol",fr:"Fran\xe7ais",it:"Italiano",pt:"Portugu\xeas","pt-br":"Portugu\xeas do Brasil"},eG=["ar","cs","de","el","en","es","fr","hi","hu","id","it","ja","ko","la","nl","no","pl","pt","ro","ru","sv","th","tr","vi","zh"],ex=["IN"],eH=604800,eW=.0064,eK={therampart:{sectionIds:[62635]},thebulwark:{sectionIds:[87956]}},eV=e=>{var t;let{section:n,pub:i}=e;return!!(null===(t=eK[i.subdomain])||void 0===t?void 0:t.sectionIds.includes(n.id))};class ej extends Error{constructor({status:e,errType:t,errMessage:n,pub:a,body:s}){super(n),(0,i._)(this,"name",void 0),(0,i._)(this,"status",void 0),(0,i._)(this,"response",void 0),this.name=this.constructor.name,this.status=e,this.response={body:(0,o._)((0,r._)({},s),{status:t,error:n})},a&&(this.response.body.publication=a),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function eY(e){var t,n,i,r;let{skipMultiContributorCheck:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("popularinformation"===e.subdomain)return"Judd Legum";if("whyisthisinteresting"===e.subdomain)return"Noah & Colin";if("informant"===e.subdomain)return"Nick Martin";if("colinmeloy"===e.subdomain)return"Colin Meloy";if("petition"===e.subdomain||"russiandissent"===e.subdomain)return null;if("mattlabash"===e.subdomain)return"Matt Labash";if("wmbrown"===e.subdomain)return"Matt Hranek";if("bigtechontrial"===e.subdomain)return"Matt Stoller";if("thegreenspoon"===e.subdomain)return"Greta and Fanny";if("exponentialview"===e.subdomain)return"Azeem Azhar";if("thegodpod"===e.subdomain)return"God";if(!o&&"object"==typeof e&&"contributors"in e&&(null===(r=e.contributors)||void 0===r?void 0:r.length)>1)return null;let a=e.name||e.subdomain;for(let r of["object"==typeof e&&"contributors"in e&&(null===(n=e.contributors)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.name),"author_name"in e&&e.author_name,e.email_from_name,null==e?void 0:null===(i=e.author)||void 0===i?void 0:i.name])if(r&&(r=r.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim())&&!r.startsWith(a)&&!a.startsWith(r)&&!r.endsWith(a)&&!a.endsWith(r))return r;return null}function ez(e){var t;let{pub:n,post:i}=e,r=(null==n?void 0:n.twitter_screen_name)||n&&M[null==n?void 0:n.subdomain],o=null!==(t=null==i?void 0:i.title)&&void 0!==t?t:null==n?void 0:n.name;return n&&!i&&(o="Subscribe to ".concat(o)),r&&(!i||n&&(!i.publishedBylines.length||i.publishedBylines.some(e=>e.id===n.author_id)))&&(o+=", by @".concat(r)),o}function eJ(e){let{now:t=!1,isFreeSubscribed:n=!1,isMobile:i=!1,isPledged:r=!1,pledgesEnabled:o=!1,language:a,foundingUpsell:s,isFoundingSubscribed:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"Subscribe";let{iString:l}=I18N.i(a||e.language);return nZ(e,()=>{if(n&&e.plans&&s&&!u)return l("Upgrade to founding");if(n&&e.plans&&i&&t)return l("Upgrade now");if(n&&e.plans&&i&&!t)return l("Upgrade");if(n&&e.plans&&!i&&t)return l("Upgrade to paid now");if(n&&e.plans&&!i&&!t)return l("Upgrade to paid");else if(n&&o&&!r&&t)return l("Pledge your support now");else if(n&&o&&!r&&!t)return l("Pledge your support");else if(t)return l("Subscribe now");return l("Subscribe")},a=>(n&&e.plans?tJ(i?a.upgrade:a.upgradeToPaid):n&&o&&!r?"Pledge your support":tJ(nq(e,"subscribe")))+(t?" now":""))}function eQ(e){let{date:t,bylines:i,like_count:r,comment_count:o,language:a="en"}=e,{iPlural:s}=I18N.i(a),u=n(98012).Z,l=[];return l.push(u(t).locale(a).fromNow()),r&&l.push(s("1 like","%1 likes",r)),o&&l.push(s("1 comment","%1 comments",o)),i&&i.length&&l.push(tH(i.map(e=>e.name).filter(e=>null!==e),a)),l.join(" \xb7 ")}let eZ=["astralcodexten"];function eq(e,t){return!(!["astralcodexten","company","library","on","blog","stories"].includes(null==e?void 0:e.subdomain)&&((null==t?void 0:t.type)!=="podcast"||(0,g.HD)({pub:e}))&&((null==t?void 0:t.type)!=="video"||(0,g.HD)({pub:e})))}let eX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toUpperCase().replace(/^(THE|A|AN)\s+/,"")};function e$(e){return e.sort((e,t)=>{var n,i;if(!e)return 1;if(!t||"subscribed"===e.membership_state&&"subscribed"!==t.membership_state)return -1;if("subscribed"===t.membership_state&&"subscribed"!==e.membership_state)return 1;let r=eX(null===(n=e.publication)||void 0===n?void 0:n.name),o=eX(null===(i=t.publication)||void 0===i?void 0:i.name);return r<o?-1:+(r>o)})}function e0(e){if(e.expiry&&new Date(e.expiry)>new Date)switch(e.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else if(!e.email_disabled||e.email_settings&&Object.values(e.email_settings||{}).some(e=>"individual"===e))return"Free Subscriber";else if(e.email_settings&&Object.values(e.email_settings||{}).some(e=>"digest"===e))return"Follows in Digests";else return"Emails Disabled"}function e1(e){let{post:t,user:n}=e;return!!(t&&n&&n.has_publication&&!n.is_admin&&!n.is_contributor&&"coming-soon"!==t.slug)}let e2="no-reply@substack.com";function e5(e){if(!e||"string"!=typeof e)return e;e=e.replace(/[\u0000-\u0008\u000B-\u001F\u007F]/g,e=>e.length>1?e:" ");try{return encodeURIComponent(e),e}catch(e){}return e.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,e=>e.length>1?e:" ")}function e6(e,t){let n=new TextEncoder().encode(e);return n.length>t?new TextDecoder().decode(n.slice(0,t)):e}function e3(e){for(;;)try{return encodeURIComponent(e),e}catch(t){e=e.substring(0,e.length-1)}}function e8(e,t){let{words:n=null,ellipsis:i="…",extension:r=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return e;let o=!1;if(n){let t=new RegExp("^(\\w+\\W+){".concat(n-1,"}\\w+")).exec(e);t&&(o=!0,e=t[0])}return t&&e.length>t&&(o=!0,e=e.substring(0,t-i.length)),o&&(e=e3(e)+i,r&&(e+=r)),e}function e4(e,t){let{ellipsis:n="…",quotationMarks:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return e;i&&(t-=2);let r=e;if(e&&e.length>t){let i=e.split(/\s+/),o=[],a=0;for(;a<=t;){let e=i.shift();if(!e||a+e.length>t)break;o.push(e),a+=e.length+1}r=te(o.join(" "),n)}return i&&(r.endsWith(" ")||r.startsWith(" "))&&(r=r.trim()),i?'"'.concat(r,'"'):r}let e9=e=>{var t;if(!e)return"";let n=e.trim(),i=n.split(/\s/);return(null!==(t=i[i.length-1])&&void 0!==t?t:"").length>5?n:n.replace(/(\s)(\S+)$/,"\xa0$2")},e7=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"…";return"".concat(e.replace(e7,"")).concat(t)}function tt(e){return/[!.?](?:\s+)?$/.test(e)}let tn=new Set([" ","-"]);function ti(e){let{maxCharsPerLine:t=55,maxLines:n=2,preferWide:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length<=t)return[e];let r=t*n;if(e.length>r){let t=r;for(;t>=0&&" "!==e.charAt(t);)t--;e=te(e.slice(0,t))}let o=i?t:Math.floor(e.length/n),a=-1,s=0,u=[];for(;s+o<e.length-1;){for(s+=o;s<=e.length-1&&!tn.has(e.charAt(s));)s++;let t="-"===e.charAt(s);u.push(e.slice(a+1,t?s+1:s)),a=s}return s<e.length-1&&u.push(e.slice(a+1)),u}let tr=e=>/[A-Z]/.test(e),to=e=>/[\s-]/.test(e);function ta(e,t){let n=0;for(let r=0;r<e.length;r+=1){var i;tr(null!==(i=e[r])&&void 0!==i?i:"")?n+=t:n+=1}return n}function ts(e,t,n){let i=[],r=0,o=!1;for(let t=0;t<e.length;t+=1){var a;if(to(null!==(a=e[t])&&void 0!==a?a:"")){o=!0;continue}o&&(i.push(e.slice(r,t)),r=t,o=!1)}if(r<e.length&&i.push(e.slice(r)),!i[0])return"";let s=[i[0]],u=ta(i[0],t);for(let e of i.slice(1))if((u+=ta(e,t))<=n)s.push(e);else break;return s.join("")}function tu(e){let{maxCostPerLine:t=55,maxLines:n=2,capitalCost:i=1.2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(ta(e,i)<=t)return[e];let o=[];for(let r=0;r<n;r+=1){let n=ts(e,i,t);if(n)o.push(n),e=e.slice(n.length);else break}if(o.reduce((e,t)=>e+t.length,0)<r.length){var a,s;o[o.length-1]=te(null===(s=o[o.length-1])||void 0===s?void 0:s.slice(0,(null===(a=o[o.length-1])||void 0===a?void 0:a.length)-1))}return o}let tl=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],tc=[...tl,"BG","CZ","DK","HU","PL","RO","SE"],td=[...tc,"IS","LI","NO"],tm=[...tc,"AE","AU","CA","CH","GB","GI","HK","JP","LI","MX","MY","NO","NZ","SG","US"],tf=["NZ","CK","NU","PN","TK"],tp=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function tg(e){return"AU"===e?"aud":"BR"===e?"brl":"CA"===e?"cad":"LI"===e||"CH"===e?"chf":"DK"===e||"FO"===e||"GL"===e?"dkk":tl.includes(e)?"eur":"GB"===e?"gbp":"MX"===e?"mxn":"BV"===e||"NO"===e||"SJ"===e?"nok":tf.includes(e)?"nzd":"PL"===e?"pln":"SE"===e?"sek":"US"===e?"usd":null}let th=e=>{var t,n;return(null===(n=e.draft_plans)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.currency)||"usd"};function tb(e){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(e.toUpperCase())}function t_(e){return tb(th(e))}function tv(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}let tS=e=>e/1e8;function ty(e,t){let{forceDecimals:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:n?2:e%100&&!tb(t)?2:0,maximumFractionDigits:"btc"===t?8:2}).format("btc"===t?tS(e):tb(t)?e:e/100);return"usd"===t&&"undefined"!=typeof window&&window._preloads&&window._preloads.country&&D.includes(window._preloads.country)&&(i="US".concat(i)),i}function tT(e){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e/100)}let tA=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function tE(e){if(!e)return null;if("string"!=typeof e)throw Error("Bad type for dollar string");let t=e.replace(/[^0-9.]/g,"");return t?Math.round(100*Number(t)):null}function tI(e){let t=e/100;return 100*(t=t<50?Math.ceil(t):5*Math.ceil(t/5))}function tN(e){let{quantity:t=1,coupon:n=null,noTrial:i=!1,trial_end_override:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i&&(e.trial_period_days||n&&n.trial_period_days||r&&r>Date.now()/1e3+120))return 0;let o=e.amount*t;return n&&n.percent_off?o=Math.round(o*(1-(n.percent_off_precise||n.percent_off)/100)):n&&n.amount_off&&(o=Math.max(0,o-n.amount_off)),o}function tk(e){let t,n,i,r,{interval:o="month",interval_count:a=eN,multiplier:s=1,min:u=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let r of e){if(i){if(i!=r.currency)continue}else i=r.currency;"month"==r.interval?(!t||r.amount<t)&&(t=r.amount):"year"==r.interval&&(!n||r.amount<n)&&(n=r.amount)}let l=t;if(!l&&n&&(l=n/12),!l)return null;switch(o){case"month":r=l;break;case"day":r=l/30;break;case"year":r=n||12*l;break;default:throw Error("bad interval: ".concat(o))}let c=r*a*s;return(c=100*Math.floor(c/100))<u?null:ty(c,i)}function tw(e){let t,{secondsCutoff:n,minutesCutoff:i,hoursCutoff:r,daysCutoff:o,weeksCutoff:a,long:s,noNumber:u,noWord:l,lessThanMinute:c,language:d="en",appendAgo:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{iCombo:f}=I18N.i(d);if((e=Math.round(e))<(n||60))return(t=Math.round(e),l)?t:u&&s?f("secondsToLargestUnit","second","seconds",t):u&&!s?f("secondsToLargestUnit","sec","secs",t):!s&&m?f("secondsToLargestUnit","%1 sec ago","%1 secs ago",t):s?m?f("secondsToLargestUnit","%1 second ago","%1 seconds ago",t):f("secondsToLargestUnit","%1 second","%1 seconds",t):f("secondsToLargestUnit","%1 sec","%1 secs",t);if(e<(i||3600)&&c&&!l&&!u)return(t=Math.round(e/60),!s&&m)?f("secondsToLargestUnit","%1 min ago","%1 mins ago",t):s?m?f("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",t):f("secondsToLargestUnit","less than %1 minute","less than %1 minutes",t):f("secondsToLargestUnit","less than %1 min","less than %1 mins",t);if(e<(i||3600))return(t=Math.round(e/60),l)?t:u&&s?f("secondsToLargestUnit","minute","minutes",t):u&&!s?f("secondsToLargestUnit","min","mins",t):!s&&m?f("secondsToLargestUnit","%1 min ago","%1 mins ago",t):s?m?f("secondsToLargestUnit","%1 minute ago","%1 minutes ago",t):f("secondsToLargestUnit","%1 minute","%1 minutes",t):f("secondsToLargestUnit","%1 min","%1 mins",t);if(e<(r||86400))return(t=Math.round(e/60/60),l)?t:u&&s?f("secondsToLargestUnit","hour","hours",t):u&&!s?f("secondsToLargestUnit","hr","hrs",t):!s&&m?f("secondsToLargestUnit","%1 hr ago","%1 hrs ago",t):s?m?f("secondsToLargestUnit","%1 hour ago","%1 hours ago",t):f("secondsToLargestUnit","%1 hour","%1 hours",t):f("secondsToLargestUnit","%1 hr","%1 hrs",t);if(e<(o||604800))return(t=Math.round(e/60/60/24),l)?t:u?f("secondsToLargestUnit","day","days",t):m?f("secondsToLargestUnit","%1 day ago","%1 days ago",t):f("secondsToLargestUnit","%1 day","%1 days",t);else if(e<(a||0x1e187e0))return(t=Math.round(e/60/60/24/7),l)?t:u&&s?f("secondsToLargestUnit","week","weeks",t):u&&!s?f("secondsToLargestUnit","wk","wks",t):!s&&m?f("secondsToLargestUnit","%1 wk ago","%1 wks ago",t):s?m?f("secondsToLargestUnit","%1 week ago","%1 weeks ago",t):f("secondsToLargestUnit","%1 week","%1 weeks",t):f("secondsToLargestUnit","%1 wk","%1 wks",t);return(t=Math.round(e/60/60/24/365.25),l)?t:u&&s?f("secondsToLargestUnit","year","years",t):u&&!s?f("secondsToLargestUnit","yr","yrs",t):!s&&m?f("secondsToLargestUnit","%1 yr ago","%1 yrs ago",t):s?m?f("secondsToLargestUnit","%1 year ago","%1 years ago",t):f("secondsToLargestUnit","%1 year","%1 years",t):f("secondsToLargestUnit","%1 yr","%1 yrs",t)}function tM(e){let{strict:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{strict:!1},n=Math.floor(e/60/60),i=Math.floor(e/60)%60,r=Math.floor(e%60);if(!t)return"".concat((n?"".concat(n,":"):"")+(n?"0".concat(i).slice(-2):i),":").concat("0".concat(r).slice(-2));let o=e=>e.toString().padStart(2,"0"),a=o(n),s=o(i),u=o(r);return"".concat(a,":").concat(s,":").concat(u)}function tC(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function tU(e){return"#"!==e[0]&&(e="#".concat(e)),e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,i)=>t+t+n+n+i+i)}function tP(e){let t;function n(e,t){"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)&&(e="100%");let n="string"==typeof e&&-1!=e.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}e=tU(e);let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=parseInt(null==i?void 0:i[1],16),o=parseInt(null==i?void 0:i[2],16),a=parseInt(null==i?void 0:i[3],16);r=n(r,255);let s=Math.max(r,o=n(o,255),a=n(a,255)),u=Math.min(r,o,a),l=s-u;if(s==u)t=0;else{switch(s){case r:t=(o-a)/l+6*(o<a);break;case o:t=(a-r)/l+2;break;case a:t=(r-o)/l+4}t/=6}return{h:t,s:0===s?0:l/s,v:s}}function tR(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(tU(e));return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function tL(e){let{r:t,g:n,b:i}=e;return"#".concat(t.toString(16).padStart(2,"0")).concat(n.toString(16).padStart(2,"0")).concat(i.toString(16).padStart(2,"0"))}function tD(e,t){let n="string"==typeof e?tR(e):e,i="string"==typeof t?tR(t):t;return u()((0,o._)((0,r._)({},n),{a:1}),(0,o._)((0,r._)({},i),{a:1}))}function tB(e){if(e)return"rgb(".concat(e.r," ").concat(e.g," ").concat(e.b).concat(void 0!==e.a?" / ".concat(e.a):"",")")}function tO(e){let t=tP(e);if(t.h>.11&&t.h<.56){if(t.s>.25&&t.v>.5&&(t.s<.6&&t.v>.8||t.s>.6))return!0}else if(t.s>.25&&t.v>.5)return!0;return!1}function tF(e,t){let n=tR(e);return n?(n.r=Math.max(0,Math.min(255,Math.round(n.r*t))),n.g=Math.max(0,Math.min(255,Math.round(n.g*t))),n.b=Math.max(0,Math.min(255,Math.round(n.b*t))),tL(n)):e}function tG(e){let{r:t,g:n,b:i}=tR(e);return t/=255,n/=255,i/=255,.2126*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))}function tx(e,t){let{name:n=e=>e,restWord:i="other",noNames:r="people",pluralizeRest:o=!0,showRestCount:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.map(n).filter(Boolean).slice(0,t);if(0===s.length)s.push(ne(e.length,r));else if(s.length<e.length){let t=e.length-s.length;s.push("".concat(a?t:""," ").concat(i).concat(t>1&&o?"s":""))}return tH(s)}function tH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:n}=I18N.i(t),i="";return 1===e.length?i=e[0]:2===e.length?i=e.join(" ".concat(n("and")," ")):e.length>2&&(i="".concat(e.slice(0,-1).join(", "),", ").concat(n("and")," ").concat(e.slice(-1))),i}function tW(e){let{minSignificantDigits:t=1,language:n="en"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<1e3)return e.toString();let{iTemplate:i}=I18N.i(n),r=e=>{let n=Math.max(t-1-Math.floor(Math.log10(e)),0);return Math.round(e*Math.pow(10,n))/Math.pow(10,n)};return 1e3>Math.round(e/1e3)?(e/=1e3,i(A(),r(e))):1e3>Math.round(e/1e6)?(e/=1e6,i(E(),r(e))):1e3>Math.round(e/1e9)?(e/=1e9,i(I(),r(e))):(e/=1e12,i(N(),r(e)))}let tK=e=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(e,1))/Math.LN10+1e-9))-1),tV=e=>"\uD83D\uDD25".repeat(tK(e));function tj(e,t,n){let i=(e||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(e=>e.trim()).filter(e=>e),r=[];for(;i.length>0;){let e=i.shift(),o=r[r.length-1];o&&o.length<n?r[r.length-1]+=t+e:r.push(e)}return r.join("\n")}function tY(){return Math.random().toString(36).replace(/^0\./,"")}function tz(e){return e.trim().split(/\s+/).filter(Boolean).map(e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+e.substr(1).toLowerCase()}).join(" ")}function tJ(e,t){var n;let i=t?e.substr(1).toLowerCase():e.substr(1);return(null===(n=e[0])||void 0===n?void 0:n.toUpperCase())+i}function tQ(e){let t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||"th")}function tZ(e){let{precision:t=0,language:n="en"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=Number(e.replace(/,/g,""))),new Intl.NumberFormat(n,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:t}).format(e)}function tq(e){return c()(e)?0:Math.pow(10,Math.floor(Math.log10(e)))||0}function tX(e,t){let{iString:n}=I18N.i(t);if(e<100)return n("tens");if(e<1e3)return n("hundreds");if(e<1e4)return n("thousands");if(e<1e5)return n("tens of thousands");if(e<1e6)return n("hundreds of thousands");else if(e<1e7)return n("millions");else if(e<1e8)return n("tens of millions");else if(e<1e9)return n("hundreds of millions");else if(e<1e10)return n("billions");else if(e<1e11)return n("tens of billions");else if(e<1e12)return n("hundreds of billions");else if(e<1e13)return n("trillions");else if(e<1e14)return n("tens of trillions");else if(e<1e15)return n("hundreds of trillions");return n("gagillions")}function t$(e){let{maximumFractionDigits:t=1,plusSignifier:n="+"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:t,roundingMode:"floor"});return e>=1e3?"".concat(i).concat(n):e>0?i:"0"}function t0(e){return e<=10?"#".concat(e):e<=25?"Top 25":e<=50?"Top 50":e<=100?"Top 100":""}function t1(e){if(e<1e3)return null;let t=1e3*Math.floor(e/1e3);return t>=1e6&&(t=1e5*Math.floor(e/1e5)),tZ(t)}function t2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iTemplate:n}=I18N.i(t),i=t1(e);return i?n(k(),i):null}function t5(e){let t;return e?(t=e<1e3?1:e<1e4?100:e<1e6?1e3:1e5,Math.floor(e/t)*t):0}function t6(e){let t=t5(e);return t&&0!==t?t$(t):null}function t3(e,t){let{iString:n}=I18N.i(t);return e&&0!==e?"".concat(t6(e)," ").concat(n(1===e?"subscriber":"subscribers")):n("See subscribers")}let t8=e=>1>Number(e)?"< 1%":"".concat(e,"%");function t4(e){let{rounded:t=!1,display:n=!1,decimalPlaces:i=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=100*parseFloat(e);return(i>=0&&(r=r.toFixed(i)),t&&(r=Math.floor(r)),n)?t8(Number(r)):r}function t9(e){var t;return(null==e?void 0:null===(t=e.postSchedules)||void 0===t?void 0:t.length)&&e.postSchedules[0]&&e.postSchedules[0].trigger_at?new Date(e.postSchedules[0].trigger_at):"scheduled_at"in e&&e&&e.scheduled_at?e.email_sent_at&&e.should_send_email?void 0:new Date(Math.max(new Date(e.scheduled_at).getTime(),Date.now())):void 0}function t7(e){if(0===e)return"zero";if(1===e)return"one";if(2===e)return"two";if(3===e)return"three";if(4===e)return"four";else if(5===e)return"five";else if(6===e)return"six";else if(7===e)return"seven";else if(8===e)return"eight";else if(9===e)return"nine";else if(10===e)return"ten";else if(11===e)return"eleven";else if(12===e)return"twelve";return tZ(e)}function ne(e,t){let n,i,{zero_fallback:r="",just_word:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.lastIndexOf(" ")+1,s=t.substr(a),u=t.substr(0,a);return(["person","people"].includes(s)?(n="".concat(u,"person"),i="".concat(u,"people")):["Person","People"].includes(s)?(n="".concat(u,"Person"),i="".concat(u,"People")):["reply","replies"].includes(s)?(n="".concat(u,"reply"),i="".concat(u,"replies")):["Reply","Replies"].includes(s)?(n="".concat(u,"Reply"),i="".concat(u,"Replies")):["entry","entries"].includes(s)?(n="".concat(u,"entry"),i="".concat(u,"entries")):["Entry","Entries"].includes(s)?(n="".concat(u,"Entry"),i="".concat(u,"Entries")):["match","matches"].includes(s)?(n="".concat(u,"match"),i="".concat(u,"matches")):["Match","Matches"].includes(s)?(n="".concat(u,"Match"),i="".concat(u,"Matches")):(n=t,i="".concat(t,"s")),o||(n="".concat(tZ(e)," ").concat(n),i="".concat(tZ(e)," ").concat(i)),!e&&r)?r:1==e?n:i}function nt(e){return"".concat(e,"’").concat("s"===e[e.length-1]?"":"s")}function nn(e){return e.replace(/\n/g,"\\n")}function ni(e){let{publication:t,post:n}=e;return!(!n||["adhoc_email","page"].includes(null==n?void 0:n.type))&&t.community_enabled&&n&&"none"!==n.write_comment_permissions}function nr(e){let{publication:t,post:n}=e;return!!(t.community_enabled&&n)}function no(e){let{publication:t,post:n}=e;return(null==n?void 0:n.type)!=="page"&&(null==n?void 0:n.type)!=="adhoc_email"&&(null==n?void 0:n.slug)!=="coming-soon"&&(n&&n.comment_count>0||ni({publication:t,post:n}))}let na=e=>!!(e&&e.is_contributor);function ns(e,t){let{bypassContentAccessCheck:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{userHasFullAccessToPost:r}=n(31377);return!t.is_geoblocked&&(!!(e&&t.publishedBylines&&t.publishedBylines.find(t=>t.id===e.id))||i||r(e,t))}function nu(e,t){let{bypassContentAccessCheck:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{userHasFullAccessToPost:r}=n(31377);return!!(e&&t.publishedBylines&&t.publishedBylines.find(t=>t.id===e.id))||i||r(e,t)}let nl=e=>"thread"===e.type&&"none"===e.write_comment_permissions;function nc(e,t,i){let{userHasFullAccessToPost:r,isFoundingAudience:o}=n(31377),a=e&&"id"in e?e.id:null;if(a&&t.publishedBylines&&t.publishedBylines.find(e=>e.id===a)||e&&e.is_contributor)return{canReply:!0};switch(t.write_comment_permissions||i.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:h.us.comments_disabled};case"only_paid":{if(o(t.audience)){let n=!!e&&r(e,t);return{canReply:n,repliesDisabledReason:n?void 0:h.us.founding_subscription_required}}let n=!!(e&&e.is_subscribed);return{canReply:n,repliesDisabledReason:n?void 0:h.us.paid_subscription_required}}}return{canReply:!1}}function nd(e,t,n){return nc((0,o._)((0,r._)({},e),{is_subscribed:!0}),t,n).canReply}function nm(e,t){var n;return e&&t&&(null===(n=e.dashboard_pubs)||void 0===n?void 0:n.find(e=>e.can_post_notes_as_primary_user&&e.primary_user_id===t.user_id))||null}function nf(e,t){return!!nm(e,t)}let np=(e,t)=>!!(t&&e&&e.id===t.user_id||nf(e,t));function ng(e,t,n){let{pub:i,post:r,parentComments:o}=n;if(!e||!t)return!1;if(e.id===t.user_id)return!0;if(t.publication_id&&t.post_id){if(nb(e,i))return!0}else if(nh({user:e,comment:t,parentComments:o}))return!0;else if(nf(e,t))return!0;return!1}function nh(e){var t;let{user:n,comment:i,parentComments:r}=e;if(!n||!i||i.publication_id&&i.post_id||n.id===i.user_id||n.is_contributor)return!1;let o=Number(null===(t=i.ancestor_path)||void 0===t?void 0:t.split(".").filter(Boolean)[0]);if(!o)return!1;let a=null==r?void 0:r.find(e=>(null==e?void 0:e.id)===o);return n.id===(null==a?void 0:a.user_id)}function nb(e,t){return!!e&&!!(e.id===(null==t?void 0:t.author_id)||(null==t?void 0:t.contributors.find(t=>t.user_id===e.id&&["admin","contributor"].includes(t.role))))}function n_(e,t){return!!e&&!!t&&e.id!==t.user_id}function nv(e){return!!e.plans}function nS(e){return!!(e.plans||e.has_subscribers)}function ny(e){let{type:t,coupon:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.plans&&"page"!==t?n?"only_free":"only_paid":"everyone"}function nT(e,t,n){if("thread"===t)switch(e){case"only_paid":case"founding":return["only_paid"];default:return["everyone"]}else switch(e){case"only_paid":case"founding":return["only_paid","none"];case"everyone":if(n)return["only_paid","everyone","none"];return["everyone","none"];default:return["none"]}}function nA(e,t,n,i){return null!=e&&nT(t,n,i).includes(e)}function nE(e,t,n,i){return nA(n.default_write_comment_permissions,e,t,i)?n.default_write_comment_permissions:nT(e,t,i)[0]}function nI(e,t,n){return"page"!==t&&("only_free"===n||!!e.default_post_publish_send_email)}function nN(e,t,n){return t&&"forever"===t.interval?0:Math.max(0,...[e.trial_end_override>Date.now()/1e3?e.trial_end_override:0,t&&"trial_period_days"in t&&t.trial_period_days&&Math.round((Date.now()+864e5*t.trial_period_days)/1e3),n&&n.trial_period_days&&Math.round((Date.now()+864e5*n.trial_period_days)/1e3)].filter(e=>e))}let nk=e=>eL[new Date(e).getMonth()];function nw(e){let{noBreakSpace:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t?"\xa0":" ",i=[];if(1==e.length&&e[0])i=[e[0]];else if(2==e.length&&e[0]&&e[1])i=[e[0],"".concat(n,"and").concat(n),e[1]];else if(e.length>=3)for(let t=0;t<e.length;t++)i.push(e[t]),t<e.length-2?i.push(",".concat(n)):t===e.length-2&&i.push(",".concat(n,"and").concat(n));return i.toString=()=>i.join(""),i}function nM(e){var t;let n=new Map;for(let t of e){let e=n.get(t);e=(e||0)+1,n.set(t,e)}return null===(t=Array.from(n).sort((e,t)=>t[1]-e[1])[0])||void 0===t?void 0:t[0]}function nC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:n}=I18N.i(t);return n("thread"===e.type?"View thread":"podcast"===e.type?"Listen":"Read")}function nU(e){let{isFinalWord:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"podcast"===e?"listening".concat(t?"":" to"):"video"===e?"watching":"reading"}function nP(e){return"newsletter"===e?"post":"podcast"===e?"episode":"adhoc_email"===e?"email":"video"===e?"video":e}function nR(e){return"".concat(e8(e.title||"Untitled post",115))}function nL(e){return 10475===e.publication_id&&18994===e.section_id}function nD(e){let{isDraft:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?((t?e.draftBylines:e.publishedBylines)||[]).filter(e=>e.name):[]}function nB(e,t){let{isDraft:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=nD(t,{isDraft:n});return i.length>0?tH(i.map(e=>e.name).filter(e=>null!==e)):null}let nO=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e);function nF(e){return"string"==typeof e?m()(e)||0:"number"==typeof e?e:0}function nG(e){let t=e=>new RegExp("^.*".concat(e));if(e){if(e.includes(p.W.CHECKOUT_URL))return e.replace(t(p.W.CHECKOUT_URL),"/subscribe?");if(e.includes(p.W.FOUNDING_CHECKOUT_URL))return e.replace(t(p.W.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");else if(e.includes(p.W.REFERRAL_URL))return e.replace(t(p.W.REFERRAL_URL),"/?showWelcome=true");else if(e.includes(p.W.UNSUBSCRIBE_URL))return e.replace(t(p.W.UNSUBSCRIBE_URL),"/account?");else if(e.includes(p.W.ONE_CLICK_UNSUBSCRIBE_URL))return e.replace(t(p.W.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");else if(/^.*%%.*%%/.test(e))return null}return e}function nx(e){let t=nG(e);if(t){let e=window.open(t,"_blank");(null==e?void 0:e.focus)&&e.focus()}}function nH(e){var t;return!e||["publish","account"].includes(null!==(t=(document.location&&document.location.pathname||"").split("/")[1])&&void 0!==t?t:"")}function nW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))," ").concat(L[n])}function nK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return 0;let[t,n]=e.split(" "),i=L.indexOf(n);return i<0?0:Number(t)*Math.pow(1024,i)}function nV(e){return/Googlebot/i.test(e||"")?"Google":/bingbot/i.test(e||"")||/BingPreview/i.test(e||"")?"Bing":/Slurp/i.test(e||"")?"Yahoo":/DuckDuckBot/i.test(e||"")?"DDG":!!/Baiduspider/i.test(e||"")&&"Baidu"}function nj(e,t,n,i){return e.name?e.name:(n&&n.author_id===i.id||t&&t.publishedBylines&&t.publishedBylines.find(e=>e.id===i.id))&&e.email||"Someone"}function nY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",{iTemplate:i}=I18N.i(n);return e&&e.description||t.hero_text||i(w(),t.name)}let nz=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"},{pubs:["thecoddlingmovie"],subscribe:new Date>new Date("2024-02-22T08:00:00Z")?"watch the film":"pre-order the film"}],nJ={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},nQ=nz.flatMap(e=>e.pubs);function nZ(e,t,n){let i=nz.find(t=>t.pubs.includes(null==e?void 0:e.subdomain))||null,o=i?(0,r._)({},nJ,i):null;return o?n(o):t()}function nq(e,t){let n=e?nz.find(t=>t.pubs.includes(e.subdomain)):void 0,i=n&&n[t];if(!i&&!(i=nJ[t]))throw Error("".concat(t," is not a valid subscription word"));return i}function nX(e){let t={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from("".concat(e)).map(e=>t[e]))}let n$=e=>{var t,n,i;return null==e?void 0:null===(i=e.plans)||void 0===i?void 0:null===(n=i.find(e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.founding}))||void 0===n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.short_description},n0=e=>"https://".concat("","checkout.opennode.com/").concat(e);function n1(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=0===e?0:Math.floor(Math.log(e)/Math.log(1024));return"".concat(+(e/Math.pow(1024,t)).toPrecision(3)).concat(["B","KB","MB","GB","TB"][t])}function n2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";if(!e)return null;let{iString:n}=I18N.i(t),i=n("Substack Network"),r=n("Substack App"),o=n("Substack Live Video");if(n6(e))return r;let a={"blog.substack.com":i,"library.substack.com":i,"substack-network":i,"on.substack.com":i,"open.substack.com":r,"post-end-cta":"Post Footer CTA","stories.substack.com":i,"substack-activity-items":r,"substack-app":r,"substack-boost":i,"substack-categories-discovery":r,"substack-categories-discovery-search":r,"substack-chat":r,"substack-comment-links":i,"substack-country-leaderboards":r,"substack-cross-posts":i,"substack-facepiles":i,"substack-feed-item":r,"substack-follow-recommendations":r,"substack-homepage-recommendations":i,"substack-ios-in-app-purchase":"Substack iOS In-App Purchase","substack-leaderboards":r,"substack-live-stream":o,"substack-media-player":r,"substack-mentions":i,"substack-notes":r,"substack-onboarding-discovery":r,"substack-paid-gift":r,"substack-post-embeds":i,"substack-post-reply-comment":i,"substack-presubscribe":r,"substack-publication-embeds":i,"substack-reader-discovery":r,"substack-reader-profile-discovery":r,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":n("Substack Network — Your Weekly Stack"),"substack-recommendation-email":i,"substack-recommendations-page":i,"substack-referral":i,"substack-signup-flow":i,"substack-spotify-integration":r,"substack-subscriber-referral":i,"substack-twitter-link":r,"substack-twitter-suggest":r,"substack-xp-post-template":i,"substack-xp-read-next":i,"substack.com":r,"t.co":"Twitter","www.substack.com":r,external:n("external form / api"),"googleads.g.doubleclick.net":"Google","score-upsell":n("Boost upsell to engaged subscribers"),"substack-boost-subscribe-page-upsell":n("Boost upsell on another publication")}[e];return a||(/(\b|\.)facebook\./.test(e)?"Facebook":/(\b|\.)instagram\./.test(e)?"Instagram":/(\b|\.)linkedin\./.test(e)?"LinkedIn":/(\b|\.)youtube\./.test(e)?"YouTube":/(\b|\.)duckduckgo\./.test(e)?"DuckDuckGo":/(\b|\.)medium\./.test(e)?"Medium":/(\b|\.)reddit\./.test(e)?"Reddit":/(\b|\.)bing\./.test(e)?"Bing":/(\b|\.)google\./.test(e)?"Google":(null==e?void 0:e.includes("."))?e:tz(e.replace(/-/g," ")))}function n5(e){return!!n6(e)||["substack-activity-items","substack-app","substack-categories-discovery","substack-categories-discovery-search","substack-chat","substack-country-leaderboards","substack-feed-item","substack-follow-recommendations","substack-ios-in-app-purchase","substack-leaderboards","substack-live-stream","substack-media-player","substack-notes","substack-onboarding-discovery","substack-paid-gift","substack-presubscribe","substack-reader-discovery","substack-reader-profile-discovery","substack-twitter-link","substack-twitter-suggest","substack.com"].includes(e)}function n6(e){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes","profile-page-notes","notes-inline-suggestions","subscribe_header_notes","notes-all-suggestions","notes-like-list","new-follower-email","media-player"].includes(e)}function n3(e){return!n5(e)&&/substack/i.test(e)}let n8=e=>/^\S+@\S+\.\S+$/.test(e),n4=e=>(e||"").replace(/\s+/g," "),n9={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function n7(e){return e?e<3456e3?"monthly":e<8121600?"quarterly":e<0xf53700?"semiannual":e<3456e4?"annual":e>3888e3?"lifetime":"other":"free"}function ie(e){return e&&("newspaper"===e.homepage_type||"magaziney"===e.homepage_type)}let it=35;function ii(e){let t,n,{isStatic:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.width>=e.height*(960/540)?n=Math.round((t=i?550:960)*(e.height/e.width)):e.width>=e.height?n=Math.round((t=i?550:728)*(e.height/e.width)):t=n=i?550:728,{height:n,width:t}}function ir(e){let t=n(98012).Z,i=t(e);return t.utc([i.year(),i.month(),i.date(),8,0,0]).toDate()}function io(){let{now:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n(98012).Z,i=e?t(e):t(),r=i.utc().startOf("day").add(5,"hour");return r.isBefore(i)&&(r=r.utc().add(1,"day")),r}function ia(e){let t=Math.round(e/60),n=Math.floor(t/60);return"".concat(n?"".concat(n,"HR "):"").concat(t%60,"M")}function is(e){let t=Math.round(e/60),n=Math.floor(t/60),i=t%60;return n?"".concat(n,"h ").concat(i,"m"):i?"".concat(i,"m"):"".concat(Math.round(e),"s")}function iu(e){let t=e.toLowerCase()[0];return["a","e","i","o","u"].includes(null!=t?t:"")}function il(e){return"".concat(e.toLowerCase().startsWith("uni watch")?"a":iu(e)?"an":"a"," ").concat(e)}function ic(e){return e.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)|0,0)}function id(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iContext:n}=I18N.i(t),i=n("thousandsAbbreviation","K");return Math.abs(e)>9999?"".concat(Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)).concat(i):(Math.sign(e)*Math.abs(e)).toString()}function im(e){var t,n,i,r,o;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:s}=I18N.i(a);return s((null===(t=e.metadata)||void 0===t?void 0:t.short_description_english)==="Stammleser"||(null===(n=e.metadata)||void 0===n?void 0:n.short_description_english)==="Gr\xfcndungsmitglied"?"Founding Member":(null===(i=e.metadata)||void 0===i?void 0:i.short_description_english)?null===(r=e.metadata)||void 0===r?void 0:r.short_description_english:(null===(o=e.metadata)||void 0===o?void 0:o.short_description)?e.metadata.short_description:"year"===e.interval?"Annual":"forever"===e.interval?"Founding Membership":"month"===e.interval&&3===e.interval_count?"Quarterly":"month"===e.interval&&6===e.interval_count?"Semiannually":"day"===e.interval?"Daily":"week"===e.interval?"Weekly":"Monthly")}let ip=function(){let{minLength:e,maxLength:t,minAlphaNumeric:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i=>{if(!i)return"Missing input";if(e&&i.length<e)return"Must be at least ".concat(e," characters long");if(t&&i.length>t)return"Must be at most ".concat(t," characters long");let r=RegExp("\\P{P}|`","gu"),o=i.match(r);if(!o||(null==o?void 0:o.length)<(null!=n?n:e))return"Must contain at least ".concat(null!=n?n:e," non-punctuation characters");let a=["`"],s=0;return(o.forEach(e=>{a.includes(e)&&(s+=1)}),o.length-s<(null!=n?n:e))?"Must contain at least ".concat(null!=n?n:e," non-punctuation characters"):null}};function ig(e,t){let n=S.env[e];if(void 0!==n)return n;if(void 0!==t)return t;throw Error("Missing required env var ".concat(e))}function ih(e){return new Promise((t,n)=>{let i=[];e.on("data",e=>i.push(e)),e.once("end",()=>t(y.concat(i))),e.once("error",n)})}function ib(e){let{maxWidth:t=55,maxLines:n=2,charWidth:i=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],o="",a=0;for(let s of e.split(" ")){let e=s.length*i;if(a+e<=t)o?(o+=" ".concat(s),a+=e+i):(o=s,a=e);else if(r.push(o),o=s,a=e,r.length===n)break}if(r.length===n&&o){let e=t-a;e>=3?o+="...":o="".concat(o.substring(0,o.length-(3-e)),"..."),r[n-1]=o}else o&&r.push(o);return r}function i_(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)}function iv(e){return(null==e?void 0:e.id)&&e.id.toString(36)||null}function iS(e){if(!e)return null;try{let t=parseInt(e,36);return isNaN(t)||t>ec?null:t}catch(e){return null}}function iy(e,t){return"string"!=typeof e?t[0]:t.includes(e)?e:t[0]}function iT(e){var t,n,i;let r=Array(null===(t=e[0])||void 0===t?void 0:t.length).fill(0);for(let t=0;t<e.length;t++)for(let o=0;o<(null==e?void 0:null===(n=e[t])||void 0===n?void 0:n.length);o++)r[o]+=(null==e?void 0:null===(i=e[t])||void 0===i?void 0:i[o])/e.length;return r}function iA(e){return[...e].map(e=>String.fromCodePoint(e.toUpperCase().codePointAt()+127397)).join("")}let iE=[{label:"Generic",value:"generic",url:"https://substack.com/content",message:void 0},{label:"Copyright Infringement",value:"copyright_infringement",url:"https://substack.com/dispute",message:"Warning: We have detected potential copyrighted content in your stream. Please remove any unauthorized content immediately to avoid additional enforcement actions from being taken against this stream or your account."},{label:"Explicit Content",value:"explicit_content",url:"https://substack.com/content",message:"Warning: We have detected a potential violation of Substack's Nudity/Porn/Erotica policy. As a reminder, Substack does not allow visual depictions of sexual acts. Please remove any violating content to avoid additional enforcement actions from being taken against this stream or your account."},{label:"Harmful and Illegal Activities",value:"harmful_and_illegal_activities",url:"https://substack.com/content",message:"We have detected a potential violation of Substack's Harmful & Illegal Activities policy. As a reminder, Substack does not allow content that promotes harmful or illegal activities, including material that advocates, threatens, or shows your causing harm to yourself, other people, or animals. Please remove any violating content to avoid additional enforcement actions from being taken against this stream or your account."}],iI=["US","GB","CA","FR","DE","ES","IT","NL","PL","GR","BE","IE","PT"];function iN(e,t,n){var i,r;if(!(0,g.G9)({pub:e}))return;let o=null;if("section"in t&&t.section?o=t.section:t.section_id&&(o=null===(i=e.sections)||void 0===i?void 0:i.find(e=>e.id===t.section_id)),!o&&t.draft_section_id&&n&&(o=null===(r=e.sections)||void 0===r?void 0:r.find(e=>e.id===t.draft_section_id)),!(!o||(0,g.wW)({post:t,pub:e})||o.name.includes("Pirate Wires")))return"".concat(o.name," // ").concat(t.title||t.draft_title)}function ik(e){var t,n,i;return{sessionStarted:null!==(t=e.sessionStarted)&&void 0!==t?t:e.sessionStart,landingReferrer:null!==(n=e.landingReferrer)&&void 0!==n?n:e.originalReferrer,landingUrl:null!==(i=e.landingUrl)&&void 0!==i?i:e.landingPage,landingSurface:e.landingSurface,landingSurfaceId:e.landingSurfaceId,landingPublicationId:e.landingPublicationId}}function iw(e){var t;let n;let i=+new Date,r=null!==(t=e.session_started_at)&&void 0!==t?t:e.sessionStarted;return null!=r&&"number"==typeof r&&(n=new Date(r<2e4?i-1e3*r:r)),{session_started_at:n,deep_link:e.deepLink,referrer:e.referrer,landing_referrer:e.landingReferrer,landing_url:e.landingUrl,landing_surface:e.landingSurface,landing_surface_id:e.landingSurfaceId,landing_publication_id:e.landingPublicationId}}}}]);