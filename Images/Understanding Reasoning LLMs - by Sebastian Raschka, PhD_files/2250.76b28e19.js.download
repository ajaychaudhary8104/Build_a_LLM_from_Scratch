"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["2250"],{9970:function(e,t,i){if(i.d(t,{Z:()=>s}),2787!=i.j)var r=i(7409);if(2787!=i.j)var n=i(99282);if(2787!=i.j)var l=i(98848);var a=i(16584),o=i(64515);let s=2787!=i.j?e=>{var{size:t=20,fill:i="var(--color-fg-primary)"}=e,s=(0,l._)(e,["size","fill"]);return(0,a.tZ)(o.l,(0,n._)((0,r._)({},s),{name:"PlayIconFilled",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:i,children:(0,a.tZ)("path",{stroke:"none",d:"M5.04688 18.5527C5.4375 18.5527 5.76953 18.3965 6.16016 18.1719L17.5469 11.5898C18.3574 11.1113 18.6406 10.7988 18.6406 10.2812C18.6406 9.76367 18.3574 9.45117 17.5469 8.98242L6.16016 2.39063C5.76953 2.16602 5.4375 2.01953 5.04688 2.01953C4.32422 2.01953 3.875 2.56641 3.875 3.41602V17.1465C3.875 17.9961 4.32422 18.5527 5.04688 18.5527Z"})}))}:null},25956:function(e,t,i){i.d(t,{I:()=>M,NX:()=>F,sT:()=>H});var r=i(7409),n=i(99282),l=i(98848),a=i(16584),o=i(30396),s=i(94184),d=i.n(s),c=i(22448),h=i(1548),u=i(3862),m=i(20888),p=i(96689),g=i(24658),Z=i(7523),v=i(8845),f=i(95441),b=i(60807),w=i(25530),_=i(49762),y=i(98422),B=i(15771),x=i(80026),I=i(19081),C=i(98012),X=i(63651),N=i(37175),T=i(24407);let H=e=>{let{theme:t,isMobile:i}=e;switch(t){case"full-width-image":return i?{height:620,width:350}:{height:880,width:1440};case"landscape-image":return i?{height:200,width:330}:{height:440,width:750};default:return i?{height:450,width:450}:{height:750,width:550}}},F=e=>{var t;return null===(t=e.postTags)||void 0===t?void 0:t.some(e=>"america-at-250"===e.slug)},M=e=>{var{postTheme:t,inThreadHead:i}=e,n=(0,l._)(e,["postTheme","inThreadHead"]);if(!t||i)return(0,a.tZ)(R,(0,r._)({},n));let o=q[t.header_variant];return o?(0,a.tZ)(o,(0,r._)({postTheme:t},n)):null},k=e=>{let{postTheme:t}=e,{setTheme:i}=(0,v.T)();(0,o.d4)(()=>{i(null!=t?t:null)},[])},R=e=>{let{post:t,title:i,pub:r}=e;return k({postTheme:null}),(0,a.BX)(I.tu,{paddingBottom:24,children:[(0,a.tZ)(Z.Z,{preset:"h4-sans-condensed",children:i}),(0,a.tZ)(j,{post:t,preset:"lg-preview-byline",pub:r})]})},W={black:"primary",white:"white",red:"accent"},Y=e=>{var t,i,r;let{postTheme:n,imageHeight:l,imageWidth:o,aspectRatio:s,post:c,pub:h}=e,u=null!==(t=n.post_preview_crop_gravity)&&void 0!==t?t:"auto",p=n.cover_image_caption?(0,N.toHtml)(JSON.stringify(n.cover_image_caption),!1,{postId:null!==(i=null==c?void 0:c.id)&&void 0!==i?i:null,pubId:null!==(r=null==h?void 0:h.id)&&void 0!==r?r:null}):null;return n.cover_image?(0,a.BX)("figure",{className:d()(T.Z.headerImageContainer,T.Z["".concat(n.header_variant,"-container")]),children:[(0,a.tZ)(m.e,{className:T.Z.headerImage,imageProps:{smartCrop:!0,gravity:u,height:l},maxWidth:null!=o?o:l/s,src:n.cover_image,style:{aspectRatio:s}}),p?(0,a.tZ)("figcaption",{children:(0,a.tZ)(I.gq,{justifyContent:"end",paddingTop:8,children:(0,a.tZ)(Z.Z,{dangerouslySetInnerHTML:{__html:p},preset:"caption"})})}):null]}):null},j=e=>{let{post:t,pub:i,fontColor:l="accent",showThemedMeta:o=!0,preset:s="article-byline",showFollowModule:d=!1}=e,c=(0,_.ZP)("thefp_enable_america_250"),m=F(t)&&c,g=(0,_.ZP)("thefp_enable_follow_module"),{iString:v,language:b}=(0,f.M1)(),{isMobile:w}=(0,y.v9)();return(0,a.tZ)(x.xu,{paddingTop:24,children:(0,a.tZ)(u.E,{className:T.Z.bylineWrapper,hideFaces:!0,hideMeta:!0,post:t,pub:i,renderBylines:e=>{let{publishedBylines:c,getLinkProps:u}=e;return(0,a.BX)(I.hs,{alignItems:"baseline",className:T.Z.bylineContainer,direction:{mobile:"row",desktop:"column"},gap:8,justifyContent:"space-between",wrap:"wrap",children:["article-byline"===s?(0,a.BX)(a.HY,{children:[(0,a.BX)(Z.Z,{color:l,preset:"article-byline",children:[v("By "),(0,a.tZ)(h.M,{array:c,formatter:e=>u(e).href?(0,a.tZ)(Z.Z,(0,n._)((0,r._)({as:"a"},u(e)),{color:l,native:!0,preset:"article-byline",children:e.name})):(0,a.tZ)(Z.Z,{as:"span",color:l,preset:"article-byline",children:e.name}),limit:4})]}),o&&(0,a.tZ)(I.hs,{direction:{mobile:"row",desktop:"column"},paddingTop:16*!w,children:(0,a.tZ)(Z.Z,{preset:"timestamp",children:(0,a.BX)(I.gq,{alignItems:"center",children:[(0,C.Z)(t.post_date).locale(b).format("MM.DD.YY"),m&&(0,a.tZ)("a",{href:"/america250",children:(0,a.tZ)("img",{className:T.Z.america250Logo,src:(0,X.zF4)("".concat((0,X.ZJn)(),"/img/thefp/a250_logo.png"),500,{quality:"auto:good",crop:"limit"})})}),t.section&&!m?(0,a.BX)(a.HY,{children:[" — ",(0,a.tZ)(Z.Z,{as:"a",href:(0,X.Ucy)(i,{section:t.section}),preset:"timestamp",children:t.section.name})]}):null]})})})]}):(0,a.BX)(Z.Z,{color:l,preset:s,children:[v("By "),(0,a.tZ)(h.M,{array:c,formatter:e=>u(e).href?(0,a.tZ)(Z.Z,(0,n._)((0,r._)({as:"a"},u(e)),{color:l,preset:s,children:e.name})):(0,a.tZ)(Z.Z,{as:"span",color:l,preset:s,children:e.name}),limit:4})," — ",(0,C.Z)(t.post_date).locale(b).format("MM.DD.YY")]}),g&&d&&(0,a.tZ)(p.Z,{post:t})]})}})})},q={"portrait-image":e=>{let{post:t,postTheme:i,title:r,subtitle:n,pub:l}=e,{isMobile:o}=(0,y.v9)(),{isPrint:s}=(0,w.v)(),d=(0,b.aF)();k({postTheme:i});let{height:c,width:h}=H({isMobile:o,theme:null==i?void 0:i.header_variant});return(0,a.BX)(a.HY,{children:[(0,a.BX)(I.hs,{className:T.Z.customThemeHeader,direction:o?"column":"row",children:[(0,a.BX)(I.tu,{className:T.Z.copy,justifyContent:"center",children:[(0,a.BX)(I.tu,{gap:16*!!o,children:[(0,a.tZ)(Z.Z,{preset:s?"h2-serif":o?"h1-text":"h1-serif",children:null!=r?r:t.is_draft?t.draft_title:t.title}),(0,a.tZ)(x.xu,{paddingTop:24*!o,children:(0,a.tZ)(Z.Z,{preset:"d1-sans-regular",children:n})})]}),(0,a.tZ)(I.tu,{gap:16,children:(0,a.tZ)(j,{post:t,pub:l,showFollowModule:!0})})]}),(0,a.tZ)(Y,{aspectRatio:h/c,imageHeight:c,imageWidth:h,post:t,postTheme:i,pub:l})]}),(0,a.tZ)(g.R,{post:t,pub:l,user:d,variant:"newsletter-post"})]})},"landscape-image":e=>{let{post:t,postTheme:i,pub:r,title:n,subtitle:l}=e,{isMobile:o}=(0,y.v9)();k({postTheme:i});let s=(0,b.aF)(),{isPrint:d}=(0,w.v)(),{width:c,height:h}=H({isMobile:o,theme:i.header_variant}),u=c/h,m=(0,_.ZP)("thefp_enable_america_250"),p=F(t)&&m;return(0,a.BX)(a.HY,{children:[(0,a.BX)(I.tu,{className:T.Z.customThemeHeader,children:[(0,a.BX)(I.gq,{justifyContent:"space-between",children:[(0,a.tZ)(Z.Z,{preset:d?"h2-serif":"h1-serif",children:n}),p&&!o&&(0,a.tZ)("a",{href:"/america250",children:(0,a.tZ)(x.xu,{className:T.Z.eagleStampContainer,children:(0,a.tZ)("img",{className:T.Z.eagleStampImage,src:(0,X.zF4)("".concat((0,X.ZJn)(),"/img/thefp/eagle_stamp.png"),500,{quality:"auto:good",crop:"limit"})})})})]}),o&&(0,a.tZ)(Z.Z,{preset:"d1-sans-regular",children:l}),(0,a.BX)(I.hs,{direction:o?"column-reverse":"row",gap:o?8:40,children:[(0,a.tZ)(Y,{aspectRatio:u,imageHeight:c/u,imageWidth:c,post:t,postTheme:i,pub:r}),(0,a.BX)(I.tu,{className:T.Z.copy,flex:"fill",justifyContent:"space-between",paddingBottom:12,children:[!o&&(0,a.tZ)(Z.Z,{preset:"d1-sans-regular",children:l}),(0,a.tZ)(I.tu,{gap:16,children:(0,a.tZ)(j,{post:t,pub:r,showFollowModule:!0})})]})]})]}),(0,a.tZ)(g.R,{post:t,pub:r,user:s,variant:"newsletter-post"})]})},"full-width-image":e=>{var t,i,r;let{post:n,pub:l,postTheme:o,title:s,subtitle:d}=e,{isMobile:c}=(0,y.v9)();k({postTheme:o});let{isPrint:h}=(0,w.v)(),{language:u}=(0,f.M1)(),m=(0,b.aF)(),{width:p}=H({isMobile:c,theme:o.header_variant}),v=null===(t=o.variant_config)||void 0===t?void 0:t.fullWidthImage,_=(null==v?void 0:v.hideOverlay)||!1,B=(null==v?void 0:v.hideSectionLink)||!1,N=null!==(r=W[null!==(i=null==v?void 0:v.textColor)&&void 0!==i?i:"white"])&&void 0!==r?r:"white";return(0,a.BX)(a.HY,{children:[(0,a.tZ)(I.hs,{alignItems:"center",className:T.Z.fullWidthImageHeader,direction:"column",justifyContent:c?"end":"center",style:{backgroundImage:"".concat(_?"":"linear-gradient(rgba(22, 22, 19, 0.65), rgba(22, 22, 19, 0.65))").concat(o.cover_image?"".concat(_?"":", ","url(").concat((0,X.zF4)(o.cover_image,2*p,{quality:"auto:best",smartCrop:!0}),")"):"")},children:(0,a.BX)(I.tu,{alignItems:"center",className:T.Z.fullWidthHeaderContent,justifyContent:c?"start":"center",paddingX:c?32:40,children:[(0,a.tZ)(I.hs,{direction:{mobile:"row",desktop:"column"},paddingBottom:c?56:64,paddingTop:16*!c,children:(0,a.BX)(Z.Z,{color:N,preset:"timestamp",children:[(0,C.Z)(n.post_date).locale(u).format("MM.DD.YY"),n.section&&!B?(0,a.BX)(a.HY,{children:[" — ",(0,a.tZ)(Z.Z,{as:"a",color:N,href:(0,X.Ucy)(l,{section:n.section}),preset:"timestamp",children:n.section.name})]}):null]})}),(0,a.BX)(I.tu,{alignItems:"center",gap:24,children:[(0,a.tZ)(Z.Z,{color:N,preset:h?"h3-condensed":"h1-sans",children:s}),(0,a.tZ)(x.xu,{className:T.Z.fullWidthHeaderSubtitle,children:(0,a.tZ)(Z.Z,{color:N,preset:"d1-serif",children:d})})]}),(0,a.tZ)(I.tu,{alignItems:"center",paddingTop:c?32:120,children:(0,a.tZ)(j,{fontColor:N,post:n,pub:l,showThemedMeta:!1})})]})}),(0,a.tZ)(g.R,{post:n,pub:l,user:m,variant:"newsletter-post"})]})},title_and_image_only:e=>{let{post:t,pub:i,postTheme:r,title:n,subtitle:l}=e,{isMobile:o}=(0,y.v9)();k({postTheme:r});let s=(0,b.aF)(),{iString:h}=(0,f.M1)(),u=(null==s?void 0:s.is_contributor)&&(null==t?void 0:t.id)?(0,a.tZ)(B.zx,{href:(0,X.ANx)(i,t.id,{params:{back:document.location.href}}),leading:(0,a.tZ)(c.Z,{size:20}),localNavigation:!1,priority:"secondary",children:h("Edit")}):null;return(0,a.tZ)("div",{className:T.Z.titleAndImageContainer,children:(0,a.BX)(I.tu,{gap:o?24:40,paddingBottom:64,children:[(0,a.tZ)("div",{className:d()(T.Z.titleAndImageHeader,{[T.Z.noImage]:!r.cover_image}),children:o?(0,a.BX)(I.tu,{gap:24,children:[u&&(0,a.tZ)(I.gq,{alignSelf:"start",children:u}),(0,a.tZ)(Z.Z,{preset:"h1-serif",children:n}),r.cover_image&&(0,a.tZ)(I.gq,{children:(0,a.tZ)(m.e,{className:T.Z.image,imageIsFixedWidth:!0,maxWidth:540,src:r.cover_image,useRetinaSizing:!0})}),l&&(0,a.tZ)(Z.Z,{preset:"d1-sans-regular",children:l})]}):(0,a.BX)(a.HY,{children:[(0,a.BX)(I.tu,{children:[u&&(0,a.tZ)(I.gq,{alignSelf:"start",children:u}),(0,a.tZ)(Z.Z,{preset:"h1-serif",children:n}),(0,a.tZ)(I.tu,{gap:24,children:l&&(0,a.tZ)(Z.Z,{preset:"d1-sans-regular",children:l})})]}),r.cover_image&&(0,a.tZ)(I.gq,{justifyContent:"end",children:(0,a.tZ)(m.e,{imageIsFixedWidth:!0,maxWidth:540,src:r.cover_image,useRetinaSizing:!0})})]})}),(0,a.tZ)("div",{className:T.Z.thickRule})]})})}}},33224:function(e,t,i){i.d(t,{lF:()=>l,ld:()=>o,up:()=>r,xm:()=>n}),i(94654);let r=e=>{let{finishedSelection:t,transcriptionRows:i}=e,r=i[t.begin.rowIndex],n=i[t.finish.rowIndex],l=r.words[t.begin.wordIndex],a=n.words[t.finish.wordIndex];return{start:l.start,end:a.end}},n=e=>{let{startRow:t,endRow:i,startOffset:r,endOffset:n,startNodeText:l,endNodeText:a}=e,o=0!==r&&" "!==l[r-1]&&" "!==l[r],s=l.slice(0,r).trim(),d=0===s.length?0:s.split(/\s+/).length-+!!o,c=t.words[d],h=a.slice(0,n).trim().split(/\s+/).length,u=i.words[h-1];return{start:c.start,end:u.end}},l=e=>{let{selectStart:t,selectEnd:i,alignedRows:r}=e,n=e=>{var t;let{rowIndex:i,offset:n,text:l}=e,a=r[i];a||console.error("Row at index",i,"does not exist");let o=l.slice(0,n).trim().split(/\s+/).length;(o<1||o>a.words.length)&&console.error("Calculated number of words",o,"is out of bounds");let s=a.words[o-1];return"number"!=typeof s.originalIndex&&console.error("Word's original index is not a number",s.originalIndex),null!==(t=null==s?void 0:s.originalIndex)&&void 0!==t?t:0};return[n(t),n(i)]},a=e=>e<.5?2*e*e:-1+(4-2*e)*e,o=e=>{let{virtualizedListRef:t,start:i,end:r,duration:n}=e,l=performance.now(),o=e=>{let s=e-l,d=a(Math.min(s/n,1));t.current&&(t.current.scrollTo(i+(r-i)*d),s<n&&requestAnimationFrame(o))};requestAnimationFrame(o)}},69891:function(e,t,i){i.d(t,{n:()=>g});var r=i(7409),n=i(99282),l=i(98848),a=i(16584),o=i(49550),s=i(23279),d=i.n(s),c=i(98661),h=i(95441),u=i(15771),m=i(80026),p=i(20392);function g(e){var{tabs:t,value:i,onChange:s,ariaLabel:u}=e,g=(0,l._)(e,["tabs","value","onChange","ariaLabel"]);let{iString:v}=(0,h.M1)(),b=(0,c.useRef)(null),w=(0,c.useRef)(null),_=t.findIndex(e=>e.value===i);return(0,c.useLayoutEffect)(()=>{let e=e=>{let t=w.current,i=b.current;if(!i||!t||e<0)return;let r=i.getElementsByClassName(p.Z.tab)[e];if(!r)return;let n=r.getBoundingClientRect(),l=i.getBoundingClientRect();requestAnimationFrame(()=>{t.style.setProperty("--highlight-width","".concat(n.width,"px")),t.style.setProperty("--highlight-x","".concat(n.left-l.left,"px"))})},t=()=>e(_);t();let i=b.current,r=new ResizeObserver(d()(t,200));return i&&r.observe(i),()=>{r.disconnect()}},[_,t]),(0,a.tZ)(o.O.Group,{manual:!0,selectedIndex:-1===_?0:_,onChange:e=>{var i;let r=null===(i=t[e])||void 0===i?void 0:i.value;void 0!==r&&s(r)},children:(0,a.tZ)(o.O.List,(0,n._)((0,r._)({as:m.X2,className:p.Z.container,height:40,position:"relative",ref:b,"aria-label":null!=u?u:"".concat(v("Tabs"))},g),{children:()=>(0,a.BX)(a.HY,{children:[t.map((e,t)=>(0,a.tZ)(Z,{tab:e,children:e.label},e.value)),(0,a.tZ)(f,{ref:w})]})}))})}function Z(e){let{tab:t,children:i}=e;return(0,a.tZ)(o.O,{as:c.Fragment,children:()=>(0,a.BX)(u.kG,{position:"relative",className:p.Z.tab,radius:"xs",resetCss:!0,gap:6,showFocus:!0,animate:!0,userSelect:"none",children:[t.leadingIcon,(0,a.tZ)(v,{children:i}),t.trailingIcon]})})}let v=e=>{let{children:t}=e;return(0,a.tZ)(m.xv.B4,{as:"span",weight:"semibold",size:14,ellipsis:!0,animate:!0,children:t})},f=(0,m.zo)({position:"absolute",className:p.Z.highlight})},21292:function(e,t,i){i.d(t,{e:()=>a,f:()=>l});var r=i(6070),n=i(60308);let l=e=>{let{pub:t,section:i}=e;return(0,r.HD)({pub:t})&&!!i&&"the-free-press-live"===i.slug},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.uXE)({for_pub:e.subdomain,justTrying:!0,redirect:(0,n.W1P)(e,t)})}}}]);